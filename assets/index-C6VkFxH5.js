(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(s){if(s.ep)return;s.ep=!0;const a=r(s);fetch(s.href,a)}})();const cr=!1;var Vr=Array.isArray,Un=Array.prototype.indexOf,wt=Array.prototype.includes,tr=Array.from,Vn=Object.defineProperty,Dt=Object.getOwnPropertyDescriptor,Zn=Object.getOwnPropertyDescriptors,Gn=Object.prototype,Kn=Array.prototype,Zr=Object.getPrototypeOf,Sr=Object.isExtensible;function Yn(e){return typeof e=="function"}const $e=()=>{};function Xn(e){for(var t=0;t<e.length;t++)e[t]()}function Gr(){var e,t,r=new Promise((n,s)=>{e=n,t=s});return{promise:r,resolve:e,reject:t}}function Kr(e,t){if(Array.isArray(e))return e;if(!(Symbol.iterator in e))return Array.from(e);const r=[];for(const n of e)if(r.push(n),r.length===t)break;return r}const ce=2,Bt=4,rr=8,Yr=1<<24,Ke=16,Ie=32,pt=64,Xr=128,Ee=512,ie=1024,ue=2048,Re=4096,ye=8192,et=16384,Ht=32768,yt=65536,zr=1<<17,Qr=1<<18,St=1<<19,Qn=1<<20,Ve=1<<25,ut=65536,ur=1<<21,br=1<<22,tt=1<<23,Xt=Symbol("$state"),Jn=Symbol(""),at=new class extends Error{name="StaleReactionError";message="The reaction that called `getAbortSignal()` was re-run or destroyed"};function $n(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function es(e,t,r){throw new Error("https://svelte.dev/e/each_key_duplicate")}function ts(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function rs(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function ns(e){throw new Error("https://svelte.dev/e/effect_orphan")}function ss(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function as(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function is(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function ls(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}function os(){throw new Error("https://svelte.dev/e/svelte_boundary_reset_onerror")}const fs=1,cs=2,Jr=4,us=8,vs=16,ds=1,hs=2,oe=Symbol(),$r="http://www.w3.org/1999/xhtml";function ps(){console.warn("https://svelte.dev/e/svelte_boundary_reset_noop")}function en(e){return e===this.v}function _s(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function tn(e){return!_s(e,this.v)}let gs=!1,Ae=null;function xt(e){Ae=e}function He(e,t=!1,r){Ae={p:Ae,i:!1,c:null,e:null,s:e,x:null,l:null}}function je(e){var t=Ae,r=t.e;if(r!==null){t.e=null;for(var n of r)yn(n)}return t.i=!0,Ae=t.p,{}}function rn(){return!0}let it=[];function nn(){var e=it;it=[],Xn(e)}function Be(e){if(it.length===0&&!Nt){var t=it;queueMicrotask(()=>{t===it&&nn()})}it.push(e)}function ms(){for(;it.length>0;)nn()}function sn(e){var t=Z;if(t===null)return L.f|=tt,e;if((t.f&Ht)===0&&(t.f&Bt)===0)throw e;Ct(e,t)}function Ct(e,t){for(;t!==null;){if((t.f&Xr)!==0){if((t.f&Ht)===0)throw e;try{t.b.error(e);return}catch(r){e=r}}t=t.parent}throw e}const ks=-7169;function re(e,t){e.f=e.f&ks|t}function wr(e){(e.f&Ee)!==0||e.deps===null?re(e,ie):re(e,Re)}function an(e){if(e!==null)for(const t of e)(t.f&ce)===0||(t.f&ut)===0||(t.f^=ut,an(t.deps))}function ln(e,t,r){(e.f&ue)!==0?t.add(e):(e.f&Re)!==0&&r.add(e),an(e.deps),re(e,ie)}const Zt=new Set;let W=null,vr=null,Pe=null,_e=[],nr=null,dr=!1,Nt=!1;class rt{committed=!1;current=new Map;previous=new Map;#t=new Set;#l=new Set;#e=0;#a=0;#i=null;#n=new Set;#r=new Set;#s=new Map;is_fork=!1;#o=!1;is_deferred(){return this.is_fork||this.#a>0}skip_effect(t){this.#s.has(t)||this.#s.set(t,{d:[],m:[]})}unskip_effect(t){var r=this.#s.get(t);if(r){this.#s.delete(t);for(var n of r.d)re(n,ue),Me(n);for(n of r.m)re(n,Re),Me(n)}}process(t){_e=[],this.apply();var r=[],n=[];for(const s of t)this.#f(s,r,n);if(this.is_deferred()){this.#c(n),this.#c(r);for(const[s,a]of this.#s)un(s,a)}else{for(const s of this.#t)s();this.#t.clear(),this.#e===0&&this.#u(),vr=this,W=null,Pr(n),Pr(r),vr=null,this.#i?.resolve()}Pe=null}#f(t,r,n){t.f^=ie;for(var s=t.first,a=null;s!==null;){var i=s.f,l=(i&(Ie|pt))!==0,o=l&&(i&ie)!==0,c=o||(i&ye)!==0||this.#s.has(s);if(!c&&s.fn!==null){l?s.f^=ie:a!==null&&(i&(Bt|rr|Yr))!==0?a.b.defer_effect(s):(i&Bt)!==0?r.push(s):Ut(s)&&((i&Ke)!==0&&this.#r.add(s),At(s));var u=s.first;if(u!==null){s=u;continue}}var d=s.parent;for(s=s.next;s===null&&d!==null;)d===a&&(a=null),s=d.next,d=d.parent}}#c(t){for(var r=0;r<t.length;r+=1)ln(t[r],this.#n,this.#r)}capture(t,r){r!==oe&&!this.previous.has(t)&&this.previous.set(t,r),(t.f&tt)===0&&(this.current.set(t,t.v),Pe?.set(t,t.v))}activate(){W=this,this.apply()}deactivate(){W===this&&(W=null,Pe=null)}flush(){if(this.activate(),_e.length>0){if(on(),W!==null&&W!==this)return}else this.#e===0&&this.process([]);this.deactivate()}discard(){for(const t of this.#l)t(this);this.#l.clear()}#u(){if(Zt.size>1){this.previous.clear();var t=Pe,r=!0;for(const s of Zt){if(s===this){r=!1;continue}const a=[];for(const[l,o]of this.current){if(s.current.has(l))if(r&&o!==s.current.get(l))s.current.set(l,o);else continue;a.push(l)}if(a.length===0)continue;const i=[...s.current.keys()].filter(l=>!this.current.has(l));if(i.length>0){var n=_e;_e=[];const l=new Set,o=new Map;for(const c of a)fn(c,i,l,o);if(_e.length>0){W=s,s.apply();for(const c of _e)s.#f(c,[],[]);s.deactivate()}_e=n}}W=null,Pe=t}this.committed=!0,Zt.delete(this)}increment(t){this.#e+=1,t&&(this.#a+=1)}decrement(t){this.#e-=1,t&&(this.#a-=1),!this.#o&&(this.#o=!0,Be(()=>{this.#o=!1,this.is_deferred()?_e.length>0&&this.flush():this.revive()}))}revive(){for(const t of this.#n)this.#r.delete(t),re(t,ue),Me(t);for(const t of this.#r)re(t,Re),Me(t);this.flush()}oncommit(t){this.#t.add(t)}ondiscard(t){this.#l.add(t)}settled(){return(this.#i??=Gr()).promise}static ensure(){if(W===null){const t=W=new rt;Zt.add(W),Nt||Be(()=>{W===t&&t.flush()})}return W}apply(){}}function bs(e){var t=Nt;Nt=!0;try{for(var r;;){if(ms(),_e.length===0&&(W?.flush(),_e.length===0))return nr=null,r;on()}}finally{Nt=t}}function on(){dr=!0;var e=null;try{for(var t=0;_e.length>0;){var r=rt.ensure();if(t++>1e3){var n,s;ws()}r.process(_e),nt.clear()}}finally{_e=[],dr=!1,nr=null}}function ws(){try{ss()}catch(e){Ct(e,nr)}}let We=null;function Pr(e){var t=e.length;if(t!==0){for(var r=0;r<t;){var n=e[r++];if((n.f&(et|ye))===0&&Ut(n)&&(We=new Set,At(n),n.deps===null&&n.first===null&&n.nodes===null&&n.teardown===null&&n.ac===null&&Cn(n),We?.size>0)){nt.clear();for(const s of We){if((s.f&(et|ye))!==0)continue;const a=[s];let i=s.parent;for(;i!==null;)We.has(i)&&(We.delete(i),a.push(i)),i=i.parent;for(let l=a.length-1;l>=0;l--){const o=a[l];(o.f&(et|ye))===0&&At(o)}}We.clear()}}We=null}}function fn(e,t,r,n){if(!r.has(e)&&(r.add(e),e.reactions!==null))for(const s of e.reactions){const a=s.f;(a&ce)!==0?fn(s,t,r,n):(a&(br|Ke))!==0&&(a&ue)===0&&cn(s,t,n)&&(re(s,ue),Me(s))}}function cn(e,t,r){const n=r.get(e);if(n!==void 0)return n;if(e.deps!==null)for(const s of e.deps){if(wt.call(t,s))return!0;if((s.f&ce)!==0&&cn(s,t,r))return r.set(s,!0),!0}return r.set(e,!1),!1}function Me(e){for(var t=nr=e;t.parent!==null;){t=t.parent;var r=t.f;if(dr&&t===Z&&(r&Ke)!==0&&(r&Qr)===0)return;if((r&(pt|Ie))!==0){if((r&ie)===0)return;t.f^=ie}}_e.push(t)}function un(e,t){if(!((e.f&Ie)!==0&&(e.f&ie)!==0)){(e.f&ue)!==0?t.d.push(e):(e.f&Re)!==0&&t.m.push(e),re(e,ie);for(var r=e.first;r!==null;)un(r,t),r=r.next}}function ys(e){let t=0,r=vt(0),n;return()=>{Cr()&&(f(r),sr(()=>(t===0&&(n=ar(()=>e(()=>qt(r)))),t+=1,()=>{Be(()=>{t-=1,t===0&&(n?.(),n=void 0,qt(r))})})))}}var xs=yt|St|Xr;function Cs(e,t,r){new Es(e,t,r)}class Es{parent;is_pending=!1;#t;#l=null;#e;#a;#i;#n=null;#r=null;#s=null;#o=null;#f=null;#c=0;#u=0;#h=!1;#d=!1;#p=new Set;#_=new Set;#v=null;#w=ys(()=>(this.#v=vt(this.#c),()=>{this.#v=null}));constructor(t,r,n){this.#t=t,this.#e=r,this.#a=n,this.parent=Z.b,this.is_pending=!!this.#e.pending,this.#i=Er(()=>{Z.b=this;{var s=this.#k();try{this.#n=Ce(()=>n(s))}catch(a){this.error(a)}this.#u>0?this.#m():this.is_pending=!1}return()=>{this.#f?.remove()}},xs)}#y(){try{this.#n=Ce(()=>this.#a(this.#t))}catch(t){this.error(t)}}#x(){const t=this.#e.pending;t&&(this.#r=Ce(()=>t(this.#t)),Be(()=>{var r=this.#k();this.#n=this.#g(()=>(rt.ensure(),Ce(()=>this.#a(r)))),this.#u>0?this.#m():(ot(this.#r,()=>{this.#r=null}),this.is_pending=!1)}))}#k(){var t=this.#t;return this.is_pending&&(this.#f=st(),this.#t.before(this.#f),t=this.#f),t}defer_effect(t){ln(t,this.#p,this.#_)}is_rendered(){return!this.is_pending&&(!this.parent||this.parent.is_rendered())}has_pending_snippet(){return!!this.#e.pending}#g(t){var r=Z,n=L,s=Ae;Fe(this.#i),Se(this.#i),xt(this.#i.ctx);try{return t()}catch(a){return sn(a),null}finally{Fe(r),Se(n),xt(s)}}#m(){const t=this.#e.pending;this.#n!==null&&(this.#o=document.createDocumentFragment(),this.#o.append(this.#f),An(this.#n,this.#o)),this.#r===null&&(this.#r=Ce(()=>t(this.#t)))}#b(t){if(!this.has_pending_snippet()){this.parent&&this.parent.#b(t);return}if(this.#u+=t,this.#u===0){this.is_pending=!1;for(const r of this.#p)re(r,ue),Me(r);for(const r of this.#_)re(r,Re),Me(r);this.#p.clear(),this.#_.clear(),this.#r&&ot(this.#r,()=>{this.#r=null}),this.#o&&(this.#t.before(this.#o),this.#o=null)}}update_pending_count(t){this.#b(t),this.#c+=t,!(!this.#v||this.#h)&&(this.#h=!0,Be(()=>{this.#h=!1,this.#v&&Et(this.#v,this.#c)}))}get_effect_pending(){return this.#w(),f(this.#v)}error(t){var r=this.#e.onerror;let n=this.#e.failed;if(this.#d||!r&&!n)throw t;this.#n&&(me(this.#n),this.#n=null),this.#r&&(me(this.#r),this.#r=null),this.#s&&(me(this.#s),this.#s=null);var s=!1,a=!1;const i=()=>{if(s){ps();return}s=!0,a&&os(),rt.ensure(),this.#c=0,this.#s!==null&&ot(this.#s,()=>{this.#s=null}),this.is_pending=this.has_pending_snippet(),this.#n=this.#g(()=>(this.#d=!1,Ce(()=>this.#a(this.#t)))),this.#u>0?this.#m():this.is_pending=!1};Be(()=>{try{a=!0,r?.(t,i),a=!1}catch(l){Ct(l,this.#i&&this.#i.parent)}n&&(this.#s=this.#g(()=>{rt.ensure(),this.#d=!0;try{return Ce(()=>{n(this.#t,()=>t,()=>i)})}catch(l){return Ct(l,this.#i.parent),null}finally{this.#d=!1}}))})}}function Ts(e,t,r,n){const s=yr;var a=e.filter(v=>!v.settled);if(r.length===0&&a.length===0){n(t.map(s));return}var i=W,l=Z,o=As(),c=a.length===1?a[0].promise:a.length>1?Promise.all(a.map(v=>v.promise)):null;function u(v){o();try{n(v)}catch(h){(l.f&et)===0&&Ct(h,l)}i?.deactivate(),hr()}if(r.length===0){c.then(()=>u(t.map(s)));return}function d(){o(),Promise.all(r.map(v=>Ss(v))).then(v=>u([...t.map(s),...v])).catch(v=>Ct(v,l))}c?c.then(d):d()}function As(){var e=Z,t=L,r=Ae,n=W;return function(a=!0){Fe(e),Se(t),xt(r),a&&n?.activate()}}function hr(){Fe(null),Se(null),xt(null)}function yr(e){var t=ce|ue,r=L!==null&&(L.f&ce)!==0?L:null;return Z!==null&&(Z.f|=St),{ctx:Ae,deps:null,effects:null,equals:en,f:t,fn:e,reactions:null,rv:0,v:oe,wv:0,parent:r??Z,ac:null}}function Ss(e,t,r){let n=Z;n===null&&$n();var s=n.b,a=void 0,i=vt(oe),l=!L,o=new Map;return Ws(()=>{var c=Gr();a=c.promise;try{Promise.resolve(e()).then(c.resolve,c.reject).then(()=>{u===W&&u.committed&&u.deactivate(),hr()})}catch(h){c.reject(h),hr()}var u=W;if(l){var d=s.is_rendered();s.update_pending_count(1),u.increment(d),o.get(u)?.reject(at),o.delete(u),o.set(u,c)}const v=(h,g=void 0)=>{if(u.activate(),g)g!==at&&(i.f|=tt,Et(i,g));else{(i.f&tt)!==0&&(i.f^=tt),Et(i,h);for(const[b,_]of o){if(o.delete(b),b===u)break;_.reject(at)}}l&&(s.update_pending_count(-1),u.decrement(d))};c.promise.then(v,h=>v(null,h||"unknown"))}),wn(()=>{for(const c of o.values())c.reject(at)}),new Promise(c=>{function u(d){function v(){d===a?c(i):u(a)}d.then(v,v)}u(a)})}function X(e){const t=yr(e);return Sn(t),t}function zs(e){const t=yr(e);return t.equals=tn,t}function Ps(e){var t=e.effects;if(t!==null){e.effects=null;for(var r=0;r<t.length;r+=1)me(t[r])}}function Ms(e){for(var t=e.parent;t!==null;){if((t.f&ce)===0)return(t.f&et)===0?t:null;t=t.parent}return null}function xr(e){var t,r=Z;Fe(Ms(e));try{e.f&=~ut,Ps(e),t=On(e)}finally{Fe(r)}return t}function vn(e){var t=xr(e);if(!e.equals(t)&&(e.wv=Pn(),(!W?.is_fork||e.deps===null)&&(e.v=t,e.deps===null))){re(e,ie);return}dt||(Pe!==null?(Cr()||W?.is_fork)&&Pe.set(e,t):wr(e))}function Os(e){if(e.effects!==null)for(const t of e.effects)(t.teardown||t.ac)&&(t.teardown?.(),t.ac?.abort(at),t.teardown=$e,t.ac=null,Ft(t,0),Tr(t))}function dn(e){if(e.effects!==null)for(const t of e.effects)t.teardown&&At(t)}let pr=new Set;const nt=new Map;let hn=!1;function vt(e,t){var r={f:0,v:e,reactions:null,equals:en,rv:0,wv:0};return r}function te(e,t){const r=vt(e);return Sn(r),r}function Rs(e,t=!1,r=!0){const n=vt(e);return t||(n.equals=tn),n}function H(e,t,r=!1){L!==null&&(!Oe||(L.f&zr)!==0)&&rn()&&(L.f&(ce|Ke|br|zr))!==0&&(Te===null||!wt.call(Te,e))&&ls();let n=r?Ze(t):t;return Et(e,n)}function Et(e,t){if(!e.equals(t)){var r=e.v;dt?nt.set(e,t):nt.set(e,r),e.v=t;var n=rt.ensure();if(n.capture(e,r),(e.f&ce)!==0){const s=e;(e.f&ue)!==0&&xr(s),wr(s)}e.wv=Pn(),pn(e,ue),Z!==null&&(Z.f&ie)!==0&&(Z.f&(Ie|pt))===0&&(xe===null?Zs([e]):xe.push(e)),!n.is_fork&&pr.size>0&&!hn&&Is()}return t}function Is(){hn=!1;for(const e of pr)(e.f&ie)!==0&&re(e,Re),Ut(e)&&At(e);pr.clear()}function qt(e){H(e,e.v+1)}function pn(e,t){var r=e.reactions;if(r!==null)for(var n=r.length,s=0;s<n;s++){var a=r[s],i=a.f,l=(i&ue)===0;if(l&&re(a,t),(i&ce)!==0){var o=a;Pe?.delete(o),(i&ut)===0&&(i&Ee&&(a.f|=ut),pn(o,Re))}else l&&((i&Ke)!==0&&We!==null&&We.add(a),Me(a))}}function Ze(e){if(typeof e!="object"||e===null||Xt in e)return e;const t=Zr(e);if(t!==Gn&&t!==Kn)return e;var r=new Map,n=Vr(e),s=te(0),a=ft,i=l=>{if(ft===a)return l();var o=L,c=ft;Se(null),Ir(a);var u=l();return Se(o),Ir(c),u};return n&&r.set("length",te(e.length)),new Proxy(e,{defineProperty(l,o,c){(!("value"in c)||c.configurable===!1||c.enumerable===!1||c.writable===!1)&&as();var u=r.get(o);return u===void 0?i(()=>{var d=te(c.value);return r.set(o,d),d}):H(u,c.value,!0),!0},deleteProperty(l,o){var c=r.get(o);if(c===void 0){if(o in l){const u=i(()=>te(oe));r.set(o,u),qt(s)}}else H(c,oe),qt(s);return!0},get(l,o,c){if(o===Xt)return e;var u=r.get(o),d=o in l;if(u===void 0&&(!d||Dt(l,o)?.writable)&&(u=i(()=>{var h=Ze(d?l[o]:oe),g=te(h);return g}),r.set(o,u)),u!==void 0){var v=f(u);return v===oe?void 0:v}return Reflect.get(l,o,c)},getOwnPropertyDescriptor(l,o){var c=Reflect.getOwnPropertyDescriptor(l,o);if(c&&"value"in c){var u=r.get(o);u&&(c.value=f(u))}else if(c===void 0){var d=r.get(o),v=d?.v;if(d!==void 0&&v!==oe)return{enumerable:!0,configurable:!0,value:v,writable:!0}}return c},has(l,o){if(o===Xt)return!0;var c=r.get(o),u=c!==void 0&&c.v!==oe||Reflect.has(l,o);if(c!==void 0||Z!==null&&(!u||Dt(l,o)?.writable)){c===void 0&&(c=i(()=>{var v=u?Ze(l[o]):oe,h=te(v);return h}),r.set(o,c));var d=f(c);if(d===oe)return!1}return u},set(l,o,c,u){var d=r.get(o),v=o in l;if(n&&o==="length")for(var h=c;h<d.v;h+=1){var g=r.get(h+"");g!==void 0?H(g,oe):h in l&&(g=i(()=>te(oe)),r.set(h+"",g))}if(d===void 0)(!v||Dt(l,o)?.writable)&&(d=i(()=>te(void 0)),H(d,Ze(c)),r.set(o,d));else{v=d.v!==oe;var b=i(()=>Ze(c));H(d,b)}var _=Reflect.getOwnPropertyDescriptor(l,o);if(_?.set&&_.set.call(u,c),!v){if(n&&typeof o=="string"){var x=r.get("length"),P=Number(o);Number.isInteger(P)&&P>=x.v&&H(x,P+1)}qt(s)}return!0},ownKeys(l){f(s);var o=Reflect.ownKeys(l).filter(d=>{var v=r.get(d);return v===void 0||v.v!==oe});for(var[c,u]of r)u.v!==oe&&!(c in l)&&o.push(c);return o},setPrototypeOf(){is()}})}var Jt,_n,gn,mn;function Ls(){if(Jt===void 0){Jt=window,_n=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype,r=Text.prototype;gn=Dt(t,"firstChild").get,mn=Dt(t,"nextSibling").get,Sr(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),Sr(r)&&(r.__t=void 0)}}function st(e=""){return document.createTextNode(e)}function Tt(e){return gn.call(e)}function jt(e){return mn.call(e)}function p(e,t){return Tt(e)}function Ge(e,t=!1){{var r=Tt(e);return r instanceof Comment&&r.data===""?jt(r):r}}function m(e,t=1,r=!1){let n=e;for(;t--;)n=jt(n);return n}function Ds(e){e.textContent=""}function kn(){return!1}function Ns(e,t,r){return document.createElementNS($r,e,void 0)}let Mr=!1;function qs(){Mr||(Mr=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{if(!e.defaultPrevented)for(const t of e.target.elements)t.__on_r?.()})},{capture:!0}))}function Wt(e){var t=L,r=Z;Se(null),Fe(null);try{return e()}finally{Se(t),Fe(r)}}function bn(e,t,r,n=r){e.addEventListener(t,()=>Wt(r));const s=e.__on_r;s?e.__on_r=()=>{s(),n(!0)}:e.__on_r=()=>n(!0),qs()}function Bs(e){Z===null&&(L===null&&ns(),rs()),dt&&ts()}function Fs(e,t){var r=t.last;r===null?t.last=t.first=e:(r.next=e,e.prev=r,t.last=e)}function Ye(e,t,r){var n=Z;n!==null&&(n.f&ye)!==0&&(e|=ye);var s={ctx:Ae,deps:null,nodes:null,f:e|ue|Ee,first:null,fn:t,last:null,next:null,parent:n,b:n&&n.b,prev:null,teardown:null,wv:0,ac:null};if(r)try{At(s)}catch(l){throw me(s),l}else t!==null&&Me(s);var a=s;if(r&&a.deps===null&&a.teardown===null&&a.nodes===null&&a.first===a.last&&(a.f&St)===0&&(a=a.first,(e&Ke)!==0&&(e&yt)!==0&&a!==null&&(a.f|=yt)),a!==null&&(a.parent=n,n!==null&&Fs(a,n),L!==null&&(L.f&ce)!==0&&(e&pt)===0)){var i=L;(i.effects??=[]).push(a)}return s}function Cr(){return L!==null&&!Oe}function wn(e){const t=Ye(rr,null,!1);return re(t,ie),t.teardown=e,t}function Or(e){Bs();var t=Z.f,r=!L&&(t&Ie)!==0&&(t&Ht)===0;if(r){var n=Ae;(n.e??=[]).push(e)}else return yn(e)}function yn(e){return Ye(Bt|Qn,e,!1)}function Hs(e){rt.ensure();const t=Ye(pt|St,e,!0);return(r={})=>new Promise(n=>{r.outro?ot(t,()=>{me(t),n(void 0)}):(me(t),n(void 0))})}function js(e){return Ye(Bt,e,!1)}function Ws(e){return Ye(br|St,e,!0)}function sr(e,t=0){return Ye(rr|t,e,!0)}function U(e,t=[],r=[],n=[]){Ts(n,t,r,s=>{Ye(rr,()=>e(...s.map(f)),!0)})}function Er(e,t=0){var r=Ye(Ke|t,e,!0);return r}function Ce(e){return Ye(Ie|St,e,!0)}function xn(e){var t=e.teardown;if(t!==null){const r=dt,n=L;Rr(!0),Se(null);try{t.call(null)}finally{Rr(r),Se(n)}}}function Tr(e,t=!1){var r=e.first;for(e.first=e.last=null;r!==null;){const s=r.ac;s!==null&&Wt(()=>{s.abort(at)});var n=r.next;(r.f&pt)!==0?r.parent=null:me(r,t),r=n}}function Us(e){for(var t=e.first;t!==null;){var r=t.next;(t.f&Ie)===0&&me(t),t=r}}function me(e,t=!0){var r=!1;(t||(e.f&Qr)!==0)&&e.nodes!==null&&e.nodes.end!==null&&(Vs(e.nodes.start,e.nodes.end),r=!0),Tr(e,t&&!r),Ft(e,0),re(e,et);var n=e.nodes&&e.nodes.t;if(n!==null)for(const a of n)a.stop();xn(e);var s=e.parent;s!==null&&s.first!==null&&Cn(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes=e.ac=null}function Vs(e,t){for(;e!==null;){var r=e===t?null:jt(e);e.remove(),e=r}}function Cn(e){var t=e.parent,r=e.prev,n=e.next;r!==null&&(r.next=n),n!==null&&(n.prev=r),t!==null&&(t.first===e&&(t.first=n),t.last===e&&(t.last=r))}function ot(e,t,r=!0){var n=[];En(e,n,!0);var s=()=>{r&&me(e),t&&t()},a=n.length;if(a>0){var i=()=>--a||s();for(var l of n)l.out(i)}else s()}function En(e,t,r){if((e.f&ye)===0){e.f^=ye;var n=e.nodes&&e.nodes.t;if(n!==null)for(const l of n)(l.is_global||r)&&t.push(l);for(var s=e.first;s!==null;){var a=s.next,i=(s.f&yt)!==0||(s.f&Ie)!==0&&(e.f&Ke)!==0;En(s,t,i?r:!1),s=a}}}function Ar(e){Tn(e,!0)}function Tn(e,t){if((e.f&ye)!==0){e.f^=ye,(e.f&ie)===0&&(re(e,ue),Me(e));for(var r=e.first;r!==null;){var n=r.next,s=(r.f&yt)!==0||(r.f&Ie)!==0;Tn(r,s?t:!1),r=n}var a=e.nodes&&e.nodes.t;if(a!==null)for(const i of a)(i.is_global||t)&&i.in()}}function An(e,t){if(e.nodes)for(var r=e.nodes.start,n=e.nodes.end;r!==null;){var s=r===n?null:jt(r);t.append(r),r=s}}let Qt=!1,dt=!1;function Rr(e){dt=e}let L=null,Oe=!1;function Se(e){L=e}let Z=null;function Fe(e){Z=e}let Te=null;function Sn(e){L!==null&&(Te===null?Te=[e]:Te.push(e))}let ge=null,we=0,xe=null;function Zs(e){xe=e}let zn=1,lt=0,ft=lt;function Ir(e){ft=e}function Pn(){return++zn}function Ut(e){var t=e.f;if((t&ue)!==0)return!0;if(t&ce&&(e.f&=~ut),(t&Re)!==0){for(var r=e.deps,n=r.length,s=0;s<n;s++){var a=r[s];if(Ut(a)&&vn(a),a.wv>e.wv)return!0}(t&Ee)!==0&&Pe===null&&re(e,ie)}return!1}function Mn(e,t,r=!0){var n=e.reactions;if(n!==null&&!(Te!==null&&wt.call(Te,e)))for(var s=0;s<n.length;s++){var a=n[s];(a.f&ce)!==0?Mn(a,t,!1):t===a&&(r?re(a,ue):(a.f&ie)!==0&&re(a,Re),Me(a))}}function On(e){var t=ge,r=we,n=xe,s=L,a=Te,i=Ae,l=Oe,o=ft,c=e.f;ge=null,we=0,xe=null,L=(c&(Ie|pt))===0?e:null,Te=null,xt(e.ctx),Oe=!1,ft=++lt,e.ac!==null&&(Wt(()=>{e.ac.abort(at)}),e.ac=null);try{e.f|=ur;var u=e.fn,d=u();e.f|=Ht;var v=e.deps,h=W?.is_fork;if(ge!==null){var g;if(h||Ft(e,we),v!==null&&we>0)for(v.length=we+ge.length,g=0;g<ge.length;g++)v[we+g]=ge[g];else e.deps=v=ge;if(Cr()&&(e.f&Ee)!==0)for(g=we;g<v.length;g++)(v[g].reactions??=[]).push(e)}else!h&&v!==null&&we<v.length&&(Ft(e,we),v.length=we);if(rn()&&xe!==null&&!Oe&&v!==null&&(e.f&(ce|Re|ue))===0)for(g=0;g<xe.length;g++)Mn(xe[g],e);if(s!==null&&s!==e){if(lt++,s.deps!==null)for(let b=0;b<r;b+=1)s.deps[b].rv=lt;if(t!==null)for(const b of t)b.rv=lt;xe!==null&&(n===null?n=xe:n.push(...xe))}return(e.f&tt)!==0&&(e.f^=tt),d}catch(b){return sn(b)}finally{e.f^=ur,ge=t,we=r,xe=n,L=s,Te=a,xt(i),Oe=l,ft=o}}function Gs(e,t){let r=t.reactions;if(r!==null){var n=Un.call(r,e);if(n!==-1){var s=r.length-1;s===0?r=t.reactions=null:(r[n]=r[s],r.pop())}}if(r===null&&(t.f&ce)!==0&&(ge===null||!wt.call(ge,t))){var a=t;(a.f&Ee)!==0&&(a.f^=Ee,a.f&=~ut),wr(a),Os(a),Ft(a,0)}}function Ft(e,t){var r=e.deps;if(r!==null)for(var n=t;n<r.length;n++)Gs(e,r[n])}function At(e){var t=e.f;if((t&et)===0){re(e,ie);var r=Z,n=Qt;Z=e,Qt=!0;try{(t&(Ke|Yr))!==0?Us(e):Tr(e),xn(e);var s=On(e);e.teardown=typeof s=="function"?s:null,e.wv=zn;var a;cr&&gs&&(e.f&ue)!==0&&e.deps}finally{Qt=n,Z=r}}}async function Ks(){await Promise.resolve(),bs()}function f(e){var t=e.f,r=(t&ce)!==0;if(L!==null&&!Oe){var n=Z!==null&&(Z.f&et)!==0;if(!n&&(Te===null||!wt.call(Te,e))){var s=L.deps;if((L.f&ur)!==0)e.rv<lt&&(e.rv=lt,ge===null&&s!==null&&s[we]===e?we++:ge===null?ge=[e]:ge.push(e));else{(L.deps??=[]).push(e);var a=e.reactions;a===null?e.reactions=[L]:wt.call(a,L)||a.push(L)}}}if(dt&&nt.has(e))return nt.get(e);if(r){var i=e;if(dt){var l=i.v;return((i.f&ie)===0&&i.reactions!==null||In(i))&&(l=xr(i)),nt.set(i,l),l}var o=(i.f&Ee)===0&&!Oe&&L!==null&&(Qt||(L.f&Ee)!==0),c=(i.f&Ht)===0;Ut(i)&&(o&&(i.f|=Ee),vn(i)),o&&!c&&(dn(i),Rn(i))}if(Pe?.has(e))return Pe.get(e);if((e.f&tt)!==0)throw e.v;return e.v}function Rn(e){if(e.f|=Ee,e.deps!==null)for(const t of e.deps)(t.reactions??=[]).push(e),(t.f&ce)!==0&&(t.f&Ee)===0&&(dn(t),Rn(t))}function In(e){if(e.v===oe)return!0;if(e.deps===null)return!1;for(const t of e.deps)if(nt.has(t)||(t.f&ce)!==0&&In(t))return!0;return!1}function ar(e){var t=Oe;try{return Oe=!0,e()}finally{Oe=t}}const Ys=["touchstart","touchmove"];function Xs(e){return Ys.includes(e)}const Ln=Symbol("events"),Dn=new Set,_r=new Set;function Qs(e,t,r,n={}){function s(a){if(n.capture||gr.call(t,a),!a.cancelBubble)return Wt(()=>r?.call(this,a))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?Be(()=>{t.addEventListener(e,s,n)}):t.addEventListener(e,s,n),s}function Nn(e,t,r,n,s){var a={capture:n,passive:s},i=Qs(e,t,r,a);(t===document.body||t===window||t===document||t instanceof HTMLMediaElement)&&wn(()=>{t.removeEventListener(e,i,a)})}function ne(e,t,r){(t[Ln]??={})[e]=r}function zt(e){for(var t=0;t<e.length;t++)Dn.add(e[t]);for(var r of _r)r(e)}let Lr=null;function gr(e){var t=this,r=t.ownerDocument,n=e.type,s=e.composedPath?.()||[],a=s[0]||e.target;Lr=e;var i=0,l=Lr===e&&e.__root;if(l){var o=s.indexOf(l);if(o!==-1&&(t===document||t===window)){e.__root=t;return}var c=s.indexOf(t);if(c===-1)return;o<=c&&(i=o)}if(a=s[i]||e.target,a!==t){Vn(e,"currentTarget",{configurable:!0,get(){return a||r}});var u=L,d=Z;Se(null),Fe(null);try{for(var v,h=[];a!==null;){var g=a.assignedSlot||a.parentNode||a.host||null;try{var b=a[Ln]?.[n];b!=null&&(!a.disabled||e.target===a)&&b.call(a,e)}catch(_){v?h.push(_):v=_}if(e.cancelBubble||g===t||g===null)break;a=g}if(v){for(let _ of h)queueMicrotask(()=>{throw _});throw v}}finally{e.__root=t,delete e.currentTarget,Se(u),Fe(d)}}}const Js=globalThis?.window?.trustedTypes?.createPolicy("svelte-trusted-html",{createHTML:e=>e});function $s(e){return Js?.createHTML(e)??e}function qn(e,t=!1){var r=Ns("template");return e=e.replaceAll("<!>","<!---->"),r.innerHTML=t?$s(e):e,r.content}function $t(e,t){var r=Z;r.nodes===null&&(r.nodes={start:e,end:t,a:null,t:null})}function A(e,t){var r=(t&ds)!==0,n=(t&hs)!==0,s,a=!e.startsWith("<!>");return()=>{s===void 0&&(s=qn(a?e:"<!>"+e,!0),r||(s=Tt(s)));var i=n||_n?document.importNode(s,!0):s.cloneNode(!0);if(r){var l=Tt(i),o=i.lastChild;$t(l,o)}else $t(i,i);return i}}function ea(e,t,r="svg"){var n=!e.startsWith("<!>"),s=`<${r}>${n?e:"<!>"+e}</${r}>`,a;return()=>{if(!a){var i=qn(s,!0),l=Tt(i);a=Tt(l)}var o=a.cloneNode(!0);return $t(o,o),o}}function Bn(e,t){return ea(e,t,"svg")}function ht(){var e=document.createDocumentFragment(),t=document.createComment(""),r=st();return e.append(t,r),$t(t,r),e}function C(e,t){e!==null&&e.before(t)}function B(e,t){var r=t==null?"":typeof t=="object"?t+"":t;r!==(e.__t??=e.nodeValue)&&(e.__t=r,e.nodeValue=r+"")}function ta(e,t){return ra(e,t)}const Gt=new Map;function ra(e,{target:t,anchor:r,props:n={},events:s,context:a,intro:i=!0}){Ls();var l=new Set,o=d=>{for(var v=0;v<d.length;v++){var h=d[v];if(!l.has(h)){l.add(h);var g=Xs(h);for(const x of[t,document]){var b=Gt.get(x);b===void 0&&(b=new Map,Gt.set(x,b));var _=b.get(h);_===void 0?(x.addEventListener(h,gr,{passive:g}),b.set(h,1)):b.set(h,_+1)}}}};o(tr(Dn)),_r.add(o);var c=void 0,u=Hs(()=>{var d=r??t.appendChild(st());return Cs(d,{pending:()=>{}},v=>{He({});var h=Ae;a&&(h.c=a),s&&(n.$$events=s),c=e(v,n)||{},je()}),()=>{for(var v of l)for(const b of[t,document]){var h=Gt.get(b),g=h.get(v);--g==0?(b.removeEventListener(v,gr),h.delete(v),h.size===0&&Gt.delete(b)):h.set(v,g)}_r.delete(o),d!==r&&d.parentNode?.removeChild(d)}});return na.set(c,u),c}let na=new WeakMap;class sa{anchor;#t=new Map;#l=new Map;#e=new Map;#a=new Set;#i=!0;constructor(t,r=!0){this.anchor=t,this.#i=r}#n=()=>{var t=W;if(this.#t.has(t)){var r=this.#t.get(t),n=this.#l.get(r);if(n)Ar(n),this.#a.delete(r);else{var s=this.#e.get(r);s&&(this.#l.set(r,s.effect),this.#e.delete(r),s.fragment.lastChild.remove(),this.anchor.before(s.fragment),n=s.effect)}for(const[a,i]of this.#t){if(this.#t.delete(a),a===t)break;const l=this.#e.get(i);l&&(me(l.effect),this.#e.delete(i))}for(const[a,i]of this.#l){if(a===r||this.#a.has(a))continue;const l=()=>{if(Array.from(this.#t.values()).includes(a)){var c=document.createDocumentFragment();An(i,c),c.append(st()),this.#e.set(a,{effect:i,fragment:c})}else me(i);this.#a.delete(a),this.#l.delete(a)};this.#i||!n?(this.#a.add(a),ot(i,l,!1)):l()}}};#r=t=>{this.#t.delete(t);const r=Array.from(this.#t.values());for(const[n,s]of this.#e)r.includes(n)||(me(s.effect),this.#e.delete(n))};ensure(t,r){var n=W,s=kn();if(r&&!this.#l.has(t)&&!this.#e.has(t))if(s){var a=document.createDocumentFragment(),i=st();a.append(i),this.#e.set(t,{effect:Ce(()=>r(i)),fragment:a})}else this.#l.set(t,Ce(()=>r(this.anchor)));if(this.#t.set(n,t),s){for(const[l,o]of this.#l)l===t?n.unskip_effect(o):n.skip_effect(o);for(const[l,o]of this.#e)l===t?n.unskip_effect(o.effect):n.skip_effect(o.effect);n.oncommit(this.#n),n.ondiscard(this.#r)}else this.#n()}}function ae(e,t,r=!1){var n=new sa(e),s=r?yt:0;function a(i,l){n.ensure(i,l)}Er(()=>{var i=!1;t((l,o=0)=>{i=!0,a(o,l)}),i||a(!1,null)},s)}function Y(e,t){return t}function aa(e,t,r){for(var n=[],s=t.length,a,i=t.length,l=0;l<s;l++){let d=t[l];ot(d,()=>{if(a){if(a.pending.delete(d),a.done.add(d),a.pending.size===0){var v=e.outrogroups;mr(tr(a.done)),v.delete(a),v.size===0&&(e.outrogroups=null)}}else i-=1},!1)}if(i===0){var o=n.length===0&&r!==null;if(o){var c=r,u=c.parentNode;Ds(u),u.append(c),e.items.clear()}mr(t,!o)}else a={pending:new Set(t),done:new Set},(e.outrogroups??=new Set).add(a)}function mr(e,t=!0){for(var r=0;r<e.length;r++)me(e[r],t)}var Dr;function V(e,t,r,n,s,a=null){var i=e,l=new Map,o=(t&Jr)!==0;if(o){var c=e;i=c.appendChild(st())}var u=null,d=zs(()=>{var x=r();return Vr(x)?x:x==null?[]:tr(x)}),v,h=!0;function g(){_.fallback=u,ia(_,v,i,t,n),u!==null&&(v.length===0?(u.f&Ve)===0?Ar(u):(u.f^=Ve,Lt(u,null,i)):ot(u,()=>{u=null}))}var b=Er(()=>{v=f(d);for(var x=v.length,P=new Set,y=W,T=kn(),O=0;O<x;O+=1){var N=v[O],D=n(N,O),k=h?null:l.get(D);k?(k.v&&Et(k.v,N),k.i&&Et(k.i,O),T&&y.unskip_effect(k.e)):(k=la(l,h?i:Dr??=st(),N,D,O,s,t,r),h||(k.e.f|=Ve),l.set(D,k)),P.add(D)}if(x===0&&a&&!u&&(h?u=Ce(()=>a(i)):(u=Ce(()=>a(Dr??=st())),u.f|=Ve)),x>P.size&&es(),!h)if(T){for(const[w,E]of l)P.has(w)||y.skip_effect(E.e);y.oncommit(g),y.ondiscard(()=>{})}else g();f(d)}),_={effect:b,items:l,outrogroups:null,fallback:u};h=!1}function It(e){for(;e!==null&&(e.f&Ie)===0;)e=e.next;return e}function ia(e,t,r,n,s){var a=(n&us)!==0,i=t.length,l=e.items,o=It(e.effect.first),c,u=null,d,v=[],h=[],g,b,_,x;if(a)for(x=0;x<i;x+=1)g=t[x],b=s(g,x),_=l.get(b).e,(_.f&Ve)===0&&(_.nodes?.a?.measure(),(d??=new Set).add(_));for(x=0;x<i;x+=1){if(g=t[x],b=s(g,x),_=l.get(b).e,e.outrogroups!==null)for(const E of e.outrogroups)E.pending.delete(_),E.done.delete(_);if((_.f&Ve)!==0)if(_.f^=Ve,_===o)Lt(_,null,r);else{var P=u?u.next:o;_===e.effect.last&&(e.effect.last=_.prev),_.prev&&(_.prev.next=_.next),_.next&&(_.next.prev=_.prev),Je(e,u,_),Je(e,_,P),Lt(_,P,r),u=_,v=[],h=[],o=It(u.next);continue}if((_.f&ye)!==0&&(Ar(_),a&&(_.nodes?.a?.unfix(),(d??=new Set).delete(_))),_!==o){if(c!==void 0&&c.has(_)){if(v.length<h.length){var y=h[0],T;u=y.prev;var O=v[0],N=v[v.length-1];for(T=0;T<v.length;T+=1)Lt(v[T],y,r);for(T=0;T<h.length;T+=1)c.delete(h[T]);Je(e,O.prev,N.next),Je(e,u,O),Je(e,N,y),o=y,u=N,x-=1,v=[],h=[]}else c.delete(_),Lt(_,o,r),Je(e,_.prev,_.next),Je(e,_,u===null?e.effect.first:u.next),Je(e,u,_),u=_;continue}for(v=[],h=[];o!==null&&o!==_;)(c??=new Set).add(o),h.push(o),o=It(o.next);if(o===null)continue}(_.f&Ve)===0&&v.push(_),u=_,o=It(_.next)}if(e.outrogroups!==null){for(const E of e.outrogroups)E.pending.size===0&&(mr(tr(E.done)),e.outrogroups?.delete(E));e.outrogroups.size===0&&(e.outrogroups=null)}if(o!==null||c!==void 0){var D=[];if(c!==void 0)for(_ of c)(_.f&ye)===0&&D.push(_);for(;o!==null;)(o.f&ye)===0&&o!==e.fallback&&D.push(o),o=It(o.next);var k=D.length;if(k>0){var w=(n&Jr)!==0&&i===0?r:null;if(a){for(x=0;x<k;x+=1)D[x].nodes?.a?.measure();for(x=0;x<k;x+=1)D[x].nodes?.a?.fix()}aa(e,D,w)}}a&&Be(()=>{if(d!==void 0)for(_ of d)_.nodes?.a?.apply()})}function la(e,t,r,n,s,a,i,l){var o=(i&fs)!==0?(i&vs)===0?Rs(r,!1,!1):vt(r):null,c=(i&cs)!==0?vt(s):null;return{v:o,i:c,e:Ce(()=>(a(t,o??r,c??s,l),()=>{e.delete(n)}))}}function Lt(e,t,r){if(e.nodes)for(var n=e.nodes.start,s=e.nodes.end,a=t&&(t.f&Ve)===0?t.nodes.start:r;n!==null;){var i=jt(n);if(a.before(n),n===s)return;n=i}}function Je(e,t,r){t===null?e.effect.first=r:t.next=r,r===null?e.effect.last=t:r.prev=t}const oa=()=>performance.now(),Ue={tick:e=>requestAnimationFrame(e),now:()=>oa(),tasks:new Set};function Fn(){const e=Ue.now();Ue.tasks.forEach(t=>{t.c(e)||(Ue.tasks.delete(t),t.f())}),Ue.tasks.size!==0&&Ue.tick(Fn)}function fa(e){let t;return Ue.tasks.size===0&&Ue.tick(Fn),{promise:new Promise(r=>{Ue.tasks.add(t={c:e,f:r})}),abort(){Ue.tasks.delete(t)}}}function Nr(e,t){Wt(()=>{e.dispatchEvent(new CustomEvent(t))})}function ca(e){if(e==="float")return"cssFloat";if(e==="offset")return"cssOffset";if(e.startsWith("--"))return e;const t=e.split("-");return t.length===1?t[0]:t[0]+t.slice(1).map(r=>r[0].toUpperCase()+r.slice(1)).join("")}function qr(e){const t={},r=e.split(";");for(const n of r){const[s,a]=n.split(":");if(!s||a===void 0)break;const i=ca(s.trim());t[i]=a.trim()}return t}const ua=e=>e;function va(e,t,r){var n=Z,s=n.nodes,a,i,l,o=null;s.a??={element:e,measure(){a=this.element.getBoundingClientRect()},apply(){if(l?.abort(),i=this.element.getBoundingClientRect(),a.left!==i.left||a.right!==i.right||a.top!==i.top||a.bottom!==i.bottom){const c=t()(this.element,{from:a,to:i},r?.());l=Hn(this.element,c,void 0,1,()=>{l?.abort(),l=void 0})}},fix(){if(!e.getAnimations().length){var{position:c,width:u,height:d}=getComputedStyle(e);if(c!=="absolute"&&c!=="fixed"){var v=e.style;o={position:v.position,width:v.width,height:v.height,transform:v.transform},v.position="absolute",v.width=u,v.height=d;var h=e.getBoundingClientRect();if(a.left!==h.left||a.top!==h.top){var g=`translate(${a.left-h.left}px, ${a.top-h.top}px)`;v.transform=v.transform?`${v.transform} ${g}`:g}}}},unfix(){if(o){var c=e.style;c.position=o.position,c.width=o.width,c.height=o.height,c.transform=o.transform}}},s.a.element=e}function Hn(e,t,r,n,s){if(Yn(t)){var a,i=!1;return Be(()=>{if(!i){var b=t({direction:"in"});a=Hn(e,b,r,n,s)}}),{abort:()=>{i=!0,a?.abort()},deactivate:()=>a.deactivate(),reset:()=>a.reset(),t:()=>a.t()}}if(!t?.duration&&!t?.delay)return Nr(e,"introstart"),s(),{abort:$e,deactivate:$e,reset:$e,t:()=>n};const{delay:l=0,css:o,tick:c,easing:u=ua}=t;var d=[];if(c&&c(0,1),o){var v=qr(o(0,1));d.push(v,v)}var h=()=>1-n,g=e.animate(d,{duration:l,fill:"forwards"});return g.onfinish=()=>{g.cancel(),Nr(e,"introstart");var b=1-n,_=n-b,x=t.duration*Math.abs(_),P=[];if(x>0){var y=!1;if(o)for(var T=Math.ceil(x/16.666666666666668),O=0;O<=T;O+=1){var N=b+_*u(O/T),D=qr(o(N,1-N));P.push(D),y||=D.overflow==="hidden"}y&&(e.style.overflow="hidden"),h=()=>{var k=g.currentTime;return b+_*u(k/x)},c&&fa(()=>{if(g.playState!=="running")return!1;var k=h();return c(k,1-k),!0})}g=e.animate(P,{duration:x,fill:"forwards"}),g.onfinish=()=>{h=()=>n,c?.(n,1-n),s()}},{abort:()=>{g&&(g.cancel(),g.effect=null,g.onfinish=$e)},deactivate:()=>{s=$e},reset:()=>{},t:()=>h()}}const Br=[...` 	
\r\f \v\uFEFF`];function da(e,t,r){var n=e==null?"":""+e;if(r){for(var s in r)if(r[s])n=n?n+" "+s:s;else if(n.length)for(var a=s.length,i=0;(i=n.indexOf(s,i))>=0;){var l=i+a;(i===0||Br.includes(n[i-1]))&&(l===n.length||Br.includes(n[l]))?n=(i===0?"":n.substring(0,i))+n.substring(l+1):i=l}}return n===""?null:n}function Fr(e,t=!1){var r=t?" !important;":";",n="";for(var s in e){var a=e[s];a!=null&&a!==""&&(n+=" "+s+": "+a+r)}return n}function ha(e,t){if(t){var r="",n,s;return Array.isArray(t)?(n=t[0],s=t[1]):n=t,n&&(r+=Fr(n)),s&&(r+=Fr(s,!0)),r=r.trim(),r===""?null:r}return String(e)}function ct(e,t,r,n,s,a){var i=e.__className;if(i!==r||i===void 0){var l=da(r,n,a);l==null?e.removeAttribute("class"):e.className=l,e.__className=r}else if(a&&s!==a)for(var o in a){var c=!!a[o];(s==null||c!==!!s[o])&&e.classList.toggle(o,c)}return a}function lr(e,t={},r,n){for(var s in r){var a=r[s];t[s]!==a&&(r[s]==null?e.style.removeProperty(s):e.style.setProperty(s,a,n))}}function fe(e,t,r,n){var s=e.__style;if(s!==t){var a=ha(t,n);a==null?e.removeAttribute("style"):e.style.cssText=a,e.__style=t}else n&&(Array.isArray(n)?(lr(e,r?.[0],n[0]),lr(e,r?.[1],n[1],"important")):lr(e,r,n));return n}const pa=Symbol("is custom element"),_a=Symbol("is html");function kr(e,t,r,n){var s=ga(e);s[t]!==(s[t]=r)&&(t==="loading"&&(e[Jn]=r),r==null?e.removeAttribute(t):typeof r!="string"&&ma(e).includes(t)?e[t]=r:e.setAttribute(t,r))}function ga(e){return e.__attributes??={[pa]:e.nodeName.includes("-"),[_a]:e.namespaceURI===$r}}var Hr=new Map;function ma(e){var t=e.getAttribute("is")||e.nodeName,r=Hr.get(t);if(r)return r;Hr.set(t,r=[]);for(var n,s=e,a=Element.prototype;a!==s;){n=Zn(s);for(var i in n)n[i].set&&r.push(i);s=Zr(s)}return r}function jr(e,t,r=t){var n=new WeakSet;bn(e,"input",async s=>{var a=s?e.defaultValue:e.value;if(a=or(e)?fr(a):a,r(a),W!==null&&n.add(W),await Ks(),a!==(a=t())){var i=e.selectionStart,l=e.selectionEnd,o=e.value.length;if(e.value=a??"",l!==null){var c=e.value.length;i===l&&l===o&&c>o?(e.selectionStart=c,e.selectionEnd=c):(e.selectionStart=i,e.selectionEnd=Math.min(l,c))}}}),ar(t)==null&&e.value&&(r(or(e)?fr(e.value):e.value),W!==null&&n.add(W)),sr(()=>{var s=t();if(e===document.activeElement){var a=vr??W;if(n.has(a))return}or(e)&&s===fr(e.value)||e.type==="date"&&!s&&!e.value||s!==e.value&&(e.value=s??"")})}function Kt(e,t,r=t){bn(e,"change",n=>{var s=n?e.defaultChecked:e.checked;r(s)}),ar(t)==null&&r(e.checked),sr(()=>{var n=t();e.checked=!!n})}function or(e){var t=e.type;return t==="number"||t==="range"}function fr(e){return e===""?null:+e}function Wr(e,t){return e===t||e?.[Xt]===t}function Yt(e={},t,r,n){return js(()=>{var s,a;return sr(()=>{s=a,a=n?.()||[],ar(()=>{e!==r(...a)&&(t(e,...a),s&&Wr(r(...s),e)&&t(null,...s))})}),()=>{Be(()=>{a&&Wr(r(...a),e)&&t(null,...a)})}}),e}function jn(e,t,r,n){var s=n,a=!0,i=()=>(a&&(a=!1,s=n),s),l;l=e[t],l===void 0&&n!==void 0&&(l=i());var o;return o=()=>{var c=e[t];return c===void 0?i():(a=!0,c)},o}const ka="5";typeof window<"u"&&((window.__svelte??={}).v??=new Set).add(ka);var ba=A('<div class="plaintext-section svelte-q4552b"><label for="plaintext" class="svelte-q4552b">Plaintext</label> <textarea id="plaintext" data-testid="plaintext-input" placeholder="Type letters A–Z..." class="svelte-q4552b"></textarea></div>');function wa(e,t){He(t,!0);var r=ba(),n=m(p(r),2);ne("input",n,s=>t.oninput(s.currentTarget.value)),C(e,r),je()}zt(["input"]);var ya=A('<span class="placeholder svelte-uveiyz">Ciphertext appears here...</span>'),xa=A("<br/>"),Ca=A('<span class="ct-char svelte-uveiyz"> </span>'),Ea=A('<div class="ciphertext-section svelte-uveiyz"><label for="ciphertext" class="svelte-uveiyz">Ciphertext</label> <div id="ciphertext" class="ciphertext-chars svelte-uveiyz" data-testid="ciphertext-output" aria-label="Ciphertext" aria-readonly="true"><!></div></div>');function Ta(e,t){He(t,!0);const r="#c678dd",n="#56b6c2";let s=X(()=>t.tokens.length>0);var a=Ea(),i=m(p(a),2),l=p(i);{var o=u=>{var d=ya();C(u,d)},c=u=>{var d=ht(),v=Ge(d);V(v,17,()=>t.tokens,Y,(h,g)=>{var b=ht(),_=Ge(b);{var x=y=>{var T=xa();C(y,T)},P=y=>{var T=Ca();let O;var N=p(T);U(()=>{O=fe(T,"",O,{"background-color":f(g).highlight==="A"?r:f(g).highlight==="B"?n:void 0,color:f(g).highlight?"#1e1e1e":void 0}),B(N,f(g).char)}),C(y,T)};ae(_,y=>{f(g).char===`
`?y(x):y(P,!1)})}C(h,b)}),C(u,d)};ae(l,u=>{f(s)?u(c,!1):u(o)})}C(e,a),je()}var Aa=A("<div> </div>");function Sa(e,t){const r=["#e06c75","#e5c07b","#61afef","#98c379","#c678dd","#56b6c2","#d19a66","#e96eb0","#be5046","#528bff","#7ec8a4","#f0a0a0","#a0c8f0"];let n=jn(t,"swapPair",3,null);var s=Aa();let a,i;var l=p(s);U(()=>{a=ct(s,1,"card svelte-1s7zazm",null,a,{highlighted:n()!=null}),i=fe(s,"",i,{"background-color":n()!=null?r[n()]:void 0}),B(l,t.letter)}),C(e,s)}function za(e){const t=e-1;return t*t*t+1}function Pa(e,{from:t,to:r},n={}){var{delay:s=0,duration:a=N=>Math.sqrt(N)*120,easing:i=za}=n,l=getComputedStyle(e),o=l.transform==="none"?"":l.transform,[c,u]=l.transformOrigin.split(" ").map(parseFloat);c/=e.clientWidth,u/=e.clientHeight;var d=Ma(e),v=e.clientWidth/r.width/d,h=e.clientHeight/r.height/d,g=t.left+t.width*c,b=t.top+t.height*u,_=r.left+r.width*c,x=r.top+r.height*u,P=(g-_)*v,y=(b-x)*h,T=t.width/r.width,O=t.height/r.height;return{delay:s,duration:typeof a=="function"?a(Math.sqrt(P*P+y*y)):a,easing:i,css:(N,D)=>{var k=D*P,w=D*y,E=N+D*T,M=N+D*O;return`transform: ${o} translate(${k}px, ${w}px) scale(${E}, ${M});`}}}function Ma(e){if("currentCSSZoom"in e)return e.currentCSSZoom;for(var t=e,r=1;t!==null;)r*=+getComputedStyle(t).zoom,t=t.parentElement;return r}var Oa=A('<span class="rotation-label svelte-1c30440"> </span>'),Ra=A('<span class="legend-swatch svelte-1c30440"></span>'),Ia=A('<span class="legend-rotation svelte-1c30440"> </span>'),La=A('<div class="legend svelte-1c30440"><span class="legend-label svelte-1c30440">Swaps:</span> <!> <!></div>'),Da=A('<div class="card-slot svelte-1c30440"><!></div>'),Na=A('<div class="deck-section svelte-1c30440"><h2 class="deck-label svelte-1c30440">Current Deck State <!></h2> <!> <div class="deck svelte-1c30440" data-testid="deck"></div></div>');function qa(e,t){He(t,!0);const r=["#e06c75","#e5c07b","#61afef","#98c379","#c678dd","#56b6c2","#d19a66","#e96eb0","#be5046","#528bff","#7ec8a4","#f0a0a0","#a0c8f0"];let n=X(()=>{const d=new Array(t.deck.length).fill(null);if(t.lastTransformation)for(let v=0;v<t.lastTransformation.swaps.length;v++){const[h,g]=t.lastTransformation.swaps[v];d[h]=v,d[g]=v}return d});var s=Na(),a=p(s),i=m(p(a));{var l=d=>{var v=Oa(),h=p(v);U(()=>B(h,`↺${t.lastTransformation.rotation??""}`)),C(d,v)};ae(i,d=>{t.lastTransformation&&t.lastTransformation.rotation>0&&d(l)})}var o=m(a,2);{var c=d=>{var v=La(),h=m(p(v),2);V(h,17,()=>t.lastTransformation.swaps,Y,(_,x,P)=>{var y=Ra();let T;y.textContent=P+1,U(()=>T=fe(y,"",T,{"background-color":r[P]})),C(_,y)});var g=m(h,2);{var b=_=>{var x=Ia(),P=p(x);U(()=>B(P,`↺${t.lastTransformation.rotation??""}`)),C(_,x)};ae(g,_=>{t.lastTransformation.rotation>0&&_(b)})}C(d,v)};ae(o,d=>{t.showHighlights&&t.lastTransformation&&d(c)})}var u=m(o,2);V(u,30,()=>t.deck,d=>d,(d,v,h)=>{var g=Da(),b=p(g);{let _=X(()=>t.showHighlights?f(n)[f(h)]:null);Sa(b,{get letter(){return v},get swapPair(){return f(_)}})}va(g,()=>Pa,()=>({duration:t.showAnimations?500:0})),C(d,g)}),C(e,s),je()}function Wn(){return Array.from({length:26},(e,t)=>String.fromCharCode(65+t))}function Ba(e,t){let r=[...e];if(t.rotation>0){const n=t.rotation;r=[...r.slice(n),...r.slice(0,n)]}for(const[n,s]of t.swaps)[r[n],r[s]]=[r[s],r[n]];return r}function Fa(e,t,r){const n=t.toUpperCase(),s=r[n],a=Ba(e,s);return{newDeck:a,ciphertextChar:a[0]}}function Ha(e,t){let r=Wn(),n="",s=null;const a=[];for(const i of e){const l=i.toUpperCase();if(l>="A"&&l<="Z"){const o=Fa(r,l,t),c=t[l];a.push({deck:o.newDeck,ciphertextChar:o.ciphertextChar,transformation:c}),s=c,r=o.newDeck,n+=o.ciphertextChar}}return{deck:r,ciphertext:n,lastTransformation:s,steps:a}}var ja=A('<div role="button" tabindex="0"> </div>'),Wa=A('<div class="column svelte-pj07a9"><div class="pt-label svelte-pj07a9"> </div> <div class="col-label svelte-pj07a9"> </div> <div class="col-rotation svelte-pj07a9"> </div> <!></div>'),Ua=A('<div class="mini-card svelte-pj07a9" role="button" tabindex="0"> </div>'),Va=A('<!> <div class="group-bracket svelte-pj07a9"></div> <!> <div class="group-bracket svelte-pj07a9"></div> <!>',1),Za=Bn('<polyline stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" fill="none" opacity="0.85"></polyline>'),Ga=Bn('<svg class="trace-overlay svelte-pj07a9" xmlns="http://www.w3.org/2000/svg"></svg>'),Ka=A('<div class="multi-deck svelte-pj07a9" data-testid="multi-deck"><div class="column svelte-pj07a9"><div class="pt-label svelte-pj07a9"></div> <div class="col-label svelte-pj07a9">—</div> <div class="col-rotation svelte-pj07a9"></div> <!></div> <!> <!></div>');function Ya(e,t){He(t,!0);const r=(k,w=$e,E=$e)=>{const M=X(()=>d(w().transformation)),S=X(()=>E()+1);var q=Wa(),Q=p(q),$=p(Q),F=m(Q,2),I=p(F),G=m(F,2),ze=p(G),ke=m(G,2);V(ke,17,()=>w().deck,Y,(se,le,de)=>{const he=X(()=>t.showHighlights?f(M)[de]:null),pe=X(()=>g(f(le),f(S)));var be=ja();let Le,_t;var j=p(be);U(()=>{Le=ct(be,1,"mini-card svelte-pj07a9",null,Le,{highlighted:f(he)!=null}),_t=fe(be,"",_t,{"background-color":f(he)!=null?n[f(he)]:void 0,outline:f(pe)?`2px solid ${f(pe)}`:void 0,"z-index":f(pe)?1:void 0}),B(j,f(le))}),ne("click",be,()=>t.ontoggle(f(le),f(S))),ne("keydown",be,J=>{(J.key==="Enter"||J.key===" ")&&t.ontoggle(f(le),f(S))}),C(se,be)}),Yt(q,se=>l[f(S)]=se,()=>l?.[f(S)]),U(()=>{B($,t.plaintextChars[E()]),B(I,w().ciphertextChar),B(ze,w().transformation.rotation>0?`↺${w().transformation.rotation}`:"")}),C(k,q)},n=["#e06c75","#e5c07b","#61afef","#98c379","#c678dd","#56b6c2","#d19a66","#e96eb0","#be5046","#528bff","#7ec8a4","#f0a0a0","#a0c8f0"],s=Wn();let a=jn(t,"highlight",3,null),i=te(null),l=Ze([]),o=Ze([]),c=X(()=>{if(!f(i))return[];const k=f(i).getBoundingClientRect();return Array.from({length:t.steps.length+1},(w,E)=>{const M=l[E];if(!M)return null;const S=M.getBoundingClientRect();return S.left+S.width/2-k.left})}),u=X(()=>{const k=o[0],w=o[1];if(!k||!w||!f(i))return null;const E=f(i).getBoundingClientRect().top,M=k.getBoundingClientRect(),S=w.getBoundingClientRect();return{baseY:M.top-E+M.height/2,cardStep:S.top-M.top}});function d(k){const w=new Array(26).fill(null);for(let E=0;E<k.swaps.length;E++){const[M,S]=k.swaps[E];w[M]=E,w[S]=E}return w}function v(k){return k===0?s:t.steps[k-1].deck}function h(k){return f(u)?f(u).baseY+k*f(u).cardStep:null}function g(k,w){for(const E of t.cardTraces)if(E.card===k&&w>=E.startCol&&w<E.startCol+t.traceWindow)return E.color;return null}function b(k){const w=Math.min(k.startCol+t.traceWindow-1,t.steps.length),E=[];for(let M=k.startCol;M<=w;M++){const S=v(M).indexOf(k.card),q=f(c)[M];if(q==null||S===-1)continue;const Q=h(S);Q!==null&&E.push(`${q.toFixed(1)},${Q.toFixed(1)}`)}return E.length>=2?E.join(" "):""}var _=Ka(),x=p(_),P=m(p(x),6);V(P,17,()=>s,Y,(k,w,E)=>{const M=X(()=>g(f(w),0));var S=Ua();let q;var Q=p(S);Yt(S,($,F)=>o[F]=$,$=>o?.[$],()=>[E]),U(()=>{q=fe(S,"",q,{outline:f(M)?`2px solid ${f(M)}`:void 0,"z-index":f(M)?1:void 0}),B(Q,f(w))}),ne("click",S,()=>t.ontoggle(f(w),0)),ne("keydown",S,$=>{($.key==="Enter"||$.key===" ")&&t.ontoggle(f(w),0)}),C(k,S)}),Yt(x,k=>l[0]=k,()=>l?.[0]);var y=m(x,2);{var T=k=>{var w=ht(),E=Ge(w);V(E,17,()=>t.steps,Y,(M,S,q)=>{r(M,()=>f(S),()=>q)}),C(k,w)},O=k=>{const w=X(()=>{const{startA:F,startB:I,length:G}=a();return{startA:F,startB:I,length:G}});var E=Va(),M=Ge(E);V(M,17,()=>t.steps.slice(0,f(w).startA),Y,(F,I,G)=>{r(F,()=>f(I),()=>G)});var S=m(M,2);fe(S,"",{},{outline:"2px solid #c678dd"}),V(S,21,()=>t.steps.slice(f(w).startA,f(w).startA+f(w).length),Y,(F,I,G)=>{r(F,()=>f(I),()=>f(w).startA+G)});var q=m(S,2);V(q,17,()=>t.steps.slice(f(w).startA+f(w).length,f(w).startB),Y,(F,I,G)=>{r(F,()=>f(I),()=>f(w).startA+f(w).length+G)});var Q=m(q,2);fe(Q,"",{},{outline:"2px solid #56b6c2"}),V(Q,21,()=>t.steps.slice(f(w).startB,f(w).startB+f(w).length),Y,(F,I,G)=>{r(F,()=>f(I),()=>f(w).startB+G)});var $=m(Q,2);V($,17,()=>t.steps.slice(f(w).startB+f(w).length),Y,(F,I,G)=>{r(F,()=>f(I),()=>f(w).startB+f(w).length+G)}),C(k,E)};ae(y,k=>{a()?k(O,!1):k(T)})}var N=m(y,2);{var D=k=>{var w=Ga();V(w,21,()=>t.cardTraces,Y,(E,M)=>{const S=X(()=>b(f(M)));var q=ht(),Q=Ge(q);{var $=F=>{var I=Za();U(()=>{kr(I,"points",f(S)),kr(I,"stroke",f(M).color)}),C(F,I)};ae(Q,F=>{f(S)&&F($)})}C(E,q)}),C(k,w)};ae(N,k=>{t.cardTraces.length>0&&k(D)})}Yt(_,k=>H(i,k),()=>f(i)),C(e,_),je()}zt(["click","keydown"]);function Xa(e){const t={};for(const a of e)t[a]=(t[a]??0)+1;const r={};let n=0,s="";for(const a of e)t[a]===1?s+=".":(a in r||(r[a]=String.fromCharCode(97+n),n++),s+=r[a]);return s}function Ur(e){let t=0;for(const r of e)r!=="."&&t++;return t/e.length}function Qa(e){const t=new Map;for(const r of e)t.set(r.pattern,(t.get(r.pattern)??0)+1);return t}function Ja(e,t=new Map){return[...e].sort((r,n)=>{const s=Ur(n.pattern)-Ur(r.pattern);if(s!==0)return s;const a=(t.get(n.pattern)??0)-(t.get(r.pattern)??0);if(a!==0)return a;const i=n.pattern.length-r.pattern.length;return i!==0?i:r.startA-n.startA})}function $a(e){const t=[],r=e.length,n=Math.floor(r/2);for(let s=3;s<=n;s++){const a=new Map;for(let i=0;i<=r-s;i++){const l=Xa(e.slice(i,i+s));if(!/[a-z]/.test(l)||l[0]==="."||l[l.length-1]===".")continue;const o=a.get(l);o?o.push(i):a.set(l,[i])}for(const[i,l]of a)for(let o=0;o<l.length;o++){const c=l[o];for(let u=o+1;u<l.length;u++){const d=l[u];d>=c+s&&t.push({pattern:i,startA:c,startB:d})}}}return t}var ei=A('<p class="empty svelte-zq6m2r">No isomorphs found.</p>'),ti=A('<button><span class="iso-header svelte-zq6m2r"><span class="iso-pattern svelte-zq6m2r"> </span> <span class="iso-count svelte-zq6m2r"> </span></span> <span class="iso-positions svelte-zq6m2r"> </span> <span class="iso-subs svelte-zq6m2r"><span class="sub-a svelte-zq6m2r"> </span> <span class="iso-sep svelte-zq6m2r">/</span> <span class="sub-b svelte-zq6m2r"> </span></span></button>'),ri=A('<div class="isomorph-list svelte-zq6m2r"><!></div>');function ni(e,t){He(t,!0);let r=X(()=>Qa(t.isomorphs)),n=X(()=>Ja(t.isomorphs,f(r)));function s(c){return t.selected!=null&&t.selected.startA===c.startA&&t.selected.startB===c.startB&&t.selected.pattern===c.pattern}var a=ri(),i=p(a);{var l=c=>{var u=ei();C(c,u)},o=c=>{var u=ht(),d=Ge(u);V(d,17,()=>f(n),Y,(v,h)=>{const g=X(()=>s(f(h))),b=X(()=>t.ciphertext.slice(f(h).startA,f(h).startA+f(h).pattern.length)),_=X(()=>t.ciphertext.slice(f(h).startB,f(h).startB+f(h).pattern.length));var x=ti();let P;var y=p(x),T=p(y),O=p(T),N=m(T,2),D=p(N),k=m(y,2),w=p(k),E=m(k,2),M=p(E),S=p(M),q=m(M,4),Q=p(q);U($=>{P=ct(x,1,"iso-entry svelte-zq6m2r",null,P,{selected:f(g)}),B(O,f(h).pattern),B(D,`×${$??""}`),B(w,`@${f(h).startA??""} · @${f(h).startB??""}`),B(S,f(b)),B(Q,f(_))},[()=>f(r).get(f(h).pattern)??0]),ne("click",x,()=>t.onselect(f(g)?null:f(h))),C(v,x)}),C(c,u)};ae(i,c=>{f(n).length===0?c(l):c(o,!1)})}C(e,a),je()}zt(["click"]);var si=A('<span class="placeholder svelte-yoanq">Filtered plaintext appears here...</span>'),ai=A("<br/>"),ii=A('<span class="pt-char svelte-yoanq"> </span>'),li=A('<div class="plaintext-output-section svelte-yoanq"><div class="pt-chars svelte-yoanq" data-testid="plaintext-output" aria-label="Filtered plaintext" aria-readonly="true"><!></div></div>');function oi(e,t){He(t,!0);const r="#c678dd",n="#56b6c2";let s=X(()=>t.tokens.length>0);var a=li(),i=p(a),l=p(i);{var o=u=>{var d=si();C(u,d)},c=u=>{var d=ht(),v=Ge(d);V(v,17,()=>t.tokens,Y,(h,g)=>{var b=ht(),_=Ge(b);{var x=y=>{var T=ai();C(y,T)},P=y=>{var T=ii();let O;var N=p(T);U(()=>{O=fe(T,"",O,{"background-color":f(g).highlight==="A"?r:f(g).highlight==="B"?n:void 0,color:f(g).highlight?"#1e1e1e":void 0}),B(N,f(g).char)}),C(y,T)};ae(_,y=>{f(g).char===`
`?y(x):y(P,!1)})}C(h,b)}),C(u,d)};ae(l,u=>{f(s)?u(c,!1):u(o)})}C(e,a),je()}var fi=A('<span class="rot-label svelte-lkez8o"> </span>'),ci=A('<span class="rot-none svelte-lkez8o">—</span>'),ui=A('<span class="swap-chip svelte-lkez8o"> </span>'),vi=A('<tr class="svelte-lkez8o"><td class="cell-pt svelte-lkez8o"> </td><td class="cell-rot svelte-lkez8o"><!></td><td class="cell-swaps svelte-lkez8o"></td></tr>'),di=A('<table class="transform-table svelte-lkez8o"><thead><tr><th class="col-pt svelte-lkez8o">PT</th><th class="col-rot svelte-lkez8o">↺</th><th class="col-swaps svelte-lkez8o">Swaps</th></tr></thead><tbody></tbody></table>'),hi=A('<th class="hm-pos-header svelte-lkez8o"></th>'),pi=A("<td></td>"),_i=A('<span class="rot-label svelte-lkez8o"> </span>'),gi=A('<span class="rot-none svelte-lkez8o">—</span>'),mi=A('<tr><td class="hm-pt-cell svelte-lkez8o"> </td><!><td class="hm-rot-cell svelte-lkez8o"><!></td></tr>'),ki=A('<div class="heatmap-scroll svelte-lkez8o"><table class="heatmap-table svelte-lkez8o"><thead><tr><th class="hm-corner"></th><th colspan="26" class="hm-axis-label svelte-lkez8o">Deck Position</th><th class="hm-corner"></th></tr><tr><th class="hm-pt-header svelte-lkez8o">PT</th><!><th class="hm-rot-header svelte-lkez8o">↺</th></tr></thead><tbody></tbody></table></div>'),bi=A('<div class="backdrop svelte-lkez8o" role="presentation"><div class="modal svelte-lkez8o" role="dialog" aria-modal="true" aria-label="Cipher Inspector" tabindex="-1"><div class="modal-header svelte-lkez8o"><span class="modal-title svelte-lkez8o">Cipher Inspector</span> <button class="close-btn svelte-lkez8o" aria-label="Close">×</button></div> <div class="tabs svelte-lkez8o"><button>Table</button> <button>Heatmap</button></div> <div class="tab-content"><!></div></div></div>');function wi(e,t){He(t,!0);const r=["#e06c75","#e5c07b","#61afef","#98c379","#c678dd","#56b6c2","#d19a66","#e96eb0","#be5046","#528bff","#7ec8a4","#f0a0a0","#a0c8f0"],n="ABCDEFGHIJKLMNOPQRSTUVWXYZ".split("");let s=te("table");function a(y,T){for(let O=0;O<y.swaps.length;O++)if(y.swaps[O][0]===T||y.swaps[O][1]===T)return O;return null}var i=bi();Nn("keydown",Jt,y=>{y.key==="Escape"&&t.onclose()});var l=p(i),o=p(l),c=m(p(o),2),u=m(o,2),d=p(u);let v;var h=m(d,2);let g;var b=m(u,2),_=p(b);{var x=y=>{var T=di(),O=m(p(T));V(O,21,()=>n,Y,(N,D)=>{const k=X(()=>t.mapping[f(D)]);var w=vi(),E=p(w),M=p(E),S=m(E),q=p(S);{var Q=I=>{var G=fi(),ze=p(G);U(()=>B(ze,`↺${f(k).rotation??""}`)),C(I,G)},$=I=>{var G=ci();C(I,G)};ae(q,I=>{f(k).rotation>0?I(Q):I($,!1)})}var F=m(S);V(F,21,()=>f(k).swaps,Y,(I,G,ze)=>{var ke=X(()=>Kr(f(G),2));let se=()=>f(ke)[0],le=()=>f(ke)[1];var de=ui();let he;var pe=p(de);U(()=>{he=fe(de,"",he,{"background-color":r[ze]}),B(pe,`${se()??""}↔${le()??""}`)}),C(I,de)}),U(()=>B(M,f(D))),C(N,w)}),C(y,T)},P=y=>{var T=ki(),O=p(T),N=p(O),D=m(p(N)),k=m(p(D));V(k,17,()=>n,Y,(E,M,S)=>{var q=hi();q.textContent=S,C(E,q)});var w=m(N);V(w,21,()=>n,Y,(E,M)=>{const S=X(()=>t.mapping[f(M)]);var q=mi(),Q=p(q),$=p(Q),F=m(Q);V(F,17,()=>n,Y,(se,le,de)=>{const he=X(()=>a(f(S),de));var pe=pi();let be,Le;U(()=>{be=ct(pe,1,"hm-cell svelte-lkez8o",null,be,{"hm-active":f(he)!=null}),Le=fe(pe,"",Le,{"background-color":f(he)!=null?r[f(he)]:void 0})}),C(se,pe)});var I=m(F),G=p(I);{var ze=se=>{var le=_i(),de=p(le);U(()=>B(de,`↺${f(S).rotation??""}`)),C(se,le)},ke=se=>{var le=gi();C(se,le)};ae(G,se=>{f(S).rotation>0?se(ze):se(ke,!1)})}U(()=>B($,f(M))),C(E,q)}),C(y,T)};ae(_,y=>{f(s)==="table"?y(x):y(P,!1)})}U(()=>{v=ct(d,1,"tab-btn svelte-lkez8o",null,v,{active:f(s)==="table"}),g=ct(h,1,"tab-btn svelte-lkez8o",null,g,{active:f(s)==="heatmap"})}),ne("click",i,function(...y){t.onclose?.apply(this,y)}),ne("click",l,y=>y.stopPropagation()),ne("keydown",l,y=>y.stopPropagation()),ne("click",c,function(...y){t.onclose?.apply(this,y)}),ne("click",d,()=>H(s,"table")),ne("click",h,()=>H(s,"heatmap")),C(e,i),je()}zt(["click","keydown"]);var yi=A('<span class="mock-char svelte-6tkfpf"> </span>'),xi=A('<span class="mock-char svelte-6tkfpf"> </span>'),Ci=A('<span class="mock-card svelte-6tkfpf"> </span>'),Ei=A('<span class="mock-legend-chip svelte-6tkfpf"></span>'),Ti=A('<div class="mock-col-card svelte-6tkfpf"> </div>'),Ai=A('<div class="mock-col svelte-6tkfpf"><div class="mock-col-pt svelte-6tkfpf"> </div> <div class="mock-col-ct svelte-6tkfpf"> </div> <div class="mock-col-rot svelte-6tkfpf"> </div> <!> <div class="mock-col-card muted svelte-6tkfpf">…</div></div>'),Si=A('<span class="mock-char svelte-6tkfpf"> </span>'),zi=A('<span class="mock-char svelte-6tkfpf"> </span>'),Pi=A('<span class="mock-swap-chip svelte-6tkfpf"> </span>'),Mi=A('<tr class="svelte-6tkfpf"><td class="mock-td-pt svelte-6tkfpf"> </td><td class="mock-td-rot svelte-6tkfpf"> </td><td class="mock-td-swaps svelte-6tkfpf"></td></tr>'),Oi=A(`<div class="backdrop svelte-6tkfpf" role="presentation"><div class="modal svelte-6tkfpf" role="dialog" aria-modal="true" aria-label="Tutorial" tabindex="-1"><div class="modal-header svelte-6tkfpf"><span class="modal-title svelte-6tkfpf">Tutorial</span> <button class="close-btn svelte-6tkfpf" aria-label="Close">×</button></div> <div class="modal-body svelte-6tkfpf"><section><h2 class="section-heading svelte-6tkfpf">Overview</h2> <div class="prose-block svelte-6tkfpf"><h3 class="sub-heading svelte-6tkfpf">What is DeckLab?</h3> <p class="svelte-6tkfpf">DeckLab is an interactive deck cipher visualization tool. Type any
            text into the input box and the watch it be enciphered in real-time,
            showing every deck state along the way.</p></div> <div class="prose-block svelte-6tkfpf"><h3 class="sub-heading svelte-6tkfpf">What is a Deck Cipher?</h3> <p class="svelte-6tkfpf">A deck cipher is a type of <em>auto-key cipher</em> that uses a
            deck of symbols as its state. Each plaintext (PT) symbol
            maps to a specific <em>transformation</em>. For simplicity, DeckLab
            transformations are currently always represented by a left-rotation
            (cyclic shift) of 0 or more followed by one or more swaps of card
            positions. After each transformation, the top card of the deck becomes
            the ciphertext (CT) symbol. Because the deck changes with every character,
            the same PT letter produces a different CT letter depending on what came before
            it.
            One critical property of the cipher - that no 2 transformations result in the same card
            being brought to the top of the deck - is intentionally maintained to make
            DeckLab ciphers similar to a type of theorized cipher in the Noita Eye Messages community.</p></div> <div class="prose-block svelte-6tkfpf"><h3 class="sub-heading svelte-6tkfpf">Relation to the Noita Eye Messages</h3> <p class="svelte-6tkfpf"> <a href="https://noita.wiki.gg/wiki/Eye_Messages" target="_blank" rel="noopener noreferrer" class="svelte-6tkfpf">Noita Eye Puzzle</a> <a href="https://github.com/Lymm37/eye-messages/wiki/Group-Autokey-%28GAK%29" target="_blank" rel="noopener noreferrer" class="svelte-6tkfpf">Group Autokey (GAK)</a> class of ciphers.
            The full set of GAK ciphers is the symmetric group S26. DeckLab only generates
            a subset of S26 due to the simple (rotation+swaps) implementation.
            Additionally, DeckLab only supports 26 symbols (A–Z); any true Eye Puzzle
            mechanism would need to support 83 symbols.</p></div></section> <section><h2 class="section-heading svelte-6tkfpf">Features</h2> <div class="feature-row svelte-6tkfpf"><div class="feature-desc svelte-6tkfpf"><h3 class="feature-heading svelte-6tkfpf">Cipher Controls</h3> <p class="svelte-6tkfpf"><strong>Randomize Cipher</strong> generates a new random cipher
              using the current settings. Each PT letter gets a unique
              transformation; no two share the same one.</p> <p class="svelte-6tkfpf"><strong>Swaps</strong> (1–13) controls how many card-position
              pairs are exchanged per transformation.</p> <p class="svelte-6tkfpf"><strong>Rotations</strong> (0–25) sets the maximum cyclic left-shift
              applied before swaps. 0 disables rotation entirely (swaps must
              then include position 0).</p> <p class="svelte-6tkfpf"><strong>Constant Rotations</strong> — when checked, every
              transformation uses exactly the rotation max; when unchecked, each
              picks a random amount from 1 to max.</p> <p class="svelte-6tkfpf"><strong>Inspect Cipher</strong> opens the Cipher Inspector modal
              showing the full transformation mapping.</p></div> <div class="feature-visual svelte-6tkfpf"><div class="mock-controls svelte-6tkfpf"><span class="mock-btn svelte-6tkfpf">Randomize Cipher</span> <span class="mock-btn svelte-6tkfpf">Inspect Cipher</span> <span class="mock-btn svelte-6tkfpf">Show Tutorial</span></div> <div class="mock-controls svelte-6tkfpf" style="margin-top: 0.5rem;"><span class="mock-label svelte-6tkfpf">Swaps: <code class="mock-num svelte-6tkfpf">4</code></span> <span class="mock-label svelte-6tkfpf">Rotations: <code class="mock-num svelte-6tkfpf">1</code></span></div> <div class="mock-controls svelte-6tkfpf" style="margin-top: 0.4rem;"><span class="mock-label svelte-6tkfpf"><span class="mock-check svelte-6tkfpf">✓</span> Constant Rotations</span> <span class="mock-label svelte-6tkfpf"><span class="mock-check svelte-6tkfpf">✓</span> Show swap highlights</span> <span class="mock-label svelte-6tkfpf"><span class="mock-uncheck svelte-6tkfpf">☐</span> Show isomorphs</span> <span class="mock-label svelte-6tkfpf"><span class="mock-uncheck svelte-6tkfpf">☐</span> Animate deck</span></div></div></div> <div class="feature-divider svelte-6tkfpf"></div> <div class="feature-row svelte-6tkfpf"><div class="feature-desc svelte-6tkfpf"><h3 class="feature-heading svelte-6tkfpf">How Encipherment Works</h3> <p class="svelte-6tkfpf">Encipherment always starts from the ordered deck A–Z. For each PT
              character:</p> <ol class="feature-list svelte-6tkfpf"><li class="svelte-6tkfpf">Look up that character's transformation (rotation + swaps).</li> <li class="svelte-6tkfpf">Apply the rotation — cyclic left-shift the deck by N positions.</li> <li class="svelte-6tkfpf">Apply the swaps — exchange the specified card-position pairs.</li> <li class="svelte-6tkfpf">Read the top card — that is the CT character.</li></ol> <p class="svelte-6tkfpf">Because the deck carries state between steps, identical PT letters
              produce different CT letters at different positions.</p></div> <div class="feature-visual svelte-6tkfpf"><pre class="diagram svelte-6tkfpf"></pre></div></div> <div class="feature-divider svelte-6tkfpf"></div> <div class="feature-row svelte-6tkfpf"><div class="feature-desc svelte-6tkfpf"><h3 class="feature-heading svelte-6tkfpf">Plaintext &amp; Ciphertext Display</h3> <p class="svelte-6tkfpf">Below the text input are two read-only strips:</p> <ul class="feature-list svelte-6tkfpf"><li class="svelte-6tkfpf"><strong>Plaintext strip</strong> — only the A–Z characters you
                typed, uppercased. Non-letter characters are removed. This is
                the exact sequence fed into the cipher.</li> <li class="svelte-6tkfpf"><strong>Ciphertext strip</strong> — the resulting CT characters,
                aligned position-by-position with the filtered plaintext.</li></ul> <p class="svelte-6tkfpf">When an isomorph is selected, both strips highlight the two
              matching substrings — the first in purple, the second in cyan.</p></div> <div class="feature-visual svelte-6tkfpf"><div class="mock-strip-label svelte-6tkfpf">PT</div> <div class="mock-strip svelte-6tkfpf"></div> <div class="mock-strip-label svelte-6tkfpf" style="margin-top: 0.5rem;">CT</div> <div class="mock-strip svelte-6tkfpf"></div> <p class="visual-caption svelte-6tkfpf">Purple = isomorph substring A &nbsp;·&nbsp; Cyan = isomorph substring B</p></div></div> <div class="feature-divider svelte-6tkfpf"></div> <div class="feature-row svelte-6tkfpf"><div class="feature-desc svelte-6tkfpf"><h3 class="feature-heading svelte-6tkfpf">Current Deck State</h3> <p class="svelte-6tkfpf">The <strong>Deck View</strong> (bottom of the left panel) shows
              the deck's arrangement after the most recent encipherment step.
              Each card is shown in its current position.</p> <p class="svelte-6tkfpf">With <strong>Show swap highlights</strong> enabled, cards that
              were moved by a swap are colored by which swap pair moved them.
              Up to 13 swaps are supported - each with a distinct color.
              The number assigned to a given swap, e.g., swap 1, swap 2, isn't structurally
              important to the encipherment process but helps maintain visual
              consistency.</p> <p class="svelte-6tkfpf">Enable <strong>Animate deck</strong> to see smooth FLIP animations
              as cards move to their new positions with each keystroke.</p></div> <div class="feature-visual svelte-6tkfpf"><div class="mock-deck svelte-6tkfpf"><!> <span class="mock-card-ellipsis svelte-6tkfpf">…</span></div> <p class="visual-caption svelte-6tkfpf">Colors = swap pairs &nbsp;·&nbsp; Plain = unswapped</p> <div class="mock-swap-legend svelte-6tkfpf"></div></div></div> <div class="feature-divider svelte-6tkfpf"></div> <div class="feature-row svelte-6tkfpf"><div class="feature-desc svelte-6tkfpf"><h3 class="feature-heading svelte-6tkfpf">Historical Deck State</h3> <p class="svelte-6tkfpf">The <strong>right panel</strong> shows the full encipherment
              history — one column per PT character, scrollable horizontally.
              Each column displays:</p> <ul class="feature-list svelte-6tkfpf"><li class="svelte-6tkfpf">The PT character (top, muted)</li> <li class="svelte-6tkfpf">The CT character (bold)</li> <li class="svelte-6tkfpf">The rotation applied (<code>↺N</code>, or blank)</li> <li class="svelte-6tkfpf">All 26 deck cards in order after that step</li></ul> <p class="svelte-6tkfpf">The initial <strong>—</strong> column shows the starting A–Z deck
              before any encipherment. When an isomorph is selected, bracket
              outlines highlight the two matching column groups.</p></div> <div class="feature-visual svelte-6tkfpf"><div class="mock-multideck svelte-6tkfpf"></div> <p class="visual-caption svelte-6tkfpf">Each column = one PT→CT step and the resultant deck state</p></div></div> <div class="feature-divider svelte-6tkfpf"></div> <div class="feature-row svelte-6tkfpf"><div class="feature-desc svelte-6tkfpf"><h3 class="feature-heading svelte-6tkfpf">Card Path Tracing</h3> <p class="svelte-6tkfpf">Click any mini-card in the historical deck view to trace that
              card's movement across deck states. A colored polyline connects
              the card's position through the next <strong>10 columns</strong>,
              showing exactly how it travels as the cipher evolves.</p> <p class="svelte-6tkfpf">Multiple cards can be traced simultaneously — each gets a
              distinct color. The same card letter can have more than one
              active trace: clicking an un-highlighted "O" at a later column
              adds a new "O" trace from that position rather than replacing
              the existing one.</p> <p class="svelte-6tkfpf">Click a <strong>highlighted</strong> card (one within an active
              trace window) to remove that specific trace. A <strong>Clear traces</strong> button appears in the controls
              whenever any trace is active. Randomizing the cipher clears
              all traces.</p></div> <div class="feature-visual svelte-6tkfpf"><svg viewBox="0 0 148 92" class="trace-diagram svelte-6tkfpf" xmlns="http://www.w3.org/2000/svg"><text x="20" y="14" text-anchor="middle" font-family="monospace" font-size="9" fill="#abb2bf">—</text><text x="55" y="14" text-anchor="middle" font-family="monospace" font-size="9" fill="#abb2bf">1</text><text x="90" y="14" text-anchor="middle" font-family="monospace" font-size="9" fill="#abb2bf">2</text><text x="125" y="14" text-anchor="middle" font-family="monospace" font-size="9" fill="#abb2bf">3</text><polyline points="20,70 55,30 90,70 125,50" fill="none" stroke="#ff6b6b" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" opacity="0.85"></polyline><polyline points="20,30 55,50 90,30 125,70" fill="none" stroke="#20c997" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" opacity="0.85"></polyline><rect x="10" y="22" width="20" height="16" rx="2" fill="#3a3f4a" stroke="#20c997" stroke-width="1.5"></rect><text x="20" y="34" text-anchor="middle" font-family="monospace" font-size="8" font-weight="600" fill="#20c997">E</text><rect x="10" y="42" width="20" height="16" rx="2" fill="#3a3f4a"></rect><text x="20" y="54" text-anchor="middle" font-family="monospace" font-size="8" font-weight="600" fill="#cdd3de">P</text><rect x="10" y="62" width="20" height="16" rx="2" fill="#3a3f4a" stroke="#ff6b6b" stroke-width="1.5"></rect><text x="20" y="74" text-anchor="middle" font-family="monospace" font-size="8" font-weight="600" fill="#ff6b6b">O</text><rect x="45" y="22" width="20" height="16" rx="2" fill="#3a3f4a" stroke="#ff6b6b" stroke-width="1.5"></rect><text x="55" y="34" text-anchor="middle" font-family="monospace" font-size="8" font-weight="600" fill="#ff6b6b">O</text><rect x="45" y="42" width="20" height="16" rx="2" fill="#3a3f4a" stroke="#20c997" stroke-width="1.5"></rect><text x="55" y="54" text-anchor="middle" font-family="monospace" font-size="8" font-weight="600" fill="#20c997">E</text><rect x="45" y="62" width="20" height="16" rx="2" fill="#3a3f4a"></rect><text x="55" y="74" text-anchor="middle" font-family="monospace" font-size="8" font-weight="600" fill="#cdd3de">X</text><rect x="80" y="22" width="20" height="16" rx="2" fill="#3a3f4a" stroke="#20c997" stroke-width="1.5"></rect><text x="90" y="34" text-anchor="middle" font-family="monospace" font-size="8" font-weight="600" fill="#20c997">E</text><rect x="80" y="42" width="20" height="16" rx="2" fill="#3a3f4a"></rect><text x="90" y="54" text-anchor="middle" font-family="monospace" font-size="8" font-weight="600" fill="#cdd3de">Q</text><rect x="80" y="62" width="20" height="16" rx="2" fill="#3a3f4a" stroke="#ff6b6b" stroke-width="1.5"></rect><text x="90" y="74" text-anchor="middle" font-family="monospace" font-size="8" font-weight="600" fill="#ff6b6b">O</text><rect x="115" y="22" width="20" height="16" rx="2" fill="#3a3f4a"></rect><text x="125" y="34" text-anchor="middle" font-family="monospace" font-size="8" font-weight="600" fill="#cdd3de">Y</text><rect x="115" y="42" width="20" height="16" rx="2" fill="#3a3f4a" stroke="#ff6b6b" stroke-width="1.5"></rect><text x="125" y="54" text-anchor="middle" font-family="monospace" font-size="8" font-weight="600" fill="#ff6b6b">O</text><rect x="115" y="62" width="20" height="16" rx="2" fill="#3a3f4a" stroke="#20c997" stroke-width="1.5"></rect><text x="125" y="74" text-anchor="middle" font-family="monospace" font-size="8" font-weight="600" fill="#20c997">E</text><text x="20" y="88" text-anchor="middle" font-size="9" fill="#555">…</text><text x="55" y="88" text-anchor="middle" font-size="9" fill="#555">…</text><text x="90" y="88" text-anchor="middle" font-size="9" fill="#555">…</text><text x="125" y="88" text-anchor="middle" font-size="9" fill="#555">…</text></svg> <p class="visual-caption svelte-6tkfpf">Coral trace = card "O" &nbsp;·&nbsp; Teal trace = card "E"</p> <div class="mock-controls svelte-6tkfpf" style="margin-top: 0.5rem;"><span class="mock-btn svelte-6tkfpf">Clear traces</span></div></div></div> <div class="feature-divider svelte-6tkfpf"></div> <div class="feature-row svelte-6tkfpf"><div class="feature-desc svelte-6tkfpf"><h3 class="feature-heading svelte-6tkfpf">Isomorphs</h3> <p class="svelte-6tkfpf">An <strong>isomorph</strong> is two sequences of text which are
              substitutions of each other. A slightly-incorrect but more useful
              definition in the context of this tool is:
              a pattern describing which positions in a string share the same character.
              For example, <code>FHWOFNFO</code> <code>a..ba.ab</code> — positions 0, 4, and 6 all contain the same
              character (labeled <code>a</code>), positions 3 and 7 contain the same
              character (labeled <code>b</code>) which is different from the first
              repeating character <code>a</code> Positions that don't repeate are labeled with <code>.</code>.</p> <p class="svelte-6tkfpf">Two ciphertext substrings are <em>isomorphic</em> if they share
              the same pattern. This can hint that their underlying plaintexts
              are identical — useful for cryptanalysis.</p> <p class="svelte-6tkfpf">Enable <strong>Show isomorphs</strong> to reveal the isomorph
              list below the deck. Isomorphs are sorted by how interesting they
              are (denser repetition = higher). Click any entry to highlight
              both matching substrings across the PT strip, CT strip, and
              historical deck columns simultaneously.</p> <p class="svelte-6tkfpf"> <a href="https://tomster12.github.io/isomorph-viewer/" target="_blank" rel="noopener noreferrer">Tomster12's Isomorph Viewer</a> <a href="https://github.com/Lymm37/eye-messages/wiki/Isomorphs-%28Gap-Patterns%29" target="_blank" rel="noopener noreferrer">Lymm's Isomorph (Gap Patterns)</a>.</p></div> <div class="feature-visual svelte-6tkfpf"><div class="mock-isomorph-entry svelte-6tkfpf"><span class="mock-iso-pattern svelte-6tkfpf">a..ba.ab</span> <span class="mock-iso-badge svelte-6tkfpf">×1</span></div> <div class="mock-strip svelte-6tkfpf" style="margin-top: 0.75rem;"></div> <div class="mock-strip svelte-6tkfpf" style="margin-top: 0.3rem;"></div> <p class="visual-caption svelte-6tkfpf">Same isomorph pattern — purple (A) and cyan (B)</p></div></div> <div class="feature-divider svelte-6tkfpf"></div> <div class="feature-row svelte-6tkfpf"><div class="feature-desc svelte-6tkfpf"><h3 class="feature-heading svelte-6tkfpf">Cipher Inspector</h3> <p class="svelte-6tkfpf">Click <strong>Inspect Cipher</strong> to open the Cipher Inspector
              — a modal showing the complete cipher mapping.</p> <p class="svelte-6tkfpf"><strong>Table tab:</strong> One row per PT letter (A–Z) showing
              the rotation amount and each swap pair as a color-coded chip (e.g. <code>0↔3</code>). Useful for reading the exact transformation for
              any letter.</p> <p class="svelte-6tkfpf"><strong>Heatmap tab:</strong> A 26×26 grid where each cell is
              colored if that deck position is involved in a swap for that PT
              letter. The right column shows the rotation. Useful for spotting
              structural patterns across the entire mapping at a glance.</p></div> <div class="feature-visual svelte-6tkfpf"><table class="mock-table svelte-6tkfpf"><thead><tr><th class="svelte-6tkfpf">PT</th><th class="svelte-6tkfpf">↺</th><th class="svelte-6tkfpf">Swaps</th></tr></thead><tbody></tbody></table> <p class="visual-caption svelte-6tkfpf">Table tab — color-coded swap chips per PT letter</p></div></div></section></div></div></div>`);function Ri(e,t){He(t,!0);const r=["#e06c75","#e5c07b","#61afef","#98c379","#c678dd","#56b6c2","#d19a66"],n=["A","B","C","D","E","F","G","H","I","J"],s=["#e06c75","#e5c07b","#61afef","#98c379",null,null,null,null,null,null];var a=Oi();Nn("keydown",Jt,j=>{j.key==="Escape"&&t.onclose()});var i=p(a),l=p(i),o=m(p(l),2),c=m(l,2),u=p(c),d=m(p(u),6),v=m(p(d),2),h=p(v);h.nodeValue=`DeckLab ciphers are based on community research
            into the  `;var g=m(h,2);g.nodeValue=` — an unsolved cryptogram in the video game
            Noita. A deck cipher is one theorized mechanism for the encryption.
            DeckLab ciphers fall into the  `;var b=m(u,2),_=m(p(b),6),x=m(p(_),2),P=p(x);P.textContent=`Initial deck (A–Z):
  [A][B][C][D][E]…[Z]

PT = "H"  →  transformation for H:
  rotation ↺1
  [B][C][D][E]…[Z][A]

  swaps: 0↔3, 1↔5, …
  [E][…][…][B]…

  top card (now [E]) = CT character`;var y=m(_,4),T=m(p(y),2),O=m(p(T),2);V(O,20,()=>"HELLOWORLD".split(""),Y,(j,J,R)=>{var K=yi();fe(K,"",{},{"background-color":R>=2&&R<=4?"#c678dd33":R>=7&&R<=9?"#56b6c233":void 0,color:R>=2&&R<=4?"#c678dd":R>=7&&R<=9?"#56b6c2":void 0});var ve=p(K);U(()=>B(ve,J)),C(j,K)});var N=m(O,4);V(N,20,()=>"MQXFXJRKXK".split(""),Y,(j,J,R)=>{var K=xi();fe(K,"",{},{"background-color":R>=2&&R<=4?"#c678dd33":R>=7&&R<=9?"#56b6c233":void 0,color:R>=2&&R<=4?"#c678dd":R>=7&&R<=9?"#56b6c2":void 0});var ve=p(K);U(()=>B(ve,J)),C(j,K)});var D=m(y,4),k=m(p(D),2),w=p(k),E=p(w);V(E,17,()=>n,Y,(j,J,R)=>{var K=Ci();let ve;var De=p(K);U(()=>{ve=fe(K,"",ve,{"background-color":s[R]??"#3a3f4a",color:s[R]?"#1e1e1e":"#abb2bf"}),B(De,f(J))}),C(j,K)});var M=m(w,4);V(M,21,()=>r,Y,(j,J,R)=>{var K=Ei();let ve;K.textContent=`Swap ${R+1}`,U(()=>ve=fe(K,"",ve,{"background-color":f(J)})),C(j,K)});var S=m(D,4),q=m(p(S),2),Q=p(q);V(Q,20,()=>[{pt:"—",ct:"—",rot:"",cards:["A","B","C"]},{pt:"H",ct:"M",rot:"↺1",cards:["D","B","C"]},{pt:"E",ct:"Q",rot:"↺1",cards:["F","B","C"]},{pt:"L",ct:"X",rot:"↺1",cards:["G","F","C"]}],Y,(j,J)=>{var R=Ai(),K=p(R),ve=p(K),De=m(K,2),Pt=p(De),gt=m(De,2),Mt=p(gt),Ot=m(gt,2);V(Ot,17,()=>J.cards,Y,(mt,kt)=>{var bt=Ti(),Rt=p(bt);U(()=>B(Rt,f(kt))),C(mt,bt)}),U(()=>{B(ve,J.pt),B(Pt,J.ct),B(Mt,J.rot)}),C(j,R)});var $=m(S,8),F=p($),I=m(p(F),2),G=m(p(I),4);G.nodeValue=" has the isomorph pattern  ";var ze=m(I,6),ke=p(ze);ke.nodeValue=`For more information on isomorphs in relation to the Noita eye messages
              see   `;var se=m(ke,2);se.nodeValue=`.
              And for a more precise definition, see   `;var le=m(F,2),de=m(p(le),2);V(de,20,()=>"FHWOFNFO".split(""),Y,(j,J)=>{var R=Si();fe(R,"",{},{"background-color":"#c678dd33",color:"#c678dd"});var K=p(R);U(()=>B(K,J)),C(j,R)});var he=m(de,2);V(he,20,()=>"UVONUYUN".split(""),Y,(j,J)=>{var R=zi();fe(R,"",{},{"background-color":"#56b6c233",color:"#56b6c2"});var K=p(R);U(()=>B(K,J)),C(j,R)});var pe=m($,4),be=m(p(pe),2),Le=p(be),_t=m(p(Le));V(_t,20,()=>[{pt:"A",rot:"↺1",swaps:[[0,3],[1,5],[2,7],[4,6]]},{pt:"B",rot:"↺1",swaps:[[0,2],[3,8],[1,6],[4,9]]},{pt:"C",rot:"↺1",swaps:[[0,4],[2,9],[3,5],[1,7]]}],Y,(j,J)=>{var R=Mi(),K=p(R),ve=p(K),De=m(K),Pt=p(De),gt=m(De);V(gt,21,()=>J.swaps,Y,(Mt,Ot,mt)=>{var kt=X(()=>Kr(f(Ot),2));let bt=()=>f(kt)[0],Rt=()=>f(kt)[1];var z=Pi();let ee;var Xe=p(z);U(()=>{ee=fe(z,"",ee,{"background-color":r[mt]}),B(Xe,`${bt()??""}↔${Rt()??""}`)}),C(Mt,z)}),U(()=>{B(ve,J.pt),B(Pt,J.rot)}),C(j,R)}),ne("click",a,function(...j){t.onclose?.apply(this,j)}),ne("click",i,j=>j.stopPropagation()),ne("keydown",i,j=>j.stopPropagation()),ne("click",o,function(...j){t.onclose?.apply(this,j)}),C(e,a),je()}zt(["click","keydown"]);function Ii(e){let t=e|0;return()=>{t=t+1831565813|0;let r=Math.imul(t^t>>>15,1|t);return r=r+Math.imul(r^r>>>7,61|r)^r,((r^r>>>14)>>>0)/4294967296}}const er=26;function Li(e){return(e-1)%25+1}function Di(e,t,r){const n=[],s=new Set;for(;n.length<r;){const a=1+Math.floor(e()*(t-1));s.has(a)||(s.add(a),n.push(a))}return n}function Ni(e,t,r){const n=[],s=new Set;for(;n.length<r;){const a=Math.floor(e()*t);s.has(a)||(s.add(a),n.push(a))}return n}function qi(){const e={};for(let t=0;t<er;t++){const r=String.fromCharCode(65+t),n=[];for(let l=0;l<7;l++)n.push(Li(t+1+l));const s=t%7,a=n[s],i=n.filter((l,o)=>o!==s);e[r]={swaps:[[0,a],[i[0],i[1]],[i[2],i[3]],[i[4],i[5]]],rotation:1}}return e}function Bi(e,t,r){let n;r===0?n=[0,...Di(e,er,t*2-1)]:n=Ni(e,er,t*2);const s=[];for(let a=0;a<n.length;a+=2)s.push([n[a],n[a+1]]);return{swaps:s,rotation:r}}function Fi(e){const t=e.swaps.map(([r,n])=>r<n?[r,n]:[n,r]).sort((r,n)=>r[0]-n[0]||r[1]-n[1]);return`r${e.rotation};${t.map(([r,n])=>`${r},${n}`).join(";")}`}function Hi(e,t){if(t.swapCount===1&&t.rotationMax===0)throw new Error("Invalid cipher config: swapCount=1 with rotationMax=0 can only produce 25 unique transformations, but 26 are required. Increase swapCount to at least 2, or set rotationMax > 0.");const r=Ii(e),n={},s=new Set;for(let a=0;a<er;a++){const i=String.fromCharCode(65+a);for(;;){let l=0;t.rotationMax>0&&(l=t.rotationConstant?t.rotationMax:1+Math.floor(r()*t.rotationMax));const o=Bi(r,t.swapCount,l),c=Fi(o);if(!s.has(c)){s.add(c),n[i]=o;break}}}return n}var ji=A('<button class="svelte-1n46o8q">Clear traces</button>'),Wi=A('<div class="app-layout svelte-1n46o8q"><main class="left-panel svelte-1n46o8q"><h1 class="svelte-1n46o8q">DeckLab</h1> <div class="controls svelte-1n46o8q"><button class="svelte-1n46o8q">Randomize Cipher</button> <button class="svelte-1n46o8q">Inspect Cipher</button> <button class="svelte-1n46o8q">Show Tutorial</button> <label class="control-label svelte-1n46o8q">Swaps: <input type="number" class="num-input svelte-1n46o8q" max="13"/></label> <label class="control-label svelte-1n46o8q">Rotations: <input type="number" class="num-input svelte-1n46o8q" min="0" max="25"/></label> <label><input type="checkbox"/> Constant Rotations</label> <label class="highlight-toggle svelte-1n46o8q"><input type="checkbox"/> Show swap highlights</label> <label class="highlight-toggle svelte-1n46o8q"><input type="checkbox"/> Show isomorphs</label> <label class="highlight-toggle svelte-1n46o8q"><input type="checkbox"/> Animate deck</label> <!></div> <!> <!> <!> <!> <!></main> <div class="right-panel svelte-1n46o8q"><!></div></div> <!> <!>',1);function Ui(e,t){He(t,!0);const r=new Set([" ",`
`,"."]),n=10,s=["#ffffff","#ff6b6b","#ffd93d","#6bcb77","#4d96ff","#ff922b","#cc5de8","#20c997"];let a=te(Ze(qi())),i=te(Ze([])),l=te(""),o=te(!0),c=te(!1),u=te(!1),d=te(!1),v=te(!1),h=te(null),g=te(4),b=te(1),_=te(!0),x=X(()=>[...f(l)].filter(z=>{const ee=z.toUpperCase();return ee>="A"&&ee<="Z"}).map(z=>z.toUpperCase()).join("")),P=X(()=>Ha(f(l),f(a))),y=X(()=>$a(f(P).ciphertext)),T=X(()=>f(h)?{startA:f(h).startA,startB:f(h).startB,length:f(h).pattern.length}:null),O=X(()=>{const z=f(P).ciphertext,ee=f(T),Xe=[],Ne=[];let qe=0;for(const Qe of f(l))if(r.has(Qe))Xe.push({char:Qe,highlight:null}),Ne.push({char:Qe,highlight:null});else{const ir=Qe.toUpperCase();if(ir>="A"&&ir<="Z"){let Vt=null;ee&&(qe>=ee.startA&&qe<ee.startA+ee.length?Vt="A":qe>=ee.startB&&qe<ee.startB+ee.length&&(Vt="B")),Xe.push({char:ir,highlight:Vt}),Ne.push({char:z[qe],highlight:Vt}),qe++}}return{ptTokens:Xe,ctTokens:Ne}});Or(()=>{f(P).ciphertext,H(h,null)}),Or(()=>{f(b)===0&&f(g)<2&&H(g,2)});function N(){const z=Math.floor(Math.random()*4294967296);H(a,Hi(z,{swapCount:f(g),rotationMax:f(b),rotationConstant:f(_)}),!0),H(i,[],!0),H(h,null)}function D(z,ee){const Xe=f(i).findIndex(Ne=>Ne.card===z&&ee>=Ne.startCol&&ee<Ne.startCol+n);if(Xe!==-1)H(i,f(i).filter((Ne,qe)=>qe!==Xe),!0);else{const Ne=new Set(f(i).map(Qe=>Qe.color)),qe=s.find(Qe=>!Ne.has(Qe))??s[f(i).length%s.length];H(i,[...f(i),{card:z,startCol:ee,color:qe}],!0)}}function k(){H(i,[],!0)}var w=Wi(),E=Ge(w),M=p(E),S=m(p(M),2),q=p(S),Q=m(q,2),$=m(Q,2),F=m($,2),I=m(p(F)),G=m(F,2),ze=m(p(G)),ke=m(G,2);let se;var le=p(ke),de=m(ke,2),he=p(de),pe=m(de,2),be=p(pe),Le=m(pe,2),_t=p(Le),j=m(Le,2);{var J=z=>{var ee=ji();ne("click",ee,k),C(z,ee)};ae(j,z=>{f(i).length>0&&z(J)})}var R=m(S,2);wa(R,{oninput:z=>H(l,z,!0)});var K=m(R,2);oi(K,{get tokens(){return f(O).ptTokens}});var ve=m(K,2);Ta(ve,{get tokens(){return f(O).ctTokens}});var De=m(ve,2);qa(De,{get deck(){return f(P).deck},get lastTransformation(){return f(P).lastTransformation},get showHighlights(){return f(o)},get showAnimations(){return f(v)}});var Pt=m(De,2);{var gt=z=>{ni(z,{get isomorphs(){return f(y)},get ciphertext(){return f(P).ciphertext},get selected(){return f(h)},onselect:ee=>H(h,ee,!0)})};ae(Pt,z=>{f(c)&&z(gt)})}var Mt=m(M,2),Ot=p(Mt);Ya(Ot,{get steps(){return f(P).steps},get showHighlights(){return f(o)},get highlight(){return f(T)},get plaintextChars(){return f(x)},get cardTraces(){return f(i)},traceWindow:n,ontoggle:D});var mt=m(E,2);{var kt=z=>{wi(z,{get mapping(){return f(a)},onclose:()=>H(u,!1)})};ae(mt,z=>{f(u)&&z(kt)})}var bt=m(mt,2);{var Rt=z=>{Ri(z,{onclose:()=>H(d,!1)})};ae(bt,z=>{f(d)&&z(Rt)})}U(()=>{kr(I,"min",f(b)===0?2:1),se=ct(ke,1,"control-label svelte-1n46o8q",null,se,{disabled:f(b)===0}),le.disabled=f(b)===0}),ne("click",q,N),ne("click",Q,()=>H(u,!0)),ne("click",$,()=>H(d,!0)),jr(I,()=>f(g),z=>H(g,z)),jr(ze,()=>f(b),z=>H(b,z)),Kt(le,()=>f(_),z=>H(_,z)),Kt(he,()=>f(o),z=>H(o,z)),Kt(be,()=>f(c),z=>H(c,z)),Kt(_t,()=>f(v),z=>H(v,z)),C(e,w),je()}zt(["click"]);ta(Ui,{target:document.getElementById("app")});
