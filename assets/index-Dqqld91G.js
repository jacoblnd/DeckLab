(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();const it=!1;var Bt=Array.isArray,On=Array.prototype.indexOf,Pe=Array.prototype.includes,Qe=Array.from,Rn=Object.defineProperty,je=Object.getOwnPropertyDescriptor,In=Object.prototype,Dn=Array.prototype,qn=Object.getPrototypeOf,kt=Object.isExtensible;const Fn=()=>{};function Ln(e){for(var t=0;t<e.length;t++)e[t]()}function Ht(){var e,t,n=new Promise((r,i)=>{e=r,t=i});return{promise:n,resolve:e,reject:t}}const R=2,Je=4,$e=8,jt=1<<24,ae=16,re=32,Se=64,Vt=128,Z=512,T=1024,I=2048,ne=4096,U=8192,ue=16384,Ke=32768,Ne=65536,Ct=1<<17,Ut=1<<18,ze=1<<19,zn=1<<20,le=1<<25,Ee=65536,st=1<<21,ct=1<<22,ce=1<<23,nt=Symbol("$state"),ge=new class extends Error{name="StaleReactionError";message="The reaction that called `getAbortSignal()` was re-run or destroyed"};function Bn(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function Hn(e,t,n){throw new Error("https://svelte.dev/e/each_key_duplicate")}function jn(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function Vn(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function Un(e){throw new Error("https://svelte.dev/e/effect_orphan")}function Kn(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function Wn(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function Yn(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function Zn(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}function Gn(){throw new Error("https://svelte.dev/e/svelte_boundary_reset_onerror")}const Xn=1,Jn=2,Kt=4,Qn=8,$n=16,er=2,P=Symbol(),tr="http://www.w3.org/1999/xhtml";function nr(){console.warn("https://svelte.dev/e/svelte_boundary_reset_noop")}function Wt(e){return e===this.v}function rr(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function Yt(e){return!rr(e,this.v)}let ir=!1,X=null;function Oe(e){X=e}function ke(e,t=!1,n){X={p:X,i:!1,c:null,e:null,s:e,x:null,l:null}}function Ce(e){var t=X,n=t.e;if(n!==null){t.e=null;for(var r of n)cn(r)}return t.i=!0,X=t.p,{}}function Zt(){return!0}let Te=[];function sr(){var e=Te;Te=[],Ln(e)}function we(e){if(Te.length===0){var t=Te;queueMicrotask(()=>{t===Te&&sr()})}Te.push(e)}function Gt(e){var t=b;if(t===null)return w.f|=ce,e;if((t.f&Ke)===0&&(t.f&Je)===0)throw e;Re(e,t)}function Re(e,t){for(;t!==null;){if((t.f&Vt)!==0){if((t.f&Ke)===0)throw e;try{t.b.error(e);return}catch(n){e=n}}t=t.parent}throw e}const lr=-7169;function S(e,t){e.f=e.f&lr|t}function ht(e){(e.f&Z)!==0||e.deps===null?S(e,T):S(e,ne)}function Xt(e){if(e!==null)for(const t of e)(t.f&R)===0||(t.f&Ee)===0||(t.f^=Ee,Xt(t.deps))}function Jt(e,t,n){(e.f&I)!==0?t.add(e):(e.f&ne)!==0&&n.add(e),Xt(e.deps),S(e,T)}const Ze=new Set;let y=null,$=null,W=[],vt=null,lt=!1;class he{committed=!1;current=new Map;previous=new Map;#t=new Set;#a=new Set;#e=0;#s=0;#l=null;#r=new Set;#n=new Set;#i=new Map;is_fork=!1;#f=!1;is_deferred(){return this.is_fork||this.#s>0}skip_effect(t){this.#i.has(t)||this.#i.set(t,{d:[],m:[]})}unskip_effect(t){var n=this.#i.get(t);if(n){this.#i.delete(t);for(var r of n.d)S(r,I),ee(r);for(r of n.m)S(r,ne),ee(r)}}process(t){W=[],this.apply();var n=[],r=[];for(const i of t)this.#o(i,n,r);if(this.is_deferred()){this.#u(r),this.#u(n);for(const[i,s]of this.#i)en(i,s)}else{for(const i of this.#t)i();this.#t.clear(),this.#e===0&&this.#c(),y=null,Tt(r),Tt(n),this.#l?.resolve()}$=null}#o(t,n,r){t.f^=T;for(var i=t.first,s=null;i!==null;){var l=i.f,f=(l&(re|Se))!==0,a=f&&(l&T)!==0,o=a||(l&U)!==0||this.#i.has(i);if(!o&&i.fn!==null){f?i.f^=T:s!==null&&(l&(Je|$e|jt))!==0?s.b.defer_effect(i):(l&Je)!==0?n.push(i):Ye(i)&&((l&ae)!==0&&this.#n.add(i),qe(i));var u=i.first;if(u!==null){i=u;continue}}var h=i.parent;for(i=i.next;i===null&&h!==null;)h===s&&(s=null),i=h.next,h=h.parent}}#u(t){for(var n=0;n<t.length;n+=1)Jt(t[n],this.#r,this.#n)}capture(t,n){n!==P&&!this.previous.has(t)&&this.previous.set(t,n),(t.f&ce)===0&&(this.current.set(t,t.v),$?.set(t,t.v))}activate(){y=this,this.apply()}deactivate(){y===this&&(y=null,$=null)}flush(){if(this.activate(),W.length>0){if(ar(),y!==null&&y!==this)return}else this.#e===0&&this.process([]);this.deactivate()}discard(){for(const t of this.#a)t(this);this.#a.clear()}#c(){if(Ze.size>1){this.previous.clear();var t=$,n=!0;for(const i of Ze){if(i===this){n=!1;continue}const s=[];for(const[f,a]of this.current){if(i.current.has(f))if(n&&a!==i.current.get(f))i.current.set(f,a);else continue;s.push(f)}if(s.length===0)continue;const l=[...i.current.keys()].filter(f=>!this.current.has(f));if(l.length>0){var r=W;W=[];const f=new Set,a=new Map;for(const o of s)Qt(o,l,f,a);if(W.length>0){y=i,i.apply();for(const o of W)i.#o(o,[],[]);i.deactivate()}W=r}}y=null,$=t}this.committed=!0,Ze.delete(this)}increment(t){this.#e+=1,t&&(this.#s+=1)}decrement(t){this.#e-=1,t&&(this.#s-=1),!this.#f&&(this.#f=!0,we(()=>{this.#f=!1,this.is_deferred()?W.length>0&&this.flush():this.revive()}))}revive(){for(const t of this.#r)this.#n.delete(t),S(t,I),ee(t);for(const t of this.#n)S(t,ne),ee(t);this.flush()}oncommit(t){this.#t.add(t)}ondiscard(t){this.#a.add(t)}settled(){return(this.#l??=Ht()).promise}static ensure(){if(y===null){const t=y=new he;Ze.add(y),we(()=>{y===t&&t.flush()})}return y}apply(){}}function ar(){lt=!0;var e=null;try{for(var t=0;W.length>0;){var n=he.ensure();if(t++>1e3){var r,i;fr()}n.process(W),ve.clear()}}finally{W=[],lt=!1,vt=null}}function fr(){try{Kn()}catch(e){Re(e,vt)}}let se=null;function Tt(e){var t=e.length;if(t!==0){for(var n=0;n<t;){var r=e[n++];if((r.f&(ue|U))===0&&Ye(r)&&(se=new Set,qe(r),r.deps===null&&r.first===null&&r.nodes===null&&r.teardown===null&&r.ac===null&&dn(r),se?.size>0)){ve.clear();for(const i of se){if((i.f&(ue|U))!==0)continue;const s=[i];let l=i.parent;for(;l!==null;)se.has(l)&&(se.delete(l),s.push(l)),l=l.parent;for(let f=s.length-1;f>=0;f--){const a=s[f];(a.f&(ue|U))===0&&qe(a)}}se.clear()}}se=null}}function Qt(e,t,n,r){if(!n.has(e)&&(n.add(e),e.reactions!==null))for(const i of e.reactions){const s=i.f;(s&R)!==0?Qt(i,t,n,r):(s&(ct|ae))!==0&&(s&I)===0&&$t(i,t,r)&&(S(i,I),ee(i))}}function $t(e,t,n){const r=n.get(e);if(r!==void 0)return r;if(e.deps!==null)for(const i of e.deps){if(Pe.call(t,i))return!0;if((i.f&R)!==0&&$t(i,t,n))return n.set(i,!0),!0}return n.set(e,!1),!1}function ee(e){for(var t=vt=e;t.parent!==null;){t=t.parent;var n=t.f;if(lt&&t===b&&(n&ae)!==0&&(n&Ut)===0)return;if((n&(Se|re))!==0){if((n&T)===0)return;t.f^=T}}W.push(t)}function en(e,t){if(!((e.f&re)!==0&&(e.f&T)!==0)){(e.f&I)!==0?t.d.push(e):(e.f&ne)!==0&&t.m.push(e),S(e,T);for(var n=e.first;n!==null;)en(n,t),n=n.next}}function or(e){let t=0,n=xe(0),r;return()=>{mt()&&(p(n),hn(()=>(t===0&&(r=Sn(()=>e(()=>Ve(n)))),t+=1,()=>{we(()=>{t-=1,t===0&&(r?.(),r=void 0,Ve(n))})})))}}var ur=Ne|ze|Vt;function cr(e,t,n){new hr(e,t,n)}class hr{parent;is_pending=!1;#t;#a=null;#e;#s;#l;#r=null;#n=null;#i=null;#f=null;#o=null;#u=0;#c=0;#d=!1;#v=!1;#p=new Set;#_=new Set;#h=null;#y=or(()=>(this.#h=xe(this.#u),()=>{this.#h=null}));constructor(t,n,r){this.#t=t,this.#e=n,this.#s=r,this.parent=b.b,this.is_pending=!!this.#e.pending,this.#l=wt(()=>{b.b=this;{var i=this.#w();try{this.#r=Y(()=>r(i))}catch(s){this.error(s)}this.#c>0?this.#m():this.is_pending=!1}return()=>{this.#o?.remove()}},ur)}#E(){try{this.#r=Y(()=>this.#s(this.#t))}catch(t){this.error(t)}}#x(){const t=this.#e.pending;t&&(this.#n=Y(()=>t(this.#t)),we(()=>{var n=this.#w();this.#r=this.#g(()=>(he.ensure(),Y(()=>this.#s(n)))),this.#c>0?this.#m():(be(this.#n,()=>{this.#n=null}),this.is_pending=!1)}))}#w(){var t=this.#t;return this.is_pending&&(this.#o=de(),this.#t.before(this.#o),t=this.#o),t}defer_effect(t){Jt(t,this.#p,this.#_)}is_rendered(){return!this.is_pending&&(!this.parent||this.parent.is_rendered())}has_pending_snippet(){return!!this.#e.pending}#g(t){var n=b,r=w,i=X;ie(this.#l),J(this.#l),Oe(this.#l.ctx);try{return t()}catch(s){return Gt(s),null}finally{ie(n),J(r),Oe(i)}}#m(){const t=this.#e.pending;this.#r!==null&&(this.#f=document.createDocumentFragment(),this.#f.append(this.#o),gn(this.#r,this.#f)),this.#n===null&&(this.#n=Y(()=>t(this.#t)))}#b(t){if(!this.has_pending_snippet()){this.parent&&this.parent.#b(t);return}if(this.#c+=t,this.#c===0){this.is_pending=!1;for(const n of this.#p)S(n,I),ee(n);for(const n of this.#_)S(n,ne),ee(n);this.#p.clear(),this.#_.clear(),this.#n&&be(this.#n,()=>{this.#n=null}),this.#f&&(this.#t.before(this.#f),this.#f=null)}}update_pending_count(t){this.#b(t),this.#u+=t,!(!this.#h||this.#d)&&(this.#d=!0,we(()=>{this.#d=!1,this.#h&&Ie(this.#h,this.#u)}))}get_effect_pending(){return this.#y(),p(this.#h)}error(t){var n=this.#e.onerror;let r=this.#e.failed;if(this.#v||!n&&!r)throw t;this.#r&&(z(this.#r),this.#r=null),this.#n&&(z(this.#n),this.#n=null),this.#i&&(z(this.#i),this.#i=null);var i=!1,s=!1;const l=()=>{if(i){nr();return}i=!0,s&&Gn(),he.ensure(),this.#u=0,this.#i!==null&&be(this.#i,()=>{this.#i=null}),this.is_pending=this.has_pending_snippet(),this.#r=this.#g(()=>(this.#v=!1,Y(()=>this.#s(this.#t)))),this.#c>0?this.#m():this.is_pending=!1};we(()=>{try{s=!0,n?.(t,l),s=!1}catch(f){Re(f,this.#l&&this.#l.parent)}r&&(this.#i=this.#g(()=>{he.ensure(),this.#v=!0;try{return Y(()=>{r(this.#t,()=>t,()=>l)})}catch(f){return Re(f,this.#l.parent),null}finally{this.#v=!1}}))})}}function vr(e,t,n,r){const i=dt;var s=e.filter(c=>!c.settled);if(n.length===0&&s.length===0){r(t.map(i));return}var l=y,f=b,a=dr(),o=s.length===1?s[0].promise:s.length>1?Promise.all(s.map(c=>c.promise)):null;function u(c){a();try{r(c)}catch(d){(f.f&ue)===0&&Re(d,f)}l?.deactivate(),at()}if(n.length===0){o.then(()=>u(t.map(i)));return}function h(){a(),Promise.all(n.map(c=>pr(c))).then(c=>u([...t.map(i),...c])).catch(c=>Re(c,f))}o?o.then(h):h()}function dr(){var e=b,t=w,n=X,r=y;return function(s=!0){ie(e),J(t),Oe(n),s&&r?.activate()}}function at(){ie(null),J(null),Oe(null)}function dt(e){var t=R|I,n=w!==null&&(w.f&R)!==0?w:null;return b!==null&&(b.f|=ze),{ctx:X,deps:null,effects:null,equals:Wt,f:t,fn:e,reactions:null,rv:0,v:P,wv:0,parent:n??b,ac:null}}function pr(e,t,n){let r=b;r===null&&Bn();var i=r.b,s=void 0,l=xe(P),f=!w,a=new Map;return Or(()=>{var o=Ht();s=o.promise;try{Promise.resolve(e()).then(o.resolve,o.reject).then(()=>{u===y&&u.committed&&u.deactivate(),at()})}catch(d){o.reject(d),at()}var u=y;if(f){var h=i.is_rendered();i.update_pending_count(1),u.increment(h),a.get(u)?.reject(ge),a.delete(u),a.set(u,o)}const c=(d,_=void 0)=>{if(u.activate(),_)_!==ge&&(l.f|=ce,Ie(l,_));else{(l.f&ce)!==0&&(l.f^=ce),Ie(l,d);for(const[g,v]of a){if(a.delete(g),g===u)break;v.reject(ge)}}f&&(i.update_pending_count(-1),u.decrement(h))};o.promise.then(c,d=>c(null,d||"unknown"))}),Mr(()=>{for(const o of a.values())o.reject(ge)}),new Promise(o=>{function u(h){function c(){h===s?o(l):u(s)}h.then(c,c)}u(s)})}function V(e){const t=dt(e);return mn(t),t}function _r(e){const t=dt(e);return t.equals=Yt,t}function gr(e){var t=e.effects;if(t!==null){e.effects=null;for(var n=0;n<t.length;n+=1)z(t[n])}}function mr(e){for(var t=e.parent;t!==null;){if((t.f&R)===0)return(t.f&ue)===0?t:null;t=t.parent}return null}function pt(e){var t,n=b;ie(mr(e));try{e.f&=~Ee,gr(e),t=En(e)}finally{ie(n)}return t}function tn(e){var t=pt(e);if(!e.equals(t)&&(e.wv=bn(),(!y?.is_fork||e.deps===null)&&(e.v=t,e.deps===null))){S(e,T);return}Ae||($!==null?(mt()||y?.is_fork)&&$.set(e,t):ht(e))}function wr(e){if(e.effects!==null)for(const t of e.effects)(t.teardown||t.ac)&&(t.teardown?.(),t.ac?.abort(ge),t.teardown=Fn,t.ac=null,Ue(t,0),bt(t))}function nn(e){if(e.effects!==null)for(const t of e.effects)t.teardown&&qe(t)}let ft=new Set;const ve=new Map;let rn=!1;function xe(e,t){var n={f:0,v:e,reactions:null,equals:Wt,rv:0,wv:0};return n}function H(e,t){const n=xe(e);return mn(n),n}function br(e,t=!1,n=!0){const r=xe(e);return t||(r.equals=Yt),r}function j(e,t,n=!1){w!==null&&(!te||(w.f&Ct)!==0)&&Zt()&&(w.f&(R|ae|ct|Ct))!==0&&(G===null||!Pe.call(G,e))&&Zn();let r=n?Me(t):t;return Ie(e,r)}function Ie(e,t){if(!e.equals(t)){var n=e.v;Ae?ve.set(e,t):ve.set(e,n),e.v=t;var r=he.ensure();if(r.capture(e,n),(e.f&R)!==0){const i=e;(e.f&I)!==0&&pt(i),ht(i)}e.wv=bn(),sn(e,I),b!==null&&(b.f&T)!==0&&(b.f&(re|Se))===0&&(K===null?Dr([e]):K.push(e)),!r.is_fork&&ft.size>0&&!rn&&yr()}return t}function yr(){rn=!1;for(const e of ft)(e.f&T)!==0&&S(e,ne),Ye(e)&&qe(e);ft.clear()}function Ve(e){j(e,e.v+1)}function sn(e,t){var n=e.reactions;if(n!==null)for(var r=n.length,i=0;i<r;i++){var s=n[i],l=s.f,f=(l&I)===0;if(f&&S(s,t),(l&R)!==0){var a=s;$?.delete(a),(l&Ee)===0&&(l&Z&&(s.f|=Ee),sn(a,ne))}else f&&((l&ae)!==0&&se!==null&&se.add(s),ee(s))}}function Me(e){if(typeof e!="object"||e===null||nt in e)return e;const t=qn(e);if(t!==In&&t!==Dn)return e;var n=new Map,r=Bt(e),i=H(0),s=ye,l=f=>{if(ye===s)return f();var a=w,o=ye;J(null),Ot(s);var u=f();return J(a),Ot(o),u};return r&&n.set("length",H(e.length)),new Proxy(e,{defineProperty(f,a,o){(!("value"in o)||o.configurable===!1||o.enumerable===!1||o.writable===!1)&&Wn();var u=n.get(a);return u===void 0?l(()=>{var h=H(o.value);return n.set(a,h),h}):j(u,o.value,!0),!0},deleteProperty(f,a){var o=n.get(a);if(o===void 0){if(a in f){const u=l(()=>H(P));n.set(a,u),Ve(i)}}else j(o,P),Ve(i);return!0},get(f,a,o){if(a===nt)return e;var u=n.get(a),h=a in f;if(u===void 0&&(!h||je(f,a)?.writable)&&(u=l(()=>{var d=Me(h?f[a]:P),_=H(d);return _}),n.set(a,u)),u!==void 0){var c=p(u);return c===P?void 0:c}return Reflect.get(f,a,o)},getOwnPropertyDescriptor(f,a){var o=Reflect.getOwnPropertyDescriptor(f,a);if(o&&"value"in o){var u=n.get(a);u&&(o.value=p(u))}else if(o===void 0){var h=n.get(a),c=h?.v;if(h!==void 0&&c!==P)return{enumerable:!0,configurable:!0,value:c,writable:!0}}return o},has(f,a){if(a===nt)return!0;var o=n.get(a),u=o!==void 0&&o.v!==P||Reflect.has(f,a);if(o!==void 0||b!==null&&(!u||je(f,a)?.writable)){o===void 0&&(o=l(()=>{var c=u?Me(f[a]):P,d=H(c);return d}),n.set(a,o));var h=p(o);if(h===P)return!1}return u},set(f,a,o,u){var h=n.get(a),c=a in f;if(r&&a==="length")for(var d=o;d<h.v;d+=1){var _=n.get(d+"");_!==void 0?j(_,P):d in f&&(_=l(()=>H(P)),n.set(d+"",_))}if(h===void 0)(!c||je(f,a)?.writable)&&(h=l(()=>H(void 0)),j(h,Me(o)),n.set(a,h));else{c=h.v!==P;var g=l(()=>Me(o));j(h,g)}var v=Reflect.getOwnPropertyDescriptor(f,a);if(v?.set&&v.set.call(u,o),!c){if(r&&typeof a=="string"){var m=n.get("length"),x=Number(a);Number.isInteger(x)&&x>=m.v&&j(m,x+1)}Ve(i)}return!0},ownKeys(f){p(i);var a=Reflect.ownKeys(f).filter(h=>{var c=n.get(h);return c===void 0||c.v!==P});for(var[o,u]of n)u.v!==P&&!(o in f)&&a.push(o);return a},setPrototypeOf(){Yn()}})}var Mt,ln,an,fn;function Er(){if(Mt===void 0){Mt=window,ln=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype,n=Text.prototype;an=je(t,"firstChild").get,fn=je(t,"nextSibling").get,kt(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),kt(n)&&(n.__t=void 0)}}function de(e=""){return document.createTextNode(e)}function _t(e){return an.call(e)}function We(e){return fn.call(e)}function E(e,t){return _t(e)}function on(e,t=!1){{var n=_t(e);return n instanceof Comment&&n.data===""?We(n):n}}function N(e,t=1,n=!1){let r=e;for(;t--;)r=We(r);return r}function xr(e){e.textContent=""}function un(){return!1}function Ar(e,t,n){return document.createElementNS(tr,e,void 0)}let Pt=!1;function Sr(){Pt||(Pt=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{if(!e.defaultPrevented)for(const t of e.target.elements)t.__on_r?.()})},{capture:!0}))}function gt(e){var t=w,n=b;J(null),ie(null);try{return e()}finally{J(t),ie(n)}}function kr(e,t,n,r=n){e.addEventListener(t,()=>gt(n));const i=e.__on_r;i?e.__on_r=()=>{i(),r(!0)}:e.__on_r=()=>r(!0),Sr()}function Cr(e){b===null&&(w===null&&Un(),Vn()),Ae&&jn()}function Tr(e,t){var n=t.last;n===null?t.last=t.first=e:(n.next=e,e.prev=n,t.last=e)}function pe(e,t,n){var r=b;r!==null&&(r.f&U)!==0&&(e|=U);var i={ctx:X,deps:null,nodes:null,f:e|I|Z,first:null,fn:t,last:null,next:null,parent:r,b:r&&r.b,prev:null,teardown:null,wv:0,ac:null};if(n)try{qe(i)}catch(f){throw z(i),f}else t!==null&&ee(i);var s=i;if(n&&s.deps===null&&s.teardown===null&&s.nodes===null&&s.first===s.last&&(s.f&ze)===0&&(s=s.first,(e&ae)!==0&&(e&Ne)!==0&&s!==null&&(s.f|=Ne)),s!==null&&(s.parent=r,r!==null&&Tr(s,r),w!==null&&(w.f&R)!==0&&(e&Se)===0)){var l=w;(l.effects??=[]).push(s)}return i}function mt(){return w!==null&&!te}function Mr(e){const t=pe($e,null,!1);return S(t,T),t.teardown=e,t}function Pr(e){Cr();var t=b.f,n=!w&&(t&re)!==0&&(t&Ke)===0;if(n){var r=X;(r.e??=[]).push(e)}else return cn(e)}function cn(e){return pe(Je|zn,e,!1)}function Nr(e){he.ensure();const t=pe(Se|ze,e,!0);return(n={})=>new Promise(r=>{n.outro?be(t,()=>{z(t),r(void 0)}):(z(t),r(void 0))})}function Or(e){return pe(ct|ze,e,!0)}function hn(e,t=0){return pe($e|t,e,!0)}function De(e,t=[],n=[],r=[]){vr(r,t,n,i=>{pe($e,()=>e(...i.map(p)),!0)})}function wt(e,t=0){var n=pe(ae|t,e,!0);return n}function Y(e){return pe(re|ze,e,!0)}function vn(e){var t=e.teardown;if(t!==null){const n=Ae,r=w;Nt(!0),J(null);try{t.call(null)}finally{Nt(n),J(r)}}}function bt(e,t=!1){var n=e.first;for(e.first=e.last=null;n!==null;){const i=n.ac;i!==null&&gt(()=>{i.abort(ge)});var r=n.next;(n.f&Se)!==0?n.parent=null:z(n,t),n=r}}function Rr(e){for(var t=e.first;t!==null;){var n=t.next;(t.f&re)===0&&z(t),t=n}}function z(e,t=!0){var n=!1;(t||(e.f&Ut)!==0)&&e.nodes!==null&&e.nodes.end!==null&&(Ir(e.nodes.start,e.nodes.end),n=!0),bt(e,t&&!n),Ue(e,0),S(e,ue);var r=e.nodes&&e.nodes.t;if(r!==null)for(const s of r)s.stop();vn(e);var i=e.parent;i!==null&&i.first!==null&&dn(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes=e.ac=null}function Ir(e,t){for(;e!==null;){var n=e===t?null:We(e);e.remove(),e=n}}function dn(e){var t=e.parent,n=e.prev,r=e.next;n!==null&&(n.next=r),r!==null&&(r.prev=n),t!==null&&(t.first===e&&(t.first=r),t.last===e&&(t.last=n))}function be(e,t,n=!0){var r=[];pn(e,r,!0);var i=()=>{n&&z(e),t&&t()},s=r.length;if(s>0){var l=()=>--s||i();for(var f of r)f.out(l)}else i()}function pn(e,t,n){if((e.f&U)===0){e.f^=U;var r=e.nodes&&e.nodes.t;if(r!==null)for(const f of r)(f.is_global||n)&&t.push(f);for(var i=e.first;i!==null;){var s=i.next,l=(i.f&Ne)!==0||(i.f&re)!==0&&(e.f&ae)!==0;pn(i,t,l?n:!1),i=s}}}function yt(e){_n(e,!0)}function _n(e,t){if((e.f&U)!==0){e.f^=U,(e.f&T)===0&&(S(e,I),ee(e));for(var n=e.first;n!==null;){var r=n.next,i=(n.f&Ne)!==0||(n.f&re)!==0;_n(n,i?t:!1),n=r}var s=e.nodes&&e.nodes.t;if(s!==null)for(const l of s)(l.is_global||t)&&l.in()}}function gn(e,t){if(e.nodes)for(var n=e.nodes.start,r=e.nodes.end;n!==null;){var i=n===r?null:We(n);t.append(n),n=i}}let Xe=!1,Ae=!1;function Nt(e){Ae=e}let w=null,te=!1;function J(e){w=e}let b=null;function ie(e){b=e}let G=null;function mn(e){w!==null&&(G===null?G=[e]:G.push(e))}let L=null,B=0,K=null;function Dr(e){K=e}let wn=1,me=0,ye=me;function Ot(e){ye=e}function bn(){return++wn}function Ye(e){var t=e.f;if((t&I)!==0)return!0;if(t&R&&(e.f&=~Ee),(t&ne)!==0){for(var n=e.deps,r=n.length,i=0;i<r;i++){var s=n[i];if(Ye(s)&&tn(s),s.wv>e.wv)return!0}(t&Z)!==0&&$===null&&S(e,T)}return!1}function yn(e,t,n=!0){var r=e.reactions;if(r!==null&&!(G!==null&&Pe.call(G,e)))for(var i=0;i<r.length;i++){var s=r[i];(s.f&R)!==0?yn(s,t,!1):t===s&&(n?S(s,I):(s.f&T)!==0&&S(s,ne),ee(s))}}function En(e){var t=L,n=B,r=K,i=w,s=G,l=X,f=te,a=ye,o=e.f;L=null,B=0,K=null,w=(o&(re|Se))===0?e:null,G=null,Oe(e.ctx),te=!1,ye=++me,e.ac!==null&&(gt(()=>{e.ac.abort(ge)}),e.ac=null);try{e.f|=st;var u=e.fn,h=u();e.f|=Ke;var c=e.deps,d=y?.is_fork;if(L!==null){var _;if(d||Ue(e,B),c!==null&&B>0)for(c.length=B+L.length,_=0;_<L.length;_++)c[B+_]=L[_];else e.deps=c=L;if(mt()&&(e.f&Z)!==0)for(_=B;_<c.length;_++)(c[_].reactions??=[]).push(e)}else!d&&c!==null&&B<c.length&&(Ue(e,B),c.length=B);if(Zt()&&K!==null&&!te&&c!==null&&(e.f&(R|ne|I))===0)for(_=0;_<K.length;_++)yn(K[_],e);if(i!==null&&i!==e){if(me++,i.deps!==null)for(let g=0;g<n;g+=1)i.deps[g].rv=me;if(t!==null)for(const g of t)g.rv=me;K!==null&&(r===null?r=K:r.push(...K))}return(e.f&ce)!==0&&(e.f^=ce),h}catch(g){return Gt(g)}finally{e.f^=st,L=t,B=n,K=r,w=i,G=s,Oe(l),te=f,ye=a}}function qr(e,t){let n=t.reactions;if(n!==null){var r=On.call(n,e);if(r!==-1){var i=n.length-1;i===0?n=t.reactions=null:(n[r]=n[i],n.pop())}}if(n===null&&(t.f&R)!==0&&(L===null||!Pe.call(L,t))){var s=t;(s.f&Z)!==0&&(s.f^=Z,s.f&=~Ee),ht(s),wr(s),Ue(s,0)}}function Ue(e,t){var n=e.deps;if(n!==null)for(var r=t;r<n.length;r++)qr(e,n[r])}function qe(e){var t=e.f;if((t&ue)===0){S(e,T);var n=b,r=Xe;b=e,Xe=!0;try{(t&(ae|jt))!==0?Rr(e):bt(e),vn(e);var i=En(e);e.teardown=typeof i=="function"?i:null,e.wv=wn;var s;it&&ir&&(e.f&I)!==0&&e.deps}finally{Xe=r,b=n}}}function p(e){var t=e.f,n=(t&R)!==0;if(w!==null&&!te){var r=b!==null&&(b.f&ue)!==0;if(!r&&(G===null||!Pe.call(G,e))){var i=w.deps;if((w.f&st)!==0)e.rv<me&&(e.rv=me,L===null&&i!==null&&i[B]===e?B++:L===null?L=[e]:L.push(e));else{(w.deps??=[]).push(e);var s=e.reactions;s===null?e.reactions=[w]:Pe.call(s,w)||s.push(w)}}}if(Ae&&ve.has(e))return ve.get(e);if(n){var l=e;if(Ae){var f=l.v;return((l.f&T)===0&&l.reactions!==null||An(l))&&(f=pt(l)),ve.set(l,f),f}var a=(l.f&Z)===0&&!te&&w!==null&&(Xe||(w.f&Z)!==0),o=(l.f&Ke)===0;Ye(l)&&(a&&(l.f|=Z),tn(l)),a&&!o&&(nn(l),xn(l))}if($?.has(e))return $.get(e);if((e.f&ce)!==0)throw e.v;return e.v}function xn(e){if(e.f|=Z,e.deps!==null)for(const t of e.deps)(t.reactions??=[]).push(e),(t.f&R)!==0&&(t.f&Z)===0&&(nn(t),xn(t))}function An(e){if(e.v===P)return!0;if(e.deps===null)return!1;for(const t of e.deps)if(ve.has(t)||(t.f&R)!==0&&An(t))return!0;return!1}function Sn(e){var t=te;try{return te=!0,e()}finally{te=t}}const Fr=["touchstart","touchmove"];function Lr(e){return Fr.includes(e)}const kn=Symbol("events"),Cn=new Set,ot=new Set;function Et(e,t,n){(t[kn]??={})[e]=n}function xt(e){for(var t=0;t<e.length;t++)Cn.add(e[t]);for(var n of ot)n(e)}let Rt=null;function It(e){var t=this,n=t.ownerDocument,r=e.type,i=e.composedPath?.()||[],s=i[0]||e.target;Rt=e;var l=0,f=Rt===e&&e.__root;if(f){var a=i.indexOf(f);if(a!==-1&&(t===document||t===window)){e.__root=t;return}var o=i.indexOf(t);if(o===-1)return;a<=o&&(l=a)}if(s=i[l]||e.target,s!==t){Rn(e,"currentTarget",{configurable:!0,get(){return s||n}});var u=w,h=b;J(null),ie(null);try{for(var c,d=[];s!==null;){var _=s.assignedSlot||s.parentNode||s.host||null;try{var g=s[kn]?.[r];g!=null&&(!s.disabled||e.target===s)&&g.call(s,e)}catch(v){c?d.push(v):c=v}if(e.cancelBubble||_===t||_===null)break;s=_}if(c){for(let v of d)queueMicrotask(()=>{throw v});throw c}}finally{e.__root=t,delete e.currentTarget,J(u),ie(h)}}}const zr=globalThis?.window?.trustedTypes?.createPolicy("svelte-trusted-html",{createHTML:e=>e});function Br(e){return zr?.createHTML(e)??e}function Hr(e,t=!1){var n=Ar("template");return e=e.replaceAll("<!>","<!---->"),n.innerHTML=t?Br(e):e,n.content}function Tn(e,t){var n=b;n.nodes===null&&(n.nodes={start:e,end:t,a:null,t:null})}function q(e,t){var n=(t&er)!==0,r,i=!e.startsWith("<!>");return()=>{r===void 0&&(r=Hr(i?e:"<!>"+e,!0),r=_t(r));var s=n||ln?document.importNode(r,!0):r.cloneNode(!0);return Tn(s,s),s}}function Mn(){var e=document.createDocumentFragment(),t=document.createComment(""),n=de();return e.append(t,n),Tn(t,n),e}function O(e,t){e!==null&&e.before(t)}function oe(e,t){var n=t==null?"":typeof t=="object"?t+"":t;n!==(e.__t??=e.nodeValue)&&(e.__t=n,e.nodeValue=n+"")}function jr(e,t){return Vr(e,t)}const Ge=new Map;function Vr(e,{target:t,anchor:n,props:r={},events:i,context:s,intro:l=!0}){Er();var f=new Set,a=h=>{for(var c=0;c<h.length;c++){var d=h[c];if(!f.has(d)){f.add(d);var _=Lr(d);for(const m of[t,document]){var g=Ge.get(m);g===void 0&&(g=new Map,Ge.set(m,g));var v=g.get(d);v===void 0?(m.addEventListener(d,It,{passive:_}),g.set(d,1)):g.set(d,v+1)}}}};a(Qe(Cn)),ot.add(a);var o=void 0,u=Nr(()=>{var h=n??t.appendChild(de());return cr(h,{pending:()=>{}},c=>{ke({});var d=X;s&&(d.c=s),i&&(r.$$events=i),o=e(c,r)||{},Ce()}),()=>{for(var c of f)for(const g of[t,document]){var d=Ge.get(g),_=d.get(c);--_==0?(g.removeEventListener(c,It),d.delete(c),d.size===0&&Ge.delete(g)):d.set(c,_)}ot.delete(a),h!==n&&h.parentNode?.removeChild(h)}});return Ur.set(o,u),o}let Ur=new WeakMap;class Kr{anchor;#t=new Map;#a=new Map;#e=new Map;#s=new Set;#l=!0;constructor(t,n=!0){this.anchor=t,this.#l=n}#r=()=>{var t=y;if(this.#t.has(t)){var n=this.#t.get(t),r=this.#a.get(n);if(r)yt(r),this.#s.delete(n);else{var i=this.#e.get(n);i&&(this.#a.set(n,i.effect),this.#e.delete(n),i.fragment.lastChild.remove(),this.anchor.before(i.fragment),r=i.effect)}for(const[s,l]of this.#t){if(this.#t.delete(s),s===t)break;const f=this.#e.get(l);f&&(z(f.effect),this.#e.delete(l))}for(const[s,l]of this.#a){if(s===n||this.#s.has(s))continue;const f=()=>{if(Array.from(this.#t.values()).includes(s)){var o=document.createDocumentFragment();gn(l,o),o.append(de()),this.#e.set(s,{effect:l,fragment:o})}else z(l);this.#s.delete(s),this.#a.delete(s)};this.#l||!r?(this.#s.add(s),be(l,f,!1)):f()}}};#n=t=>{this.#t.delete(t);const n=Array.from(this.#t.values());for(const[r,i]of this.#e)n.includes(r)||(z(i.effect),this.#e.delete(r))};ensure(t,n){var r=y,i=un();if(n&&!this.#a.has(t)&&!this.#e.has(t))if(i){var s=document.createDocumentFragment(),l=de();s.append(l),this.#e.set(t,{effect:Y(()=>n(l)),fragment:s})}else this.#a.set(t,Y(()=>n(this.anchor)));if(this.#t.set(r,t),i){for(const[f,a]of this.#a)f===t?r.unskip_effect(a):r.skip_effect(a);for(const[f,a]of this.#e)f===t?r.unskip_effect(a.effect):r.skip_effect(a.effect);r.oncommit(this.#r),r.ondiscard(this.#n)}else this.#r()}}function et(e,t,n=!1){var r=new Kr(e),i=n?Ne:0;function s(l,f){r.ensure(l,f)}wt(()=>{var l=!1;t((f,a=0)=>{l=!0,s(a,f)}),l||s(!1,null)},i)}function Fe(e,t){return t}function Wr(e,t,n){for(var r=[],i=t.length,s,l=t.length,f=0;f<i;f++){let h=t[f];be(h,()=>{if(s){if(s.pending.delete(h),s.done.add(h),s.pending.size===0){var c=e.outrogroups;ut(Qe(s.done)),c.delete(s),c.size===0&&(e.outrogroups=null)}}else l-=1},!1)}if(l===0){var a=r.length===0&&n!==null;if(a){var o=n,u=o.parentNode;xr(u),u.append(o),e.items.clear()}ut(t,!a)}else s={pending:new Set(t),done:new Set},(e.outrogroups??=new Set).add(s)}function ut(e,t=!0){for(var n=0;n<e.length;n++)z(e[n],t)}var Dt;function Le(e,t,n,r,i,s=null){var l=e,f=new Map,a=(t&Kt)!==0;if(a){var o=e;l=o.appendChild(de())}var u=null,h=_r(()=>{var m=n();return Bt(m)?m:m==null?[]:Qe(m)}),c,d=!0;function _(){v.fallback=u,Yr(v,c,l,t,r),u!==null&&(c.length===0?(u.f&le)===0?yt(u):(u.f^=le,He(u,null,l)):be(u,()=>{u=null}))}var g=wt(()=>{c=p(h);for(var m=c.length,x=new Set,k=y,C=un(),F=0;F<m;F+=1){var Q=c[F],D=r(Q,F),M=d?null:f.get(D);M?(M.v&&Ie(M.v,Q),M.i&&Ie(M.i,F),C&&k.unskip_effect(M.e)):(M=Zr(f,d?l:Dt??=de(),Q,D,F,i,t,n),d||(M.e.f|=le),f.set(D,M)),x.add(D)}if(m===0&&s&&!u&&(d?u=Y(()=>s(l)):(u=Y(()=>s(Dt??=de())),u.f|=le)),m>x.size&&Hn(),!d)if(C){for(const[_e,A]of f)x.has(_e)||k.skip_effect(A.e);k.oncommit(_),k.ondiscard(()=>{})}else _();p(h)}),v={effect:g,items:f,outrogroups:null,fallback:u};d=!1}function Be(e){for(;e!==null&&(e.f&re)===0;)e=e.next;return e}function Yr(e,t,n,r,i){var s=(r&Qn)!==0,l=t.length,f=e.items,a=Be(e.effect.first),o,u=null,h,c=[],d=[],_,g,v,m;if(s)for(m=0;m<l;m+=1)_=t[m],g=i(_,m),v=f.get(g).e,(v.f&le)===0&&(v.nodes?.a?.measure(),(h??=new Set).add(v));for(m=0;m<l;m+=1){if(_=t[m],g=i(_,m),v=f.get(g).e,e.outrogroups!==null)for(const A of e.outrogroups)A.pending.delete(v),A.done.delete(v);if((v.f&le)!==0)if(v.f^=le,v===a)He(v,null,n);else{var x=u?u.next:a;v===e.effect.last&&(e.effect.last=v.prev),v.prev&&(v.prev.next=v.next),v.next&&(v.next.prev=v.prev),fe(e,u,v),fe(e,v,x),He(v,x,n),u=v,c=[],d=[],a=Be(u.next);continue}if((v.f&U)!==0&&(yt(v),s&&(v.nodes?.a?.unfix(),(h??=new Set).delete(v))),v!==a){if(o!==void 0&&o.has(v)){if(c.length<d.length){var k=d[0],C;u=k.prev;var F=c[0],Q=c[c.length-1];for(C=0;C<c.length;C+=1)He(c[C],k,n);for(C=0;C<d.length;C+=1)o.delete(d[C]);fe(e,F.prev,Q.next),fe(e,u,F),fe(e,Q,k),a=k,u=Q,m-=1,c=[],d=[]}else o.delete(v),He(v,a,n),fe(e,v.prev,v.next),fe(e,v,u===null?e.effect.first:u.next),fe(e,u,v),u=v;continue}for(c=[],d=[];a!==null&&a!==v;)(o??=new Set).add(a),d.push(a),a=Be(a.next);if(a===null)continue}(v.f&le)===0&&c.push(v),u=v,a=Be(v.next)}if(e.outrogroups!==null){for(const A of e.outrogroups)A.pending.size===0&&(ut(Qe(A.done)),e.outrogroups?.delete(A));e.outrogroups.size===0&&(e.outrogroups=null)}if(a!==null||o!==void 0){var D=[];if(o!==void 0)for(v of o)(v.f&U)===0&&D.push(v);for(;a!==null;)(a.f&U)===0&&a!==e.fallback&&D.push(a),a=Be(a.next);var M=D.length;if(M>0){var _e=(r&Kt)!==0&&l===0?n:null;if(s){for(m=0;m<M;m+=1)D[m].nodes?.a?.measure();for(m=0;m<M;m+=1)D[m].nodes?.a?.fix()}Wr(e,D,_e)}}s&&we(()=>{if(h!==void 0)for(v of h)v.nodes?.a?.apply()})}function Zr(e,t,n,r,i,s,l,f){var a=(l&Xn)!==0?(l&$n)===0?br(n,!1,!1):xe(n):null,o=(l&Jn)!==0?xe(i):null;return{v:a,i:o,e:Y(()=>(s(t,a??n,o??i,f),()=>{e.delete(r)}))}}function He(e,t,n){if(e.nodes)for(var r=e.nodes.start,i=e.nodes.end,s=t&&(t.f&le)===0?t.nodes.start:n;r!==null;){var l=We(r);if(s.before(r),r===i)return;r=l}}function fe(e,t,n){t===null?e.effect.first=n:t.next=n,n===null?e.effect.last=t:n.prev=t}const qt=[...` 	
\r\f \v\uFEFF`];function Gr(e,t,n){var r=e==null?"":""+e;if(n){for(var i in n)if(n[i])r=r?r+" "+i:i;else if(r.length)for(var s=i.length,l=0;(l=r.indexOf(i,l))>=0;){var f=l+s;(l===0||qt.includes(r[l-1]))&&(f===r.length||qt.includes(r[f]))?r=(l===0?"":r.substring(0,l))+r.substring(f+1):l=f}}return r===""?null:r}function Ft(e,t=!1){var n=t?" !important;":";",r="";for(var i in e){var s=e[i];s!=null&&s!==""&&(r+=" "+i+": "+s+n)}return r}function Xr(e,t){if(t){var n="",r,i;return Array.isArray(t)?(r=t[0],i=t[1]):r=t,r&&(n+=Ft(r)),i&&(n+=Ft(i,!0)),n=n.trim(),n===""?null:n}return String(e)}function At(e,t,n,r,i,s){var l=e.__className;if(l!==n||l===void 0){var f=Gr(n,r,s);f==null?e.removeAttribute("class"):e.className=f,e.__className=n}else if(s&&i!==s)for(var a in s){var o=!!s[a];(i==null||o!==!!i[a])&&e.classList.toggle(a,o)}return s}function rt(e,t={},n,r){for(var i in n){var s=n[i];t[i]!==s&&(n[i]==null?e.style.removeProperty(i):e.style.setProperty(i,s,r))}}function tt(e,t,n,r){var i=e.__style;if(i!==t){var s=Xr(t,r);s==null?e.removeAttribute("style"):e.style.cssText=s,e.__style=t}else r&&(Array.isArray(r)?(rt(e,n?.[0],r[0]),rt(e,n?.[1],r[1],"important")):rt(e,n,r));return r}function Lt(e,t,n=t){kr(e,"change",r=>{var i=r?e.defaultChecked:e.checked;n(i)}),Sn(t)==null&&n(e.checked),hn(()=>{var r=t();e.checked=!!r})}function Pn(e,t,n,r){var i=r,s=!0,l=()=>(s&&(s=!1,i=r),i),f;f=e[t],f===void 0&&r!==void 0&&(f=l());var a;return a=()=>{var o=e[t];return o===void 0?l():(s=!0,o)},a}const Jr="5";typeof window<"u"&&((window.__svelte??={}).v??=new Set).add(Jr);var Qr=q('<div class="plaintext-section svelte-q4552b"><label for="plaintext" class="svelte-q4552b">Plaintext</label> <textarea id="plaintext" data-testid="plaintext-input" placeholder="Type letters A–Z..." class="svelte-q4552b"></textarea></div>');function $r(e,t){ke(t,!0);var n=Qr(),r=N(E(n),2);Et("input",r,i=>t.oninput(i.currentTarget.value)),O(e,n),Ce()}xt(["input"]);var ei=q('<span class="placeholder svelte-uveiyz">Ciphertext appears here...</span>'),ti=q('<span class="ct-char svelte-uveiyz"> </span>'),ni=q('<div class="ciphertext-section svelte-uveiyz"><label for="ciphertext" class="svelte-uveiyz">Ciphertext</label> <div id="ciphertext" class="ciphertext-chars svelte-uveiyz" data-testid="ciphertext-output" aria-label="Ciphertext" aria-readonly="true"><!></div></div>');function ri(e,t){ke(t,!0);const n="#c678dd",r="#56b6c2";let i=Pn(t,"highlight",3,null);var s=ni(),l=N(E(s),2),f=E(l);{var a=u=>{var h=ei();O(u,h)},o=u=>{var h=Mn(),c=on(h);Le(c,17,()=>t.ciphertext.split(""),Fe,(d,_,g)=>{const v=V(()=>i()!=null&&g>=i().startA&&g<i().startA+i().length),m=V(()=>i()!=null&&g>=i().startB&&g<i().startB+i().length);var x=ti();let k;var C=E(x);De(()=>{k=tt(x,"",k,{"background-color":p(v)?n:p(m)?r:void 0,color:p(v)||p(m)?"#1e1e1e":void 0}),oe(C,p(_))}),O(d,x)}),O(u,h)};et(f,u=>{t.ciphertext.length===0?u(a):u(o,!1)})}O(e,s),Ce()}var ii=q("<div> </div>");function si(e,t){const n=["#e06c75","#e5c07b","#61afef","#98c379"];let r=Pn(t,"swapPair",3,null);var i=ii();let s,l;var f=E(i);De(()=>{s=At(i,1,"card svelte-1s7zazm",null,s,{highlighted:r()!=null}),l=tt(i,"",l,{"background-color":r()!=null?n[r()]:void 0}),oe(f,t.letter)}),O(e,i)}var li=q('<span class="legend-item svelte-1c30440"><span class="swatch svelte-1c30440"></span> </span>'),ai=q('<div class="legend svelte-1c30440"></div>'),fi=q('<div class="deck-section svelte-1c30440"><h2 class="deck-label svelte-1c30440">Current Deck State</h2> <!> <div class="deck svelte-1c30440" data-testid="deck"></div></div>');function oi(e,t){ke(t,!0);const n=["#e06c75","#e5c07b","#61afef","#98c379"];let r=V(()=>{const a=new Array(t.deck.length).fill(null);if(t.lastTransformation)for(let o=0;o<t.lastTransformation.length;o++){const[u,h]=t.lastTransformation[o];a[u]=o,a[h]=o}return a});var i=fi(),s=N(E(i),2);{var l=a=>{var o=ai();Le(o,21,()=>n,Fe,(u,h,c)=>{var d=li(),_=E(d);let g;var v=N(_);v.nodeValue=` Swap ${c+1}`,De(()=>g=tt(_,"",g,{"background-color":p(h)})),O(u,d)}),O(a,o)};et(s,a=>{t.showHighlights&&a(l)})}var f=N(s,2);Le(f,21,()=>t.deck,Fe,(a,o,u)=>{{let h=V(()=>t.showHighlights?p(r)[u]:null);si(a,{get letter(){return p(o)},get swapPair(){return p(h)}})}}),O(e,i),Ce()}var ui=q("<div> </div>"),ci=q('<div class="column svelte-pj07a9"><div class="col-label svelte-pj07a9"> </div> <!></div>'),hi=q('<div class="multi-deck svelte-pj07a9" data-testid="multi-deck"></div>');function vi(e,t){ke(t,!0);const n=["#e06c75","#e5c07b","#61afef","#98c379"];function r(s){const l=new Array(26).fill(null);for(let f=0;f<s.length;f++){const[a,o]=s[f];l[a]=f,l[o]=f}return l}var i=hi();Le(i,21,()=>t.steps,Fe,(s,l)=>{const f=V(()=>r(p(l).transformation));var a=ci(),o=E(a),u=E(o),h=N(o,2);Le(h,17,()=>p(l).deck,Fe,(c,d,_)=>{const g=V(()=>t.showHighlights?p(f)[_]:null);var v=ui();let m,x;var k=E(v);De(()=>{m=At(v,1,"mini-card svelte-pj07a9",null,m,{highlighted:p(g)!=null}),x=tt(v,"",x,{"background-color":p(g)!=null?n[p(g)]:void 0}),oe(k,p(d))}),O(c,v)}),De(()=>oe(u,p(l).ciphertextChar)),O(s,a)}),O(e,i),Ce()}function di(e){const t={};for(const s of e)t[s]=(t[s]??0)+1;const n={};let r=0,i="";for(const s of e)t[s]===1?i+=".":(s in n||(n[s]=String.fromCharCode(97+r),r++),i+=n[s]);return i}function zt(e){let t=0;for(const n of e)n!=="."&&t++;return t/e.length}function pi(e){return[...e].sort((t,n)=>{const r=zt(n.pattern)-zt(t.pattern);if(r!==0)return r;const i=n.pattern.length-t.pattern.length;return i!==0?i:t.startA-n.startA})}function _i(e){const t=[],n=e.length,r=Math.floor(n/2);for(let i=3;i<=r;i++){const s=new Map;for(let l=0;l<=n-i;l++){const f=di(e.slice(l,l+i));if(!/[a-z]/.test(f)||f[0]===".")continue;const a=s.get(f);a?a.push(l):s.set(f,[l])}for(const[l,f]of s)for(let a=0;a<f.length;a++){const o=f[a];for(let u=a+1;u<f.length;u++){const h=f[u];h>=o+i&&t.push({pattern:l,startA:o,startB:h})}}}return t}var gi=q('<p class="empty svelte-zq6m2r">No isomorphs found.</p>'),mi=q('<button><span class="iso-pattern svelte-zq6m2r"> </span> <span class="iso-positions svelte-zq6m2r"> </span> <span class="iso-subs svelte-zq6m2r"><span class="sub-a svelte-zq6m2r"> </span> <span class="iso-sep svelte-zq6m2r">/</span> <span class="sub-b svelte-zq6m2r"> </span></span></button>'),wi=q('<div class="isomorph-list svelte-zq6m2r"><!></div>');function bi(e,t){ke(t,!0);let n=V(()=>pi(t.isomorphs));function r(a){return t.selected!=null&&t.selected.startA===a.startA&&t.selected.startB===a.startB&&t.selected.pattern===a.pattern}var i=wi(),s=E(i);{var l=a=>{var o=gi();O(a,o)},f=a=>{var o=Mn(),u=on(o);Le(u,17,()=>p(n),Fe,(h,c)=>{const d=V(()=>r(p(c))),_=V(()=>t.ciphertext.slice(p(c).startA,p(c).startA+p(c).pattern.length)),g=V(()=>t.ciphertext.slice(p(c).startB,p(c).startB+p(c).pattern.length));var v=mi();let m;var x=E(v),k=E(x),C=N(x,2),F=E(C),Q=N(C,2),D=E(Q),M=E(D),_e=N(D,4),A=E(_e);De(()=>{m=At(v,1,"iso-entry svelte-zq6m2r",null,m,{selected:p(d)}),oe(k,p(c).pattern),oe(F,`@${p(c).startA??""} · @${p(c).startB??""}`),oe(M,p(_)),oe(A,p(g))}),Et("click",v,()=>t.onselect(p(d)?null:p(c))),O(h,v)}),O(a,o)};et(s,a=>{p(n).length===0?a(l):a(f,!1)})}O(e,i),Ce()}xt(["click"]);function yi(){return Array.from({length:26},(e,t)=>String.fromCharCode(65+t))}function Ei(e,t){const n=[...e];for(const[r,i]of t)[n[r],n[i]]=[n[i],n[r]];return n}function xi(e,t,n){const r=t.toUpperCase(),i=n[r],s=Ei(e,i);return{newDeck:s,ciphertextChar:s[0]}}function Ai(e,t){let n=yi(),r="",i=null;const s=[];for(const l of e){const f=l.toUpperCase();if(f>="A"&&f<="Z"){const a=xi(n,f,t),o=t[f];s.push({deck:a.newDeck,ciphertextChar:a.ciphertextChar,transformation:o}),i=o,n=a.newDeck,r+=a.ciphertextChar}}return{deck:n,ciphertext:r,lastTransformation:i,steps:s}}function Si(e){let t=e|0;return()=>{t=t+1831565813|0;let n=Math.imul(t^t>>>15,1|t);return n=n+Math.imul(n^n>>>7,61|n)^n,((n^n>>>14)>>>0)/4294967296}}const St=26,ki=4;function Ci(e){return(e-1)%25+1}function Ti(){const e={};for(let t=0;t<St;t++){const n=String.fromCharCode(65+t),r=[];for(let f=0;f<7;f++)r.push(Ci(t+1+f));const i=t%7,s=r[i],l=r.filter((f,a)=>a!==i);e[n]=[[0,s],[l[0],l[1]],[l[2],l[3]],[l[4],l[5]]]}return e}function Mi(e,t,n){const r=[],i=new Set;for(;r.length<n;){const s=1+Math.floor(e()*(t-1));i.has(s)||(i.add(s),r.push(s))}return r}function Pi(e){const n=[0,...Mi(e,St,ki*2-1)];return[[n[0],n[1]],[n[2],n[3]],[n[4],n[5]],[n[6],n[7]]]}function Ni(e){return e.map(([n,r])=>n<r?[n,r]:[r,n]).sort((n,r)=>n[0]-r[0]||n[1]-r[1]).map(([n,r])=>`${n},${r}`).join(";")}function Oi(e){const t=Si(e),n={},r=new Set;for(let i=0;i<St;i++){const s=String.fromCharCode(65+i);for(;;){const l=Pi(t),f=Ni(l);if(!r.has(f)){r.add(f),n[s]=l;break}}}return n}var Ri=q('<div class="app-layout svelte-1n46o8q"><main class="left-panel svelte-1n46o8q"><h1 class="svelte-1n46o8q">DeckLab</h1> <div class="controls svelte-1n46o8q"><button class="svelte-1n46o8q">Randomize Cipher</button> <label class="highlight-toggle svelte-1n46o8q"><input type="checkbox"/> Show swap highlights</label> <label class="highlight-toggle svelte-1n46o8q"><input type="checkbox"/> Show isomorphs</label></div> <!> <!> <!> <!></main> <div class="right-panel svelte-1n46o8q"><!></div></div>');function Ii(e,t){ke(t,!0);let n=H(Me(Ti())),r=H(""),i=H(!0),s=H(!1),l=H(null),f=V(()=>Ai(p(r),p(n))),a=V(()=>_i(p(f).ciphertext)),o=V(()=>p(l)?{startA:p(l).startA,startB:p(l).startB,length:p(l).pattern.length}:null);Pr(()=>{p(f).ciphertext,j(l,null)});function u(){const A=Math.floor(Math.random()*4294967296);j(n,Oi(A),!0)}var h=Ri(),c=E(h),d=N(E(c),2),_=E(d),g=N(_,2),v=E(g),m=N(g,2),x=E(m),k=N(d,2);$r(k,{oninput:A=>j(r,A,!0)});var C=N(k,2);ri(C,{get ciphertext(){return p(f).ciphertext},get highlight(){return p(o)}});var F=N(C,2);oi(F,{get deck(){return p(f).deck},get lastTransformation(){return p(f).lastTransformation},get showHighlights(){return p(i)}});var Q=N(F,2);{var D=A=>{bi(A,{get isomorphs(){return p(a)},get ciphertext(){return p(f).ciphertext},get selected(){return p(l)},onselect:Nn=>j(l,Nn,!0)})};et(Q,A=>{p(s)&&A(D)})}var M=N(c,2),_e=E(M);vi(_e,{get steps(){return p(f).steps},get showHighlights(){return p(i)}}),Et("click",_,u),Lt(v,()=>p(i),A=>j(i,A)),Lt(x,()=>p(s),A=>j(s,A)),O(e,h),Ce()}xt(["click"]);jr(Ii,{target:document.getElementById("app")});
