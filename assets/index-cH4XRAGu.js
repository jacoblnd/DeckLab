(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(s){if(s.ep)return;s.ep=!0;const a=r(s);fetch(s.href,a)}})();const or=!1;var jr=Array.isArray,Wn=Array.prototype.indexOf,bt=Array.prototype.includes,$t=Array.from,jn=Object.defineProperty,It=Object.getOwnPropertyDescriptor,Un=Object.getOwnPropertyDescriptors,Vn=Object.prototype,Zn=Array.prototype,Ur=Object.getPrototypeOf,Tr=Object.isExtensible;function Gn(e){return typeof e=="function"}const Ke=()=>{};function Kn(e){for(var t=0;t<e.length;t++)e[t]()}function Vr(){var e,t,r=new Promise((n,s)=>{e=n,t=s});return{promise:r,resolve:e,reject:t}}function Zr(e,t){if(Array.isArray(e))return e;if(!(Symbol.iterator in e))return Array.from(e);const r=[];for(const n of e)if(r.push(n),r.length===t)break;return r}const ie=2,Yt=4,er=8,Gr=1<<24,Ue=16,Oe=32,ht=64,Kr=128,Ce=512,ne=1024,le=2048,ze=4096,ke=8192,Ye=16384,Bt=32768,wt=65536,Sr=1<<17,Yr=1<<18,Tt=1<<19,Yn=1<<20,We=1<<25,ct=65536,fr=1<<21,gr=1<<22,Xe=1<<23,sr=Symbol("$state"),Xn=Symbol(""),nt=new class extends Error{name="StaleReactionError";message="The reaction that called `getAbortSignal()` was re-run or destroyed"};function Jn(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function Qn(e,t,r){throw new Error("https://svelte.dev/e/each_key_duplicate")}function $n(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function es(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function ts(e){throw new Error("https://svelte.dev/e/effect_orphan")}function rs(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function ns(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function ss(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function as(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}function is(){throw new Error("https://svelte.dev/e/svelte_boundary_reset_onerror")}const ls=1,os=2,Xr=4,fs=8,cs=16,us=1,vs=2,ae=Symbol(),Jr="http://www.w3.org/1999/xhtml";function ds(){console.warn("https://svelte.dev/e/svelte_boundary_reset_noop")}function Qr(e){return e===this.v}function hs(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function $r(e){return!hs(e,this.v)}let ps=!1,Ae=null;function yt(e){Ae=e}function Re(e,t=!1,r){Ae={p:Ae,i:!1,c:null,e:null,s:e,x:null,l:null}}function Le(e){var t=Ae,r=t.e;if(r!==null){t.e=null;for(var n of r)bn(n)}return t.i=!0,Ae=t.p,{}}function en(){return!0}let st=[];function tn(){var e=st;st=[],Kn(e)}function je(e){if(st.length===0&&!Nt){var t=st;queueMicrotask(()=>{t===st&&tn()})}st.push(e)}function _s(){for(;st.length>0;)tn()}function rn(e){var t=H;if(t===null)return D.f|=Xe,e;if((t.f&Bt)===0&&(t.f&Yt)===0)throw e;xt(e,t)}function xt(e,t){for(;t!==null;){if((t.f&Kr)!==0){if((t.f&Bt)===0)throw e;try{t.b.error(e);return}catch(r){e=r}}t=t.parent}throw e}const gs=-7169;function K(e,t){e.f=e.f&gs|t}function mr(e){(e.f&Ce)!==0||e.deps===null?K(e,ne):K(e,ze)}function nn(e){if(e!==null)for(const t of e)(t.f&ie)===0||(t.f&ct)===0||(t.f^=ct,nn(t.deps))}function sn(e,t,r){(e.f&le)!==0?t.add(e):(e.f&ze)!==0&&r.add(e),nn(e.deps),K(e,ne)}const Vt=new Set;let F=null,cr=null,Se=null,he=[],tr=null,ur=!1,Nt=!1;class Je{committed=!1;current=new Map;previous=new Map;#t=new Set;#l=new Set;#e=0;#a=0;#i=null;#n=new Set;#r=new Set;#s=new Map;is_fork=!1;#o=!1;is_deferred(){return this.is_fork||this.#a>0}skip_effect(t){this.#s.has(t)||this.#s.set(t,{d:[],m:[]})}unskip_effect(t){var r=this.#s.get(t);if(r){this.#s.delete(t);for(var n of r.d)K(n,le),Pe(n);for(n of r.m)K(n,ze),Pe(n)}}process(t){he=[],this.apply();var r=[],n=[];for(const s of t)this.#f(s,r,n);if(this.is_deferred()){this.#c(n),this.#c(r);for(const[s,a]of this.#s)fn(s,a)}else{for(const s of this.#t)s();this.#t.clear(),this.#e===0&&this.#u(),cr=this,F=null,Pr(n),Pr(r),cr=null,this.#i?.resolve()}Se=null}#f(t,r,n){t.f^=ne;for(var s=t.first,a=null;s!==null;){var i=s.f,l=(i&(Oe|ht))!==0,o=l&&(i&ne)!==0,c=o||(i&ke)!==0||this.#s.has(s);if(!c&&s.fn!==null){l?s.f^=ne:a!==null&&(i&(Yt|er|Gr))!==0?a.b.defer_effect(s):(i&Yt)!==0?r.push(s):jt(s)&&((i&Ue)!==0&&this.#r.add(s),At(s));var u=s.first;if(u!==null){s=u;continue}}var d=s.parent;for(s=s.next;s===null&&d!==null;)d===a&&(a=null),s=d.next,d=d.parent}}#c(t){for(var r=0;r<t.length;r+=1)sn(t[r],this.#n,this.#r)}capture(t,r){r!==ae&&!this.previous.has(t)&&this.previous.set(t,r),(t.f&Xe)===0&&(this.current.set(t,t.v),Se?.set(t,t.v))}activate(){F=this,this.apply()}deactivate(){F===this&&(F=null,Se=null)}flush(){if(this.activate(),he.length>0){if(an(),F!==null&&F!==this)return}else this.#e===0&&this.process([]);this.deactivate()}discard(){for(const t of this.#l)t(this);this.#l.clear()}#u(){if(Vt.size>1){this.previous.clear();var t=Se,r=!0;for(const s of Vt){if(s===this){r=!1;continue}const a=[];for(const[l,o]of this.current){if(s.current.has(l))if(r&&o!==s.current.get(l))s.current.set(l,o);else continue;a.push(l)}if(a.length===0)continue;const i=[...s.current.keys()].filter(l=>!this.current.has(l));if(i.length>0){var n=he;he=[];const l=new Set,o=new Map;for(const c of a)ln(c,i,l,o);if(he.length>0){F=s,s.apply();for(const c of he)s.#f(c,[],[]);s.deactivate()}he=n}}F=null,Se=t}this.committed=!0,Vt.delete(this)}increment(t){this.#e+=1,t&&(this.#a+=1)}decrement(t){this.#e-=1,t&&(this.#a-=1),!this.#o&&(this.#o=!0,je(()=>{this.#o=!1,this.is_deferred()?he.length>0&&this.flush():this.revive()}))}revive(){for(const t of this.#n)this.#r.delete(t),K(t,le),Pe(t);for(const t of this.#r)K(t,ze),Pe(t);this.flush()}oncommit(t){this.#t.add(t)}ondiscard(t){this.#l.add(t)}settled(){return(this.#i??=Vr()).promise}static ensure(){if(F===null){const t=F=new Je;Vt.add(F),Nt||je(()=>{F===t&&t.flush()})}return F}apply(){}}function ms(e){var t=Nt;Nt=!0;try{for(var r;;){if(_s(),he.length===0&&(F?.flush(),he.length===0))return tr=null,r;an()}}finally{Nt=t}}function an(){ur=!0;var e=null;try{for(var t=0;he.length>0;){var r=Je.ensure();if(t++>1e3){var n,s;ks()}r.process(he),Qe.clear()}}finally{he=[],ur=!1,tr=null}}function ks(){try{rs()}catch(e){xt(e,tr)}}let Be=null;function Pr(e){var t=e.length;if(t!==0){for(var r=0;r<t;){var n=e[r++];if((n.f&(Ye|ke))===0&&jt(n)&&(Be=new Set,At(n),n.deps===null&&n.first===null&&n.nodes===null&&n.teardown===null&&n.ac===null&&yn(n),Be?.size>0)){Qe.clear();for(const s of Be){if((s.f&(Ye|ke))!==0)continue;const a=[s];let i=s.parent;for(;i!==null;)Be.has(i)&&(Be.delete(i),a.push(i)),i=i.parent;for(let l=a.length-1;l>=0;l--){const o=a[l];(o.f&(Ye|ke))===0&&At(o)}}Be.clear()}}Be=null}}function ln(e,t,r,n){if(!r.has(e)&&(r.add(e),e.reactions!==null))for(const s of e.reactions){const a=s.f;(a&ie)!==0?ln(s,t,r,n):(a&(gr|Ue))!==0&&(a&le)===0&&on(s,t,n)&&(K(s,le),Pe(s))}}function on(e,t,r){const n=r.get(e);if(n!==void 0)return n;if(e.deps!==null)for(const s of e.deps){if(bt.call(t,s))return!0;if((s.f&ie)!==0&&on(s,t,r))return r.set(s,!0),!0}return r.set(e,!1),!1}function Pe(e){for(var t=tr=e;t.parent!==null;){t=t.parent;var r=t.f;if(ur&&t===H&&(r&Ue)!==0&&(r&Yr)===0)return;if((r&(ht|Oe))!==0){if((r&ne)===0)return;t.f^=ne}}he.push(t)}function fn(e,t){if(!((e.f&Oe)!==0&&(e.f&ne)!==0)){(e.f&le)!==0?t.d.push(e):(e.f&ze)!==0&&t.m.push(e),K(e,ne);for(var r=e.first;r!==null;)fn(r,t),r=r.next}}function bs(e){let t=0,r=ut(0),n;return()=>{wr()&&(f(r),yr(()=>(t===0&&(n=Ar(()=>e(()=>qt(r)))),t+=1,()=>{je(()=>{t-=1,t===0&&(n?.(),n=void 0,qt(r))})})))}}var ws=wt|Tt|Kr;function ys(e,t,r){new xs(e,t,r)}class xs{parent;is_pending=!1;#t;#l=null;#e;#a;#i;#n=null;#r=null;#s=null;#o=null;#f=null;#c=0;#u=0;#h=!1;#d=!1;#p=new Set;#_=new Set;#v=null;#w=bs(()=>(this.#v=ut(this.#c),()=>{this.#v=null}));constructor(t,r,n){this.#t=t,this.#e=r,this.#a=n,this.parent=H.b,this.is_pending=!!this.#e.pending,this.#i=xr(()=>{H.b=this;{var s=this.#k();try{this.#n=xe(()=>n(s))}catch(a){this.error(a)}this.#u>0?this.#m():this.is_pending=!1}return()=>{this.#f?.remove()}},ws)}#y(){try{this.#n=xe(()=>this.#a(this.#t))}catch(t){this.error(t)}}#x(){const t=this.#e.pending;t&&(this.#r=xe(()=>t(this.#t)),je(()=>{var r=this.#k();this.#n=this.#g(()=>(Je.ensure(),xe(()=>this.#a(r)))),this.#u>0?this.#m():(lt(this.#r,()=>{this.#r=null}),this.is_pending=!1)}))}#k(){var t=this.#t;return this.is_pending&&(this.#f=$e(),this.#t.before(this.#f),t=this.#f),t}defer_effect(t){sn(t,this.#p,this.#_)}is_rendered(){return!this.is_pending&&(!this.parent||this.parent.is_rendered())}has_pending_snippet(){return!!this.#e.pending}#g(t){var r=H,n=D,s=Ae;Fe(this.#i),Te(this.#i),yt(this.#i.ctx);try{return t()}catch(a){return rn(a),null}finally{Fe(r),Te(n),yt(s)}}#m(){const t=this.#e.pending;this.#n!==null&&(this.#o=document.createDocumentFragment(),this.#o.append(this.#f),En(this.#n,this.#o)),this.#r===null&&(this.#r=xe(()=>t(this.#t)))}#b(t){if(!this.has_pending_snippet()){this.parent&&this.parent.#b(t);return}if(this.#u+=t,this.#u===0){this.is_pending=!1;for(const r of this.#p)K(r,le),Pe(r);for(const r of this.#_)K(r,ze),Pe(r);this.#p.clear(),this.#_.clear(),this.#r&&lt(this.#r,()=>{this.#r=null}),this.#o&&(this.#t.before(this.#o),this.#o=null)}}update_pending_count(t){this.#b(t),this.#c+=t,!(!this.#v||this.#h)&&(this.#h=!0,je(()=>{this.#h=!1,this.#v&&Ct(this.#v,this.#c)}))}get_effect_pending(){return this.#w(),f(this.#v)}error(t){var r=this.#e.onerror;let n=this.#e.failed;if(this.#d||!r&&!n)throw t;this.#n&&(_e(this.#n),this.#n=null),this.#r&&(_e(this.#r),this.#r=null),this.#s&&(_e(this.#s),this.#s=null);var s=!1,a=!1;const i=()=>{if(s){ds();return}s=!0,a&&is(),Je.ensure(),this.#c=0,this.#s!==null&&lt(this.#s,()=>{this.#s=null}),this.is_pending=this.has_pending_snippet(),this.#n=this.#g(()=>(this.#d=!1,xe(()=>this.#a(this.#t)))),this.#u>0?this.#m():this.is_pending=!1};je(()=>{try{a=!0,r?.(t,i),a=!1}catch(l){xt(l,this.#i&&this.#i.parent)}n&&(this.#s=this.#g(()=>{Je.ensure(),this.#d=!0;try{return xe(()=>{n(this.#t,()=>t,()=>i)})}catch(l){return xt(l,this.#i.parent),null}finally{this.#d=!1}}))})}}function Cs(e,t,r,n){const s=kr;var a=e.filter(v=>!v.settled);if(r.length===0&&a.length===0){n(t.map(s));return}var i=F,l=H,o=Es(),c=a.length===1?a[0].promise:a.length>1?Promise.all(a.map(v=>v.promise)):null;function u(v){o();try{n(v)}catch(h){(l.f&Ye)===0&&xt(h,l)}i?.deactivate(),vr()}if(r.length===0){c.then(()=>u(t.map(s)));return}function d(){o(),Promise.all(r.map(v=>As(v))).then(v=>u([...t.map(s),...v])).catch(v=>xt(v,l))}c?c.then(d):d()}function Es(){var e=H,t=D,r=Ae,n=F;return function(a=!0){Fe(e),Te(t),yt(r),a&&n?.activate()}}function vr(){Fe(null),Te(null),yt(null)}function kr(e){var t=ie|le,r=D!==null&&(D.f&ie)!==0?D:null;return H!==null&&(H.f|=Tt),{ctx:Ae,deps:null,effects:null,equals:Qr,f:t,fn:e,reactions:null,rv:0,v:ae,wv:0,parent:r??H,ac:null}}function As(e,t,r){let n=H;n===null&&Jn();var s=n.b,a=void 0,i=ut(ae),l=!D,o=new Map;return Bs(()=>{var c=Vr();a=c.promise;try{Promise.resolve(e()).then(c.resolve,c.reject).then(()=>{u===F&&u.committed&&u.deactivate(),vr()})}catch(h){c.reject(h),vr()}var u=F;if(l){var d=s.is_rendered();s.update_pending_count(1),u.increment(d),o.get(u)?.reject(nt),o.delete(u),o.set(u,c)}const v=(h,_=void 0)=>{if(u.activate(),_)_!==nt&&(i.f|=Xe,Ct(i,_));else{(i.f&Xe)!==0&&(i.f^=Xe),Ct(i,h);for(const[y,g]of o){if(o.delete(y),y===u)break;g.reject(nt)}}l&&(s.update_pending_count(-1),u.decrement(d))};c.promise.then(v,h=>v(null,h||"unknown"))}),kn(()=>{for(const c of o.values())c.reject(nt)}),new Promise(c=>{function u(d){function v(){d===a?c(i):u(a)}d.then(v,v)}u(a)})}function q(e){const t=kr(e);return An(t),t}function Ts(e){const t=kr(e);return t.equals=$r,t}function Ss(e){var t=e.effects;if(t!==null){e.effects=null;for(var r=0;r<t.length;r+=1)_e(t[r])}}function Ps(e){for(var t=e.parent;t!==null;){if((t.f&ie)===0)return(t.f&Ye)===0?t:null;t=t.parent}return null}function br(e){var t,r=H;Fe(Ps(e));try{e.f&=~ct,Ss(e),t=Mn(e)}finally{Fe(r)}return t}function cn(e){var t=br(e);if(!e.equals(t)&&(e.wv=Sn(),(!F?.is_fork||e.deps===null)&&(e.v=t,e.deps===null))){K(e,ne);return}vt||(Se!==null?(wr()||F?.is_fork)&&Se.set(e,t):mr(e))}function Ms(e){if(e.effects!==null)for(const t of e.effects)(t.teardown||t.ac)&&(t.teardown?.(),t.ac?.abort(nt),t.teardown=Ke,t.ac=null,Ft(t,0),Cr(t))}function un(e){if(e.effects!==null)for(const t of e.effects)t.teardown&&At(t)}let dr=new Set;const Qe=new Map;let vn=!1;function ut(e,t){var r={f:0,v:e,reactions:null,equals:Qr,rv:0,wv:0};return r}function G(e,t){const r=ut(e);return An(r),r}function zs(e,t=!1,r=!0){const n=ut(e);return t||(n.equals=$r),n}function V(e,t,r=!1){D!==null&&(!Me||(D.f&Sr)!==0)&&en()&&(D.f&(ie|Ue|gr|Sr))!==0&&(Ee===null||!bt.call(Ee,e))&&as();let n=r?at(t):t;return Ct(e,n)}function Ct(e,t){if(!e.equals(t)){var r=e.v;vt?Qe.set(e,t):Qe.set(e,r),e.v=t;var n=Je.ensure();if(n.capture(e,r),(e.f&ie)!==0){const s=e;(e.f&le)!==0&&br(s),mr(s)}e.wv=Sn(),dn(e,le),H!==null&&(H.f&ne)!==0&&(H.f&(Oe|ht))===0&&(ye===null?js([e]):ye.push(e)),!n.is_fork&&dr.size>0&&!vn&&Os()}return t}function Os(){vn=!1;for(const e of dr)(e.f&ne)!==0&&K(e,ze),jt(e)&&At(e);dr.clear()}function qt(e){V(e,e.v+1)}function dn(e,t){var r=e.reactions;if(r!==null)for(var n=r.length,s=0;s<n;s++){var a=r[s],i=a.f,l=(i&le)===0;if(l&&K(a,t),(i&ie)!==0){var o=a;Se?.delete(o),(i&ct)===0&&(i&Ce&&(a.f|=ct),dn(o,ze))}else l&&((i&Ue)!==0&&Be!==null&&Be.add(a),Pe(a))}}function at(e){if(typeof e!="object"||e===null||sr in e)return e;const t=Ur(e);if(t!==Vn&&t!==Zn)return e;var r=new Map,n=jr(e),s=G(0),a=ot,i=l=>{if(ot===a)return l();var o=D,c=ot;Te(null),Rr(a);var u=l();return Te(o),Rr(c),u};return n&&r.set("length",G(e.length)),new Proxy(e,{defineProperty(l,o,c){(!("value"in c)||c.configurable===!1||c.enumerable===!1||c.writable===!1)&&ns();var u=r.get(o);return u===void 0?i(()=>{var d=G(c.value);return r.set(o,d),d}):V(u,c.value,!0),!0},deleteProperty(l,o){var c=r.get(o);if(c===void 0){if(o in l){const u=i(()=>G(ae));r.set(o,u),qt(s)}}else V(c,ae),qt(s);return!0},get(l,o,c){if(o===sr)return e;var u=r.get(o),d=o in l;if(u===void 0&&(!d||It(l,o)?.writable)&&(u=i(()=>{var h=at(d?l[o]:ae),_=G(h);return _}),r.set(o,u)),u!==void 0){var v=f(u);return v===ae?void 0:v}return Reflect.get(l,o,c)},getOwnPropertyDescriptor(l,o){var c=Reflect.getOwnPropertyDescriptor(l,o);if(c&&"value"in c){var u=r.get(o);u&&(c.value=f(u))}else if(c===void 0){var d=r.get(o),v=d?.v;if(d!==void 0&&v!==ae)return{enumerable:!0,configurable:!0,value:v,writable:!0}}return c},has(l,o){if(o===sr)return!0;var c=r.get(o),u=c!==void 0&&c.v!==ae||Reflect.has(l,o);if(c!==void 0||H!==null&&(!u||It(l,o)?.writable)){c===void 0&&(c=i(()=>{var v=u?at(l[o]):ae,h=G(v);return h}),r.set(o,c));var d=f(c);if(d===ae)return!1}return u},set(l,o,c,u){var d=r.get(o),v=o in l;if(n&&o==="length")for(var h=c;h<d.v;h+=1){var _=r.get(h+"");_!==void 0?V(_,ae):h in l&&(_=i(()=>G(ae)),r.set(h+"",_))}if(d===void 0)(!v||It(l,o)?.writable)&&(d=i(()=>G(void 0)),V(d,at(c)),r.set(o,d));else{v=d.v!==ae;var y=i(()=>at(c));V(d,y)}var g=Reflect.getOwnPropertyDescriptor(l,o);if(g?.set&&g.set.call(u,c),!v){if(n&&typeof o=="string"){var w=r.get("length"),k=Number(o);Number.isInteger(k)&&k>=w.v&&V(w,k+1)}qt(s)}return!0},ownKeys(l){f(s);var o=Reflect.ownKeys(l).filter(d=>{var v=r.get(d);return v===void 0||v.v!==ae});for(var[c,u]of r)u.v!==ae&&!(c in l)&&o.push(c);return o},setPrototypeOf(){ss()}})}var Xt,hn,pn,_n;function Rs(){if(Xt===void 0){Xt=window,hn=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype,r=Text.prototype;pn=It(t,"firstChild").get,_n=It(t,"nextSibling").get,Tr(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),Tr(r)&&(r.__t=void 0)}}function $e(e=""){return document.createTextNode(e)}function Et(e){return pn.call(e)}function Ht(e){return _n.call(e)}function p(e,t){return Et(e)}function qe(e,t=!1){{var r=Et(e);return r instanceof Comment&&r.data===""?Ht(r):r}}function b(e,t=1,r=!1){let n=e;for(;t--;)n=Ht(n);return n}function Ls(e){e.textContent=""}function gn(){return!1}function Ds(e,t,r){return document.createElementNS(Jr,e,void 0)}let Mr=!1;function Is(){Mr||(Mr=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{if(!e.defaultPrevented)for(const t of e.target.elements)t.__on_r?.()})},{capture:!0}))}function Wt(e){var t=D,r=H;Te(null),Fe(null);try{return e()}finally{Te(t),Fe(r)}}function mn(e,t,r,n=r){e.addEventListener(t,()=>Wt(r));const s=e.__on_r;s?e.__on_r=()=>{s(),n(!0)}:e.__on_r=()=>n(!0),Is()}function Ns(e){H===null&&(D===null&&ts(),es()),vt&&$n()}function qs(e,t){var r=t.last;r===null?t.last=t.first=e:(r.next=e,e.prev=r,t.last=e)}function et(e,t,r){var n=H;n!==null&&(n.f&ke)!==0&&(e|=ke);var s={ctx:Ae,deps:null,nodes:null,f:e|le|Ce,first:null,fn:t,last:null,next:null,parent:n,b:n&&n.b,prev:null,teardown:null,wv:0,ac:null};if(r)try{At(s)}catch(l){throw _e(s),l}else t!==null&&Pe(s);var a=s;if(r&&a.deps===null&&a.teardown===null&&a.nodes===null&&a.first===a.last&&(a.f&Tt)===0&&(a=a.first,(e&Ue)!==0&&(e&wt)!==0&&a!==null&&(a.f|=wt)),a!==null&&(a.parent=n,n!==null&&qs(a,n),D!==null&&(D.f&ie)!==0&&(e&ht)===0)){var i=D;(i.effects??=[]).push(a)}return s}function wr(){return D!==null&&!Me}function kn(e){const t=et(er,null,!1);return K(t,ne),t.teardown=e,t}function zr(e){Ns();var t=H.f,r=!D&&(t&Oe)!==0&&(t&Bt)===0;if(r){var n=Ae;(n.e??=[]).push(e)}else return bn(e)}function bn(e){return et(Yt|Yn,e,!1)}function Fs(e){Je.ensure();const t=et(ht|Tt,e,!0);return(r={})=>new Promise(n=>{r.outro?lt(t,()=>{_e(t),n(void 0)}):(_e(t),n(void 0))})}function Bs(e){return et(gr|Tt,e,!0)}function yr(e,t=0){return et(er|t,e,!0)}function N(e,t=[],r=[],n=[]){Cs(n,t,r,s=>{et(er,()=>e(...s.map(f)),!0)})}function xr(e,t=0){var r=et(Ue|t,e,!0);return r}function xe(e){return et(Oe|Tt,e,!0)}function wn(e){var t=e.teardown;if(t!==null){const r=vt,n=D;Or(!0),Te(null);try{t.call(null)}finally{Or(r),Te(n)}}}function Cr(e,t=!1){var r=e.first;for(e.first=e.last=null;r!==null;){const s=r.ac;s!==null&&Wt(()=>{s.abort(nt)});var n=r.next;(r.f&ht)!==0?r.parent=null:_e(r,t),r=n}}function Hs(e){for(var t=e.first;t!==null;){var r=t.next;(t.f&Oe)===0&&_e(t),t=r}}function _e(e,t=!0){var r=!1;(t||(e.f&Yr)!==0)&&e.nodes!==null&&e.nodes.end!==null&&(Ws(e.nodes.start,e.nodes.end),r=!0),Cr(e,t&&!r),Ft(e,0),K(e,Ye);var n=e.nodes&&e.nodes.t;if(n!==null)for(const a of n)a.stop();wn(e);var s=e.parent;s!==null&&s.first!==null&&yn(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes=e.ac=null}function Ws(e,t){for(;e!==null;){var r=e===t?null:Ht(e);e.remove(),e=r}}function yn(e){var t=e.parent,r=e.prev,n=e.next;r!==null&&(r.next=n),n!==null&&(n.prev=r),t!==null&&(t.first===e&&(t.first=n),t.last===e&&(t.last=r))}function lt(e,t,r=!0){var n=[];xn(e,n,!0);var s=()=>{r&&_e(e),t&&t()},a=n.length;if(a>0){var i=()=>--a||s();for(var l of n)l.out(i)}else s()}function xn(e,t,r){if((e.f&ke)===0){e.f^=ke;var n=e.nodes&&e.nodes.t;if(n!==null)for(const l of n)(l.is_global||r)&&t.push(l);for(var s=e.first;s!==null;){var a=s.next,i=(s.f&wt)!==0||(s.f&Oe)!==0&&(e.f&Ue)!==0;xn(s,t,i?r:!1),s=a}}}function Er(e){Cn(e,!0)}function Cn(e,t){if((e.f&ke)!==0){e.f^=ke,(e.f&ne)===0&&(K(e,le),Pe(e));for(var r=e.first;r!==null;){var n=r.next,s=(r.f&wt)!==0||(r.f&Oe)!==0;Cn(r,s?t:!1),r=n}var a=e.nodes&&e.nodes.t;if(a!==null)for(const i of a)(i.is_global||t)&&i.in()}}function En(e,t){if(e.nodes)for(var r=e.nodes.start,n=e.nodes.end;r!==null;){var s=r===n?null:Ht(r);t.append(r),r=s}}let Kt=!1,vt=!1;function Or(e){vt=e}let D=null,Me=!1;function Te(e){D=e}let H=null;function Fe(e){H=e}let Ee=null;function An(e){D!==null&&(Ee===null?Ee=[e]:Ee.push(e))}let pe=null,me=0,ye=null;function js(e){ye=e}let Tn=1,it=0,ot=it;function Rr(e){ot=e}function Sn(){return++Tn}function jt(e){var t=e.f;if((t&le)!==0)return!0;if(t&ie&&(e.f&=~ct),(t&ze)!==0){for(var r=e.deps,n=r.length,s=0;s<n;s++){var a=r[s];if(jt(a)&&cn(a),a.wv>e.wv)return!0}(t&Ce)!==0&&Se===null&&K(e,ne)}return!1}function Pn(e,t,r=!0){var n=e.reactions;if(n!==null&&!(Ee!==null&&bt.call(Ee,e)))for(var s=0;s<n.length;s++){var a=n[s];(a.f&ie)!==0?Pn(a,t,!1):t===a&&(r?K(a,le):(a.f&ne)!==0&&K(a,ze),Pe(a))}}function Mn(e){var t=pe,r=me,n=ye,s=D,a=Ee,i=Ae,l=Me,o=ot,c=e.f;pe=null,me=0,ye=null,D=(c&(Oe|ht))===0?e:null,Ee=null,yt(e.ctx),Me=!1,ot=++it,e.ac!==null&&(Wt(()=>{e.ac.abort(nt)}),e.ac=null);try{e.f|=fr;var u=e.fn,d=u();e.f|=Bt;var v=e.deps,h=F?.is_fork;if(pe!==null){var _;if(h||Ft(e,me),v!==null&&me>0)for(v.length=me+pe.length,_=0;_<pe.length;_++)v[me+_]=pe[_];else e.deps=v=pe;if(wr()&&(e.f&Ce)!==0)for(_=me;_<v.length;_++)(v[_].reactions??=[]).push(e)}else!h&&v!==null&&me<v.length&&(Ft(e,me),v.length=me);if(en()&&ye!==null&&!Me&&v!==null&&(e.f&(ie|ze|le))===0)for(_=0;_<ye.length;_++)Pn(ye[_],e);if(s!==null&&s!==e){if(it++,s.deps!==null)for(let y=0;y<r;y+=1)s.deps[y].rv=it;if(t!==null)for(const y of t)y.rv=it;ye!==null&&(n===null?n=ye:n.push(...ye))}return(e.f&Xe)!==0&&(e.f^=Xe),d}catch(y){return rn(y)}finally{e.f^=fr,pe=t,me=r,ye=n,D=s,Ee=a,yt(i),Me=l,ot=o}}function Us(e,t){let r=t.reactions;if(r!==null){var n=Wn.call(r,e);if(n!==-1){var s=r.length-1;s===0?r=t.reactions=null:(r[n]=r[s],r.pop())}}if(r===null&&(t.f&ie)!==0&&(pe===null||!bt.call(pe,t))){var a=t;(a.f&Ce)!==0&&(a.f^=Ce,a.f&=~ct),mr(a),Ms(a),Ft(a,0)}}function Ft(e,t){var r=e.deps;if(r!==null)for(var n=t;n<r.length;n++)Us(e,r[n])}function At(e){var t=e.f;if((t&Ye)===0){K(e,ne);var r=H,n=Kt;H=e,Kt=!0;try{(t&(Ue|Gr))!==0?Hs(e):Cr(e),wn(e);var s=Mn(e);e.teardown=typeof s=="function"?s:null,e.wv=Tn;var a;or&&ps&&(e.f&le)!==0&&e.deps}finally{Kt=n,H=r}}}async function Vs(){await Promise.resolve(),ms()}function f(e){var t=e.f,r=(t&ie)!==0;if(D!==null&&!Me){var n=H!==null&&(H.f&Ye)!==0;if(!n&&(Ee===null||!bt.call(Ee,e))){var s=D.deps;if((D.f&fr)!==0)e.rv<it&&(e.rv=it,pe===null&&s!==null&&s[me]===e?me++:pe===null?pe=[e]:pe.push(e));else{(D.deps??=[]).push(e);var a=e.reactions;a===null?e.reactions=[D]:bt.call(a,D)||a.push(D)}}}if(vt&&Qe.has(e))return Qe.get(e);if(r){var i=e;if(vt){var l=i.v;return((i.f&ne)===0&&i.reactions!==null||On(i))&&(l=br(i)),Qe.set(i,l),l}var o=(i.f&Ce)===0&&!Me&&D!==null&&(Kt||(D.f&Ce)!==0),c=(i.f&Bt)===0;jt(i)&&(o&&(i.f|=Ce),cn(i)),o&&!c&&(un(i),zn(i))}if(Se?.has(e))return Se.get(e);if((e.f&Xe)!==0)throw e.v;return e.v}function zn(e){if(e.f|=Ce,e.deps!==null)for(const t of e.deps)(t.reactions??=[]).push(e),(t.f&ie)!==0&&(t.f&Ce)===0&&(un(t),zn(t))}function On(e){if(e.v===ae)return!0;if(e.deps===null)return!1;for(const t of e.deps)if(Qe.has(t)||(t.f&ie)!==0&&On(t))return!0;return!1}function Ar(e){var t=Me;try{return Me=!0,e()}finally{Me=t}}const Zs=["touchstart","touchmove"];function Gs(e){return Zs.includes(e)}const Rn=Symbol("events"),Ln=new Set,hr=new Set;function Ks(e,t,r,n={}){function s(a){if(n.capture||pr.call(t,a),!a.cancelBubble)return Wt(()=>r?.call(this,a))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?je(()=>{t.addEventListener(e,s,n)}):t.addEventListener(e,s,n),s}function Dn(e,t,r,n,s){var a={capture:n,passive:s},i=Ks(e,t,r,a);(t===document.body||t===window||t===document||t instanceof HTMLMediaElement)&&kn(()=>{t.removeEventListener(e,i,a)})}function Q(e,t,r){(t[Rn]??={})[e]=r}function St(e){for(var t=0;t<e.length;t++)Ln.add(e[t]);for(var r of hr)r(e)}let Lr=null;function pr(e){var t=this,r=t.ownerDocument,n=e.type,s=e.composedPath?.()||[],a=s[0]||e.target;Lr=e;var i=0,l=Lr===e&&e.__root;if(l){var o=s.indexOf(l);if(o!==-1&&(t===document||t===window)){e.__root=t;return}var c=s.indexOf(t);if(c===-1)return;o<=c&&(i=o)}if(a=s[i]||e.target,a!==t){jn(e,"currentTarget",{configurable:!0,get(){return a||r}});var u=D,d=H;Te(null),Fe(null);try{for(var v,h=[];a!==null;){var _=a.assignedSlot||a.parentNode||a.host||null;try{var y=a[Rn]?.[n];y!=null&&(!a.disabled||e.target===a)&&y.call(a,e)}catch(g){v?h.push(g):v=g}if(e.cancelBubble||_===t||_===null)break;a=_}if(v){for(let g of h)queueMicrotask(()=>{throw g});throw v}}finally{e.__root=t,delete e.currentTarget,Te(u),Fe(d)}}}const Ys=globalThis?.window?.trustedTypes?.createPolicy("svelte-trusted-html",{createHTML:e=>e});function Xs(e){return Ys?.createHTML(e)??e}function In(e,t=!1){var r=Ds("template");return e=e.replaceAll("<!>","<!---->"),r.innerHTML=t?Xs(e):e,r.content}function Jt(e,t){var r=H;r.nodes===null&&(r.nodes={start:e,end:t,a:null,t:null})}function A(e,t){var r=(t&us)!==0,n=(t&vs)!==0,s,a=!e.startsWith("<!>");return()=>{s===void 0&&(s=In(a?e:"<!>"+e,!0),r||(s=Et(s)));var i=n||hn?document.importNode(s,!0):s.cloneNode(!0);if(r){var l=Et(i),o=i.lastChild;Jt(l,o)}else Jt(i,i);return i}}function Js(e,t,r="svg"){var n=!e.startsWith("<!>"),s=`<${r}>${n?e:"<!>"+e}</${r}>`,a;return()=>{if(!a){var i=In(s,!0),l=Et(i);a=Et(l)}var o=a.cloneNode(!0);return Jt(o,o),o}}function Nn(e,t){return Js(e,t,"svg")}function dt(){var e=document.createDocumentFragment(),t=document.createComment(""),r=$e();return e.append(t,r),Jt(t,r),e}function C(e,t){e!==null&&e.before(t)}function I(e,t){var r=t==null?"":typeof t=="object"?t+"":t;r!==(e.__t??=e.nodeValue)&&(e.__t=r,e.nodeValue=r+"")}function Qs(e,t){return $s(e,t)}const Zt=new Map;function $s(e,{target:t,anchor:r,props:n={},events:s,context:a,intro:i=!0}){Rs();var l=new Set,o=d=>{for(var v=0;v<d.length;v++){var h=d[v];if(!l.has(h)){l.add(h);var _=Gs(h);for(const w of[t,document]){var y=Zt.get(w);y===void 0&&(y=new Map,Zt.set(w,y));var g=y.get(h);g===void 0?(w.addEventListener(h,pr,{passive:_}),y.set(h,1)):y.set(h,g+1)}}}};o($t(Ln)),hr.add(o);var c=void 0,u=Fs(()=>{var d=r??t.appendChild($e());return ys(d,{pending:()=>{}},v=>{Re({});var h=Ae;a&&(h.c=a),s&&(n.$$events=s),c=e(v,n)||{},Le()}),()=>{for(var v of l)for(const y of[t,document]){var h=Zt.get(y),_=h.get(v);--_==0?(y.removeEventListener(v,pr),h.delete(v),h.size===0&&Zt.delete(y)):h.set(v,_)}hr.delete(o),d!==r&&d.parentNode?.removeChild(d)}});return ea.set(c,u),c}let ea=new WeakMap;class ta{anchor;#t=new Map;#l=new Map;#e=new Map;#a=new Set;#i=!0;constructor(t,r=!0){this.anchor=t,this.#i=r}#n=()=>{var t=F;if(this.#t.has(t)){var r=this.#t.get(t),n=this.#l.get(r);if(n)Er(n),this.#a.delete(r);else{var s=this.#e.get(r);s&&(this.#l.set(r,s.effect),this.#e.delete(r),s.fragment.lastChild.remove(),this.anchor.before(s.fragment),n=s.effect)}for(const[a,i]of this.#t){if(this.#t.delete(a),a===t)break;const l=this.#e.get(i);l&&(_e(l.effect),this.#e.delete(i))}for(const[a,i]of this.#l){if(a===r||this.#a.has(a))continue;const l=()=>{if(Array.from(this.#t.values()).includes(a)){var c=document.createDocumentFragment();En(i,c),c.append($e()),this.#e.set(a,{effect:i,fragment:c})}else _e(i);this.#a.delete(a),this.#l.delete(a)};this.#i||!n?(this.#a.add(a),lt(i,l,!1)):l()}}};#r=t=>{this.#t.delete(t);const r=Array.from(this.#t.values());for(const[n,s]of this.#e)r.includes(n)||(_e(s.effect),this.#e.delete(n))};ensure(t,r){var n=F,s=gn();if(r&&!this.#l.has(t)&&!this.#e.has(t))if(s){var a=document.createDocumentFragment(),i=$e();a.append(i),this.#e.set(t,{effect:xe(()=>r(i)),fragment:a})}else this.#l.set(t,xe(()=>r(this.anchor)));if(this.#t.set(n,t),s){for(const[l,o]of this.#l)l===t?n.unskip_effect(o):n.skip_effect(o);for(const[l,o]of this.#e)l===t?n.unskip_effect(o.effect):n.skip_effect(o.effect);n.oncommit(this.#n),n.ondiscard(this.#r)}else this.#n()}}function re(e,t,r=!1){var n=new ta(e),s=r?wt:0;function a(i,l){n.ensure(i,l)}xr(()=>{var i=!1;t((l,o=0)=>{i=!0,a(o,l)}),i||a(!1,null)},s)}function j(e,t){return t}function ra(e,t,r){for(var n=[],s=t.length,a,i=t.length,l=0;l<s;l++){let d=t[l];lt(d,()=>{if(a){if(a.pending.delete(d),a.done.add(d),a.pending.size===0){var v=e.outrogroups;_r($t(a.done)),v.delete(a),v.size===0&&(e.outrogroups=null)}}else i-=1},!1)}if(i===0){var o=n.length===0&&r!==null;if(o){var c=r,u=c.parentNode;Ls(u),u.append(c),e.items.clear()}_r(t,!o)}else a={pending:new Set(t),done:new Set},(e.outrogroups??=new Set).add(a)}function _r(e,t=!0){for(var r=0;r<e.length;r++)_e(e[r],t)}var Dr;function B(e,t,r,n,s,a=null){var i=e,l=new Map,o=(t&Xr)!==0;if(o){var c=e;i=c.appendChild($e())}var u=null,d=Ts(()=>{var w=r();return jr(w)?w:w==null?[]:$t(w)}),v,h=!0;function _(){g.fallback=u,na(g,v,i,t,n),u!==null&&(v.length===0?(u.f&We)===0?Er(u):(u.f^=We,Dt(u,null,i)):lt(u,()=>{u=null}))}var y=xr(()=>{v=f(d);for(var w=v.length,k=new Set,m=F,x=gn(),E=0;E<w;E+=1){var P=v[E],T=n(P,E),S=h?null:l.get(T);S?(S.v&&Ct(S.v,P),S.i&&Ct(S.i,E),x&&m.unskip_effect(S.e)):(S=sa(l,h?i:Dr??=$e(),P,T,E,s,t,r),h||(S.e.f|=We),l.set(T,S)),k.add(T)}if(w===0&&a&&!u&&(h?u=xe(()=>a(i)):(u=xe(()=>a(Dr??=$e())),u.f|=We)),w>k.size&&Qn(),!h)if(x){for(const[R,z]of l)k.has(R)||m.skip_effect(z.e);m.oncommit(_),m.ondiscard(()=>{})}else _();f(d)}),g={effect:y,items:l,outrogroups:null,fallback:u};h=!1}function Lt(e){for(;e!==null&&(e.f&Oe)===0;)e=e.next;return e}function na(e,t,r,n,s){var a=(n&fs)!==0,i=t.length,l=e.items,o=Lt(e.effect.first),c,u=null,d,v=[],h=[],_,y,g,w;if(a)for(w=0;w<i;w+=1)_=t[w],y=s(_,w),g=l.get(y).e,(g.f&We)===0&&(g.nodes?.a?.measure(),(d??=new Set).add(g));for(w=0;w<i;w+=1){if(_=t[w],y=s(_,w),g=l.get(y).e,e.outrogroups!==null)for(const z of e.outrogroups)z.pending.delete(g),z.done.delete(g);if((g.f&We)!==0)if(g.f^=We,g===o)Dt(g,null,r);else{var k=u?u.next:o;g===e.effect.last&&(e.effect.last=g.prev),g.prev&&(g.prev.next=g.next),g.next&&(g.next.prev=g.prev),Ge(e,u,g),Ge(e,g,k),Dt(g,k,r),u=g,v=[],h=[],o=Lt(u.next);continue}if((g.f&ke)!==0&&(Er(g),a&&(g.nodes?.a?.unfix(),(d??=new Set).delete(g))),g!==o){if(c!==void 0&&c.has(g)){if(v.length<h.length){var m=h[0],x;u=m.prev;var E=v[0],P=v[v.length-1];for(x=0;x<v.length;x+=1)Dt(v[x],m,r);for(x=0;x<h.length;x+=1)c.delete(h[x]);Ge(e,E.prev,P.next),Ge(e,u,E),Ge(e,P,m),o=m,u=P,w-=1,v=[],h=[]}else c.delete(g),Dt(g,o,r),Ge(e,g.prev,g.next),Ge(e,g,u===null?e.effect.first:u.next),Ge(e,u,g),u=g;continue}for(v=[],h=[];o!==null&&o!==g;)(c??=new Set).add(o),h.push(o),o=Lt(o.next);if(o===null)continue}(g.f&We)===0&&v.push(g),u=g,o=Lt(g.next)}if(e.outrogroups!==null){for(const z of e.outrogroups)z.pending.size===0&&(_r($t(z.done)),e.outrogroups?.delete(z));e.outrogroups.size===0&&(e.outrogroups=null)}if(o!==null||c!==void 0){var T=[];if(c!==void 0)for(g of c)(g.f&ke)===0&&T.push(g);for(;o!==null;)(o.f&ke)===0&&o!==e.fallback&&T.push(o),o=Lt(o.next);var S=T.length;if(S>0){var R=(n&Xr)!==0&&i===0?r:null;if(a){for(w=0;w<S;w+=1)T[w].nodes?.a?.measure();for(w=0;w<S;w+=1)T[w].nodes?.a?.fix()}ra(e,T,R)}}a&&je(()=>{if(d!==void 0)for(g of d)g.nodes?.a?.apply()})}function sa(e,t,r,n,s,a,i,l){var o=(i&ls)!==0?(i&cs)===0?zs(r,!1,!1):ut(r):null,c=(i&os)!==0?ut(s):null;return{v:o,i:c,e:xe(()=>(a(t,o??r,c??s,l),()=>{e.delete(n)}))}}function Dt(e,t,r){if(e.nodes)for(var n=e.nodes.start,s=e.nodes.end,a=t&&(t.f&We)===0?t.nodes.start:r;n!==null;){var i=Ht(n);if(a.before(n),n===s)return;n=i}}function Ge(e,t,r){t===null?e.effect.first=r:t.next=r,r===null?e.effect.last=t:r.prev=t}const aa=()=>performance.now(),He={tick:e=>requestAnimationFrame(e),now:()=>aa(),tasks:new Set};function qn(){const e=He.now();He.tasks.forEach(t=>{t.c(e)||(He.tasks.delete(t),t.f())}),He.tasks.size!==0&&He.tick(qn)}function ia(e){let t;return He.tasks.size===0&&He.tick(qn),{promise:new Promise(r=>{He.tasks.add(t={c:e,f:r})}),abort(){He.tasks.delete(t)}}}function Ir(e,t){Wt(()=>{e.dispatchEvent(new CustomEvent(t))})}function la(e){if(e==="float")return"cssFloat";if(e==="offset")return"cssOffset";if(e.startsWith("--"))return e;const t=e.split("-");return t.length===1?t[0]:t[0]+t.slice(1).map(r=>r[0].toUpperCase()+r.slice(1)).join("")}function Nr(e){const t={},r=e.split(";");for(const n of r){const[s,a]=n.split(":");if(!s||a===void 0)break;const i=la(s.trim());t[i]=a.trim()}return t}const oa=e=>e;function fa(e,t,r){var n=H,s=n.nodes,a,i,l,o=null;s.a??={element:e,measure(){a=this.element.getBoundingClientRect()},apply(){if(l?.abort(),i=this.element.getBoundingClientRect(),a.left!==i.left||a.right!==i.right||a.top!==i.top||a.bottom!==i.bottom){const c=t()(this.element,{from:a,to:i},r?.());l=Fn(this.element,c,void 0,1,()=>{l?.abort(),l=void 0})}},fix(){if(!e.getAnimations().length){var{position:c,width:u,height:d}=getComputedStyle(e);if(c!=="absolute"&&c!=="fixed"){var v=e.style;o={position:v.position,width:v.width,height:v.height,transform:v.transform},v.position="absolute",v.width=u,v.height=d;var h=e.getBoundingClientRect();if(a.left!==h.left||a.top!==h.top){var _=`translate(${a.left-h.left}px, ${a.top-h.top}px)`;v.transform=v.transform?`${v.transform} ${_}`:_}}}},unfix(){if(o){var c=e.style;c.position=o.position,c.width=o.width,c.height=o.height,c.transform=o.transform}}},s.a.element=e}function Fn(e,t,r,n,s){if(Gn(t)){var a,i=!1;return je(()=>{if(!i){var y=t({direction:"in"});a=Fn(e,y,r,n,s)}}),{abort:()=>{i=!0,a?.abort()},deactivate:()=>a.deactivate(),reset:()=>a.reset(),t:()=>a.t()}}if(!t?.duration&&!t?.delay)return Ir(e,"introstart"),s(),{abort:Ke,deactivate:Ke,reset:Ke,t:()=>n};const{delay:l=0,css:o,tick:c,easing:u=oa}=t;var d=[];if(c&&c(0,1),o){var v=Nr(o(0,1));d.push(v,v)}var h=()=>1-n,_=e.animate(d,{duration:l,fill:"forwards"});return _.onfinish=()=>{_.cancel(),Ir(e,"introstart");var y=1-n,g=n-y,w=t.duration*Math.abs(g),k=[];if(w>0){var m=!1;if(o)for(var x=Math.ceil(w/16.666666666666668),E=0;E<=x;E+=1){var P=y+g*u(E/x),T=Nr(o(P,1-P));k.push(T),m||=T.overflow==="hidden"}m&&(e.style.overflow="hidden"),h=()=>{var S=_.currentTime;return y+g*u(S/w)},c&&ia(()=>{if(_.playState!=="running")return!1;var S=h();return c(S,1-S),!0})}_=e.animate(k,{duration:w,fill:"forwards"}),_.onfinish=()=>{h=()=>n,c?.(n,1-n),s()}},{abort:()=>{_&&(_.cancel(),_.effect=null,_.onfinish=Ke)},deactivate:()=>{s=Ke},reset:()=>{},t:()=>h()}}const qr=[...` 	
\r\f \v\uFEFF`];function ca(e,t,r){var n=e==null?"":""+e;if(r){for(var s in r)if(r[s])n=n?n+" "+s:s;else if(n.length)for(var a=s.length,i=0;(i=n.indexOf(s,i))>=0;){var l=i+a;(i===0||qr.includes(n[i-1]))&&(l===n.length||qr.includes(n[l]))?n=(i===0?"":n.substring(0,i))+n.substring(l+1):i=l}}return n===""?null:n}function Fr(e,t=!1){var r=t?" !important;":";",n="";for(var s in e){var a=e[s];a!=null&&a!==""&&(n+=" "+s+": "+a+r)}return n}function ua(e,t){if(t){var r="",n,s;return Array.isArray(t)?(n=t[0],s=t[1]):n=t,n&&(r+=Fr(n)),s&&(r+=Fr(s,!0)),r=r.trim(),r===""?null:r}return String(e)}function ft(e,t,r,n,s,a){var i=e.__className;if(i!==r||i===void 0){var l=ca(r,n,a);l==null?e.removeAttribute("class"):e.className=l,e.__className=r}else if(a&&s!==a)for(var o in a){var c=!!a[o];(s==null||c!==!!s[o])&&e.classList.toggle(o,c)}return a}function ar(e,t={},r,n){for(var s in r){var a=r[s];t[s]!==a&&(r[s]==null?e.style.removeProperty(s):e.style.setProperty(s,a,n))}}function te(e,t,r,n){var s=e.__style;if(s!==t){var a=ua(t,n);a==null?e.removeAttribute("style"):e.style.cssText=a,e.__style=t}else n&&(Array.isArray(n)?(ar(e,r?.[0],n[0]),ar(e,r?.[1],n[1],"important")):ar(e,r,n));return n}const va=Symbol("is custom element"),da=Symbol("is html");function rt(e,t,r,n){var s=ha(e);s[t]!==(s[t]=r)&&(t==="loading"&&(e[Xn]=r),r==null?e.removeAttribute(t):typeof r!="string"&&pa(e).includes(t)?e[t]=r:e.setAttribute(t,r))}function ha(e){return e.__attributes??={[va]:e.nodeName.includes("-"),[da]:e.namespaceURI===Jr}}var Br=new Map;function pa(e){var t=e.getAttribute("is")||e.nodeName,r=Br.get(t);if(r)return r;Br.set(t,r=[]);for(var n,s=e,a=Element.prototype;a!==s;){n=Un(s);for(var i in n)n[i].set&&r.push(i);s=Ur(s)}return r}function Hr(e,t,r=t){var n=new WeakSet;mn(e,"input",async s=>{var a=s?e.defaultValue:e.value;if(a=ir(e)?lr(a):a,r(a),F!==null&&n.add(F),await Vs(),a!==(a=t())){var i=e.selectionStart,l=e.selectionEnd,o=e.value.length;if(e.value=a??"",l!==null){var c=e.value.length;i===l&&l===o&&c>o?(e.selectionStart=c,e.selectionEnd=c):(e.selectionStart=i,e.selectionEnd=Math.min(l,c))}}}),Ar(t)==null&&e.value&&(r(ir(e)?lr(e.value):e.value),F!==null&&n.add(F)),yr(()=>{var s=t();if(e===document.activeElement){var a=cr??F;if(n.has(a))return}ir(e)&&s===lr(e.value)||e.type==="date"&&!s&&!e.value||s!==e.value&&(e.value=s??"")})}function Gt(e,t,r=t){mn(e,"change",n=>{var s=n?e.defaultChecked:e.checked;r(s)}),Ar(t)==null&&r(e.checked),yr(()=>{var n=t();e.checked=!!n})}function ir(e){var t=e.type;return t==="number"||t==="range"}function lr(e){return e===""?null:+e}function Bn(e,t,r,n){var s=n,a=!0,i=()=>(a&&(a=!1,s=n),s),l;l=e[t],l===void 0&&n!==void 0&&(l=i());var o;return o=()=>{var c=e[t];return c===void 0?i():(a=!0,c)},o}const _a="5";typeof window<"u"&&((window.__svelte??={}).v??=new Set).add(_a);var ga=A('<div class="plaintext-section svelte-q4552b"><label for="plaintext" class="svelte-q4552b">Plaintext</label> <textarea id="plaintext" data-testid="plaintext-input" placeholder="Type letters A–Z..." class="svelte-q4552b"></textarea></div>');function ma(e,t){Re(t,!0);var r=ga(),n=b(p(r),2);Q("input",n,s=>t.oninput(s.currentTarget.value)),C(e,r),Le()}St(["input"]);var ka=A('<span class="placeholder svelte-uveiyz">Ciphertext appears here...</span>'),ba=A("<br/>"),wa=A('<span class="ct-char svelte-uveiyz"> </span>'),ya=A('<div class="ciphertext-section svelte-uveiyz"><label for="ciphertext" class="svelte-uveiyz">Ciphertext</label> <div id="ciphertext" class="ciphertext-chars svelte-uveiyz" data-testid="ciphertext-output" aria-label="Ciphertext" aria-readonly="true"><!></div></div>');function xa(e,t){Re(t,!0);const r="#c678dd",n="#56b6c2";let s=q(()=>t.tokens.length>0);var a=ya(),i=b(p(a),2),l=p(i);{var o=u=>{var d=ka();C(u,d)},c=u=>{var d=dt(),v=qe(d);B(v,17,()=>t.tokens,j,(h,_)=>{var y=dt(),g=qe(y);{var w=m=>{var x=ba();C(m,x)},k=m=>{var x=wa();let E;var P=p(x);N(()=>{E=te(x,"",E,{"background-color":f(_).highlight==="A"?r:f(_).highlight==="B"?n:void 0,color:f(_).highlight?"#1e1e1e":void 0}),I(P,f(_).char)}),C(m,x)};re(g,m=>{f(_).char===`
`?m(w):m(k,!1)})}C(h,y)}),C(u,d)};re(l,u=>{f(s)?u(c,!1):u(o)})}C(e,a),Le()}var Ca=A("<div> </div>");function Ea(e,t){const r=["#e06c75","#e5c07b","#61afef","#98c379","#c678dd","#56b6c2","#d19a66","#e96eb0","#be5046","#528bff","#7ec8a4","#f0a0a0","#a0c8f0"];let n=Bn(t,"swapPair",3,null);var s=Ca();let a,i;var l=p(s);N(()=>{a=ft(s,1,"card svelte-1s7zazm",null,a,{highlighted:n()!=null}),i=te(s,"",i,{"background-color":n()!=null?r[n()]:void 0}),I(l,t.letter)}),C(e,s)}function Aa(e){const t=e-1;return t*t*t+1}function Ta(e,{from:t,to:r},n={}){var{delay:s=0,duration:a=P=>Math.sqrt(P)*120,easing:i=Aa}=n,l=getComputedStyle(e),o=l.transform==="none"?"":l.transform,[c,u]=l.transformOrigin.split(" ").map(parseFloat);c/=e.clientWidth,u/=e.clientHeight;var d=Sa(e),v=e.clientWidth/r.width/d,h=e.clientHeight/r.height/d,_=t.left+t.width*c,y=t.top+t.height*u,g=r.left+r.width*c,w=r.top+r.height*u,k=(_-g)*v,m=(y-w)*h,x=t.width/r.width,E=t.height/r.height;return{delay:s,duration:typeof a=="function"?a(Math.sqrt(k*k+m*m)):a,easing:i,css:(P,T)=>{var S=T*k,R=T*m,z=P+T*x,L=P+T*E;return`transform: ${o} translate(${S}px, ${R}px) scale(${z}, ${L});`}}}function Sa(e){if("currentCSSZoom"in e)return e.currentCSSZoom;for(var t=e,r=1;t!==null;)r*=+getComputedStyle(t).zoom,t=t.parentElement;return r}var Pa=A('<span class="rotation-label svelte-1c30440"> </span>'),Ma=A('<span class="legend-swatch svelte-1c30440"></span>'),za=A('<span class="legend-rotation svelte-1c30440"> </span>'),Oa=A('<div class="legend svelte-1c30440"><span class="legend-label svelte-1c30440">Swaps:</span> <!> <!></div>'),Ra=A('<div class="card-slot svelte-1c30440"><!></div>'),La=A('<div class="deck-section svelte-1c30440"><h2 class="deck-label svelte-1c30440">Current Deck State <!></h2> <!> <div class="deck svelte-1c30440" data-testid="deck"></div></div>');function Da(e,t){Re(t,!0);const r=["#e06c75","#e5c07b","#61afef","#98c379","#c678dd","#56b6c2","#d19a66","#e96eb0","#be5046","#528bff","#7ec8a4","#f0a0a0","#a0c8f0"];let n=q(()=>{const d=new Array(t.deck.length).fill(null);if(t.lastTransformation)for(let v=0;v<t.lastTransformation.swaps.length;v++){const[h,_]=t.lastTransformation.swaps[v];d[h]=v,d[_]=v}return d});var s=La(),a=p(s),i=b(p(a));{var l=d=>{var v=Pa(),h=p(v);N(()=>I(h,`↺${t.lastTransformation.rotation??""}`)),C(d,v)};re(i,d=>{t.lastTransformation&&t.lastTransformation.rotation>0&&d(l)})}var o=b(a,2);{var c=d=>{var v=Oa(),h=b(p(v),2);B(h,17,()=>t.lastTransformation.swaps,j,(g,w,k)=>{var m=Ma();let x;m.textContent=k+1,N(()=>x=te(m,"",x,{"background-color":r[k]})),C(g,m)});var _=b(h,2);{var y=g=>{var w=za(),k=p(w);N(()=>I(k,`↺${t.lastTransformation.rotation??""}`)),C(g,w)};re(_,g=>{t.lastTransformation.rotation>0&&g(y)})}C(d,v)};re(o,d=>{t.showHighlights&&t.lastTransformation&&d(c)})}var u=b(o,2);B(u,30,()=>t.deck,d=>d,(d,v,h)=>{var _=Ra(),y=p(_);{let g=q(()=>t.showHighlights?f(n)[f(h)]:null);Ea(y,{get letter(){return v},get swapPair(){return f(g)}})}fa(_,()=>Ta,()=>({duration:t.showAnimations?500:0})),C(d,_)}),C(e,s),Le()}function Hn(){return Array.from({length:26},(e,t)=>String.fromCharCode(65+t))}function Ia(e,t){let r=[...e];if(t.rotation>0){const n=t.rotation;r=[...r.slice(n),...r.slice(0,n)]}for(const[n,s]of t.swaps)[r[n],r[s]]=[r[s],r[n]];return r}function Na(e,t,r){const n=t.toUpperCase(),s=r[n],a=Ia(e,s);return{newDeck:a,ciphertextChar:a[0]}}function qa(e,t){let r=Hn(),n="",s=null;const a=[];for(const i of e){const l=i.toUpperCase();if(l>="A"&&l<="Z"){const o=Na(r,l,t),c=t[l];a.push({deck:o.newDeck,ciphertextChar:o.ciphertextChar,transformation:c}),s=c,r=o.newDeck,n+=o.ciphertextChar}}return{deck:r,ciphertext:n,lastTransformation:s,steps:a}}var Fa=Nn('<line x1="0" stroke-width="1.5" stroke-linecap="round" opacity="0.75"></line>'),Ba=Nn('<svg class="connector svelte-fp5jfp" xmlns="http://www.w3.org/2000/svg"></svg>');function Ha(e,t){Re(t,!0);const r=parseFloat(getComputedStyle(document.documentElement).fontSize),n=1.6*r,s=.15*r,a=n+s,i=(1.3+.1+.15)*r,l=(.85*1+.2+.15)*r,o=(.7+.1+.15)*r,c=i+l+o,u=2.5*r,d=c+26*n+25*s;function v(_){return c+_*a+n/2}var h=Ba();B(h,21,()=>t.traces,j,(_,y)=>{let g=()=>f(y).card,w=()=>f(y).color;const k=q(()=>t.leftDeck.indexOf(g())),m=q(()=>t.rightDeck.indexOf(g()));var x=dt(),E=qe(x);{var P=T=>{var S=Fa();N((R,z)=>{rt(S,"y1",R),rt(S,"x2",u),rt(S,"y2",z),rt(S,"stroke",w())},[()=>v(f(k)),()=>v(f(m))]),C(T,S)};re(E,T=>{f(k)!==-1&&f(m)!==-1&&T(P)})}C(_,x)}),N(()=>{rt(h,"width",u),rt(h,"height",d)}),C(e,h),Le()}var Wa=A('<div role="button" tabindex="0"> </div>'),ja=A('<div class="column svelte-pj07a9"><div class="pt-label svelte-pj07a9"> </div> <div class="col-label svelte-pj07a9"> </div> <div class="col-rotation svelte-pj07a9"> </div> <!></div>'),Ua=A('<div class="mini-card svelte-pj07a9" role="button" tabindex="0"> </div>'),Va=A("<!> <!>",1),Za=A('<!> <div class="group-bracket svelte-pj07a9"></div> <!> <div class="group-bracket svelte-pj07a9"></div> <!>',1),Ga=A('<div class="multi-deck svelte-pj07a9" data-testid="multi-deck"><div class="column svelte-pj07a9"><div class="pt-label svelte-pj07a9"></div> <div class="col-label svelte-pj07a9">—</div> <div class="col-rotation svelte-pj07a9"></div> <!></div> <!></div>');function Ka(e,t){Re(t,!0);const r=(w,k=Ke,m=Ke)=>{const x=q(()=>i(k().transformation)),E=q(()=>m()+1);var P=ja(),T=p(P),S=p(T),R=b(T,2),z=p(R),L=b(R,2),Y=p(L),$=b(L,2);B($,17,()=>k().deck,j,(ge,oe,be)=>{const X=q(()=>t.showHighlights?f(x)[be]:null),se=q(()=>l(f(oe),f(E)));var fe=Wa();let ve,ee;var de=p(fe);N(()=>{ve=ft(fe,1,"mini-card svelte-pj07a9",null,ve,{highlighted:f(X)!=null}),ee=te(fe,"",ee,{"background-color":f(X)!=null?n[f(X)]:void 0,outline:f(se)?`2px solid ${f(se)}`:void 0,"z-index":f(se)?1:void 0}),I(de,f(oe))}),Q("click",fe,()=>t.ontoggle(f(oe),f(E))),Q("keydown",fe,ce=>{(ce.key==="Enter"||ce.key===" ")&&t.ontoggle(f(oe),f(E))}),C(ge,fe)}),N(()=>{I(S,t.plaintextChars[m()]),I(z,k().ciphertextChar),I(Y,k().transformation.rotation>0?`↺${k().transformation.rotation}`:"")}),C(w,P)},n=["#e06c75","#e5c07b","#61afef","#98c379","#c678dd","#56b6c2","#d19a66","#e96eb0","#be5046","#528bff","#7ec8a4","#f0a0a0","#a0c8f0"],s=Hn();let a=Bn(t,"highlight",3,null);function i(w){const k=new Array(26).fill(null);for(let m=0;m<w.swaps.length;m++){const[x,E]=w.swaps[m];k[x]=m,k[E]=m}return k}function l(w,k){const m=t.cardTraces.get(w);return m&&k>=m.startCol&&k<m.startCol+t.traceWindow?m.color:null}function o(w){const k=[];for(const[m,x]of t.cardTraces)w>=x.startCol&&w<x.startCol+t.traceWindow-1&&k.push({card:m,color:x.color});return k}let c=q(()=>t.cardTraces.size>0);var u=Ga();let d;var v=p(u),h=b(p(v),6);B(h,17,()=>s,j,(w,k)=>{const m=q(()=>l(f(k),0));var x=Ua();let E;var P=p(x);N(()=>{E=te(x,"",E,{outline:f(m)?`2px solid ${f(m)}`:void 0,"z-index":f(m)?1:void 0}),I(P,f(k))}),Q("click",x,()=>t.ontoggle(f(k),0)),Q("keydown",x,T=>{(T.key==="Enter"||T.key===" ")&&t.ontoggle(f(k),0)}),C(w,x)});var _=b(v,2);{var y=w=>{var k=dt(),m=qe(k);B(m,17,()=>t.steps,j,(x,E,P)=>{var T=Va(),S=qe(T);{var R=L=>{{let Y=q(()=>P===0?s:t.steps[P-1].deck),$=q(()=>o(P));Ha(L,{get leftDeck(){return f(Y)},get rightDeck(){return f(E).deck},get traces(){return f($)}})}};re(S,L=>{f(c)&&L(R)})}var z=b(S,2);r(z,()=>f(E),()=>P),C(x,T)}),C(w,k)},g=w=>{const k=q(()=>{const{startA:R,startB:z,length:L}=a();return{startA:R,startB:z,length:L}});var m=Za(),x=qe(m);B(x,17,()=>t.steps.slice(0,f(k).startA),j,(R,z,L)=>{r(R,()=>f(z),()=>L)});var E=b(x,2);te(E,"",{},{outline:"2px solid #c678dd"}),B(E,21,()=>t.steps.slice(f(k).startA,f(k).startA+f(k).length),j,(R,z,L)=>{r(R,()=>f(z),()=>f(k).startA+L)});var P=b(E,2);B(P,17,()=>t.steps.slice(f(k).startA+f(k).length,f(k).startB),j,(R,z,L)=>{r(R,()=>f(z),()=>f(k).startA+f(k).length+L)});var T=b(P,2);te(T,"",{},{outline:"2px solid #56b6c2"}),B(T,21,()=>t.steps.slice(f(k).startB,f(k).startB+f(k).length),j,(R,z,L)=>{r(R,()=>f(z),()=>f(k).startB+L)});var S=b(T,2);B(S,17,()=>t.steps.slice(f(k).startB+f(k).length),j,(R,z,L)=>{r(R,()=>f(z),()=>f(k).startB+f(k).length+L)}),C(w,m)};re(_,w=>{a()?w(g,!1):w(y)})}N(()=>d=te(u,"",d,{gap:f(c)?"0":"0.4rem"})),C(e,u),Le()}St(["click","keydown"]);function Ya(e){const t={};for(const a of e)t[a]=(t[a]??0)+1;const r={};let n=0,s="";for(const a of e)t[a]===1?s+=".":(a in r||(r[a]=String.fromCharCode(97+n),n++),s+=r[a]);return s}function Wr(e){let t=0;for(const r of e)r!=="."&&t++;return t/e.length}function Xa(e){const t=new Map;for(const r of e)t.set(r.pattern,(t.get(r.pattern)??0)+1);return t}function Ja(e,t=new Map){return[...e].sort((r,n)=>{const s=Wr(n.pattern)-Wr(r.pattern);if(s!==0)return s;const a=(t.get(n.pattern)??0)-(t.get(r.pattern)??0);if(a!==0)return a;const i=n.pattern.length-r.pattern.length;return i!==0?i:r.startA-n.startA})}function Qa(e){const t=[],r=e.length,n=Math.floor(r/2);for(let s=3;s<=n;s++){const a=new Map;for(let i=0;i<=r-s;i++){const l=Ya(e.slice(i,i+s));if(!/[a-z]/.test(l)||l[0]==="."||l[l.length-1]===".")continue;const o=a.get(l);o?o.push(i):a.set(l,[i])}for(const[i,l]of a)for(let o=0;o<l.length;o++){const c=l[o];for(let u=o+1;u<l.length;u++){const d=l[u];d>=c+s&&t.push({pattern:i,startA:c,startB:d})}}}return t}var $a=A('<p class="empty svelte-zq6m2r">No isomorphs found.</p>'),ei=A('<button><span class="iso-header svelte-zq6m2r"><span class="iso-pattern svelte-zq6m2r"> </span> <span class="iso-count svelte-zq6m2r"> </span></span> <span class="iso-positions svelte-zq6m2r"> </span> <span class="iso-subs svelte-zq6m2r"><span class="sub-a svelte-zq6m2r"> </span> <span class="iso-sep svelte-zq6m2r">/</span> <span class="sub-b svelte-zq6m2r"> </span></span></button>'),ti=A('<div class="isomorph-list svelte-zq6m2r"><!></div>');function ri(e,t){Re(t,!0);let r=q(()=>Xa(t.isomorphs)),n=q(()=>Ja(t.isomorphs,f(r)));function s(c){return t.selected!=null&&t.selected.startA===c.startA&&t.selected.startB===c.startB&&t.selected.pattern===c.pattern}var a=ti(),i=p(a);{var l=c=>{var u=$a();C(c,u)},o=c=>{var u=dt(),d=qe(u);B(d,17,()=>f(n),j,(v,h)=>{const _=q(()=>s(f(h))),y=q(()=>t.ciphertext.slice(f(h).startA,f(h).startA+f(h).pattern.length)),g=q(()=>t.ciphertext.slice(f(h).startB,f(h).startB+f(h).pattern.length));var w=ei();let k;var m=p(w),x=p(m),E=p(x),P=b(x,2),T=p(P),S=b(m,2),R=p(S),z=b(S,2),L=p(z),Y=p(L),$=b(L,4),ge=p($);N(oe=>{k=ft(w,1,"iso-entry svelte-zq6m2r",null,k,{selected:f(_)}),I(E,f(h).pattern),I(T,`×${oe??""}`),I(R,`@${f(h).startA??""} · @${f(h).startB??""}`),I(Y,f(y)),I(ge,f(g))},[()=>f(r).get(f(h).pattern)??0]),Q("click",w,()=>t.onselect(f(_)?null:f(h))),C(v,w)}),C(c,u)};re(i,c=>{f(n).length===0?c(l):c(o,!1)})}C(e,a),Le()}St(["click"]);var ni=A('<span class="placeholder svelte-yoanq">Filtered plaintext appears here...</span>'),si=A("<br/>"),ai=A('<span class="pt-char svelte-yoanq"> </span>'),ii=A('<div class="plaintext-output-section svelte-yoanq"><div class="pt-chars svelte-yoanq" data-testid="plaintext-output" aria-label="Filtered plaintext" aria-readonly="true"><!></div></div>');function li(e,t){Re(t,!0);const r="#c678dd",n="#56b6c2";let s=q(()=>t.tokens.length>0);var a=ii(),i=p(a),l=p(i);{var o=u=>{var d=ni();C(u,d)},c=u=>{var d=dt(),v=qe(d);B(v,17,()=>t.tokens,j,(h,_)=>{var y=dt(),g=qe(y);{var w=m=>{var x=si();C(m,x)},k=m=>{var x=ai();let E;var P=p(x);N(()=>{E=te(x,"",E,{"background-color":f(_).highlight==="A"?r:f(_).highlight==="B"?n:void 0,color:f(_).highlight?"#1e1e1e":void 0}),I(P,f(_).char)}),C(m,x)};re(g,m=>{f(_).char===`
`?m(w):m(k,!1)})}C(h,y)}),C(u,d)};re(l,u=>{f(s)?u(c,!1):u(o)})}C(e,a),Le()}var oi=A('<span class="rot-label svelte-lkez8o"> </span>'),fi=A('<span class="rot-none svelte-lkez8o">—</span>'),ci=A('<span class="swap-chip svelte-lkez8o"> </span>'),ui=A('<tr class="svelte-lkez8o"><td class="cell-pt svelte-lkez8o"> </td><td class="cell-rot svelte-lkez8o"><!></td><td class="cell-swaps svelte-lkez8o"></td></tr>'),vi=A('<table class="transform-table svelte-lkez8o"><thead><tr><th class="col-pt svelte-lkez8o">PT</th><th class="col-rot svelte-lkez8o">↺</th><th class="col-swaps svelte-lkez8o">Swaps</th></tr></thead><tbody></tbody></table>'),di=A('<th class="hm-pos-header svelte-lkez8o"></th>'),hi=A("<td></td>"),pi=A('<span class="rot-label svelte-lkez8o"> </span>'),_i=A('<span class="rot-none svelte-lkez8o">—</span>'),gi=A('<tr><td class="hm-pt-cell svelte-lkez8o"> </td><!><td class="hm-rot-cell svelte-lkez8o"><!></td></tr>'),mi=A('<div class="heatmap-scroll svelte-lkez8o"><table class="heatmap-table svelte-lkez8o"><thead><tr><th class="hm-corner svelte-lkez8o"></th><th colspan="26" class="hm-axis-label svelte-lkez8o">Deck Position</th><th class="hm-corner svelte-lkez8o"></th></tr><tr><th class="hm-pt-header svelte-lkez8o">PT</th><!><th class="hm-rot-header svelte-lkez8o">↺</th></tr></thead><tbody></tbody></table></div>'),ki=A('<div class="backdrop svelte-lkez8o" role="presentation"><div class="modal svelte-lkez8o" role="dialog" aria-modal="true" aria-label="Cipher Inspector" tabindex="-1"><div class="modal-header svelte-lkez8o"><span class="modal-title svelte-lkez8o">Cipher Inspector</span> <button class="close-btn svelte-lkez8o" aria-label="Close">×</button></div> <div class="tabs svelte-lkez8o"><button>Table</button> <button>Heatmap</button></div> <div class="tab-content"><!></div></div></div>');function bi(e,t){Re(t,!0);const r=["#e06c75","#e5c07b","#61afef","#98c379","#c678dd","#56b6c2","#d19a66","#e96eb0","#be5046","#528bff","#7ec8a4","#f0a0a0","#a0c8f0"],n="ABCDEFGHIJKLMNOPQRSTUVWXYZ".split("");let s=G("table");function a(m,x){for(let E=0;E<m.swaps.length;E++)if(m.swaps[E][0]===x||m.swaps[E][1]===x)return E;return null}var i=ki();Dn("keydown",Xt,m=>{m.key==="Escape"&&t.onclose()});var l=p(i),o=p(l),c=b(p(o),2),u=b(o,2),d=p(u);let v;var h=b(d,2);let _;var y=b(u,2),g=p(y);{var w=m=>{var x=vi(),E=b(p(x));B(E,21,()=>n,j,(P,T)=>{const S=q(()=>t.mapping[f(T)]);var R=ui(),z=p(R),L=p(z),Y=b(z),$=p(Y);{var ge=X=>{var se=oi(),fe=p(se);N(()=>I(fe,`↺${f(S).rotation??""}`)),C(X,se)},oe=X=>{var se=fi();C(X,se)};re($,X=>{f(S).rotation>0?X(ge):X(oe,!1)})}var be=b(Y);B(be,21,()=>f(S).swaps,j,(X,se,fe)=>{var ve=q(()=>Zr(f(se),2));let ee=()=>f(ve)[0],de=()=>f(ve)[1];var ce=ci();let De;var Ie=p(ce);N(()=>{De=te(ce,"",De,{"background-color":r[fe]}),I(Ie,`${ee()??""}↔${de()??""}`)}),C(X,ce)}),N(()=>I(L,f(T))),C(P,R)}),C(m,x)},k=m=>{var x=mi(),E=p(x),P=p(E),T=b(p(P)),S=b(p(T));B(S,17,()=>n,j,(z,L,Y)=>{var $=di();$.textContent=Y,C(z,$)});var R=b(P);B(R,21,()=>n,j,(z,L)=>{const Y=q(()=>t.mapping[f(L)]);var $=gi(),ge=p($),oe=p(ge),be=b(ge);B(be,17,()=>n,j,(ee,de,ce)=>{const De=q(()=>a(f(Y),ce));var Ie=hi();let pt,tt;N(()=>{pt=ft(Ie,1,"hm-cell svelte-lkez8o",null,pt,{"hm-active":f(De)!=null}),tt=te(Ie,"",tt,{"background-color":f(De)!=null?r[f(De)]:void 0})}),C(ee,Ie)});var X=b(be),se=p(X);{var fe=ee=>{var de=pi(),ce=p(de);N(()=>I(ce,`↺${f(Y).rotation??""}`)),C(ee,de)},ve=ee=>{var de=_i();C(ee,de)};re(se,ee=>{f(Y).rotation>0?ee(fe):ee(ve,!1)})}N(()=>I(oe,f(L))),C(z,$)}),C(m,x)};re(g,m=>{f(s)==="table"?m(w):m(k,!1)})}N(()=>{v=ft(d,1,"tab-btn svelte-lkez8o",null,v,{active:f(s)==="table"}),_=ft(h,1,"tab-btn svelte-lkez8o",null,_,{active:f(s)==="heatmap"})}),Q("click",i,function(...m){t.onclose?.apply(this,m)}),Q("click",l,m=>m.stopPropagation()),Q("keydown",l,m=>m.stopPropagation()),Q("click",c,function(...m){t.onclose?.apply(this,m)}),Q("click",d,()=>V(s,"table")),Q("click",h,()=>V(s,"heatmap")),C(e,i),Le()}St(["click","keydown"]);var wi=A('<span class="mock-char svelte-6tkfpf"> </span>'),yi=A('<span class="mock-char svelte-6tkfpf"> </span>'),xi=A('<span class="mock-card svelte-6tkfpf"> </span>'),Ci=A('<span class="mock-legend-chip svelte-6tkfpf"></span>'),Ei=A('<div class="mock-col-card svelte-6tkfpf"> </div>'),Ai=A('<div class="mock-col svelte-6tkfpf"><div class="mock-col-pt svelte-6tkfpf"> </div> <div class="mock-col-ct svelte-6tkfpf"> </div> <div class="mock-col-rot svelte-6tkfpf"> </div> <!> <div class="mock-col-card muted svelte-6tkfpf">…</div></div>'),Ti=A('<span class="mock-char svelte-6tkfpf"> </span>'),Si=A('<span class="mock-char svelte-6tkfpf"> </span>'),Pi=A('<span class="mock-swap-chip svelte-6tkfpf"> </span>'),Mi=A('<tr class="svelte-6tkfpf"><td class="mock-td-pt svelte-6tkfpf"> </td><td class="mock-td-rot svelte-6tkfpf"> </td><td class="mock-td-swaps svelte-6tkfpf"></td></tr>'),zi=A(`<div class="backdrop svelte-6tkfpf" role="presentation"><div class="modal svelte-6tkfpf" role="dialog" aria-modal="true" aria-label="Tutorial" tabindex="-1"><div class="modal-header svelte-6tkfpf"><span class="modal-title svelte-6tkfpf">Tutorial</span> <button class="close-btn svelte-6tkfpf" aria-label="Close">×</button></div> <div class="modal-body svelte-6tkfpf"><section><h2 class="section-heading svelte-6tkfpf">Overview</h2> <div class="prose-block svelte-6tkfpf"><h3 class="sub-heading svelte-6tkfpf">What is DeckLab?</h3> <p class="svelte-6tkfpf">DeckLab is an interactive deck cipher visualization tool. Type any
            text into the input box and the watch it be enciphered in real-time,
            showing every deck state along the way.</p></div> <div class="prose-block svelte-6tkfpf"><h3 class="sub-heading svelte-6tkfpf">What is a Deck Cipher?</h3> <p class="svelte-6tkfpf">A deck cipher is a type of <em>auto-key cipher</em> that uses a
            deck of symbols as its state. Each plaintext (PT) symbol
            maps to a specific <em>transformation</em>. For simplicity, DeckLab
            transformations are currently always represented by a left-rotation
            (cyclic shift) of 0 or more followed by one or more swaps of card
            positions. After each transformation, the top card of the deck becomes
            the ciphertext (CT) symbol. Because the deck changes with every character,
            the same PT letter produces a different CT letter depending on what came before
            it.
            One critical property of the cipher - that no 2 transformations result in the same card
            being brought to the top of the deck - is intentionally maintained to make
            DeckLab ciphers similar to a type of theorized cipher in the Noita Eye Messages community.</p></div> <div class="prose-block svelte-6tkfpf"><h3 class="sub-heading svelte-6tkfpf">Relation to the Noita Eye Messages</h3> <p class="svelte-6tkfpf"> <a href="https://noita.wiki.gg/wiki/Eye_Messages" target="_blank" rel="noopener noreferrer" class="svelte-6tkfpf">Noita Eye Puzzle</a> <a href="https://github.com/Lymm37/eye-messages/wiki/Group-Autokey-%28GAK%29" target="_blank" rel="noopener noreferrer" class="svelte-6tkfpf">Group Autokey (GAK)</a> class of ciphers.
            The full set of GAK ciphers is the symmetric group S26. DeckLab only generates
            a subset of S26 due to the simple (rotation+swaps) implementation.
            Additionally, DeckLab only supports 26 symbols (A–Z); any true Eye Puzzle
            mechanism would need to support 83 symbols.</p></div></section> <section><h2 class="section-heading svelte-6tkfpf">Features</h2> <div class="feature-row svelte-6tkfpf"><div class="feature-desc svelte-6tkfpf"><h3 class="feature-heading svelte-6tkfpf">Cipher Controls</h3> <p class="svelte-6tkfpf"><strong>Randomize Cipher</strong> generates a new random cipher
              using the current settings. Each PT letter gets a unique
              transformation; no two share the same one.</p> <p class="svelte-6tkfpf"><strong>Swaps</strong> (1–13) controls how many card-position
              pairs are exchanged per transformation.</p> <p class="svelte-6tkfpf"><strong>Rotations</strong> (0–25) sets the maximum cyclic left-shift
              applied before swaps. 0 disables rotation entirely (swaps must
              then include position 0).</p> <p class="svelte-6tkfpf"><strong>Constant Rotations</strong> — when checked, every
              transformation uses exactly the rotation max; when unchecked, each
              picks a random amount from 1 to max.</p> <p class="svelte-6tkfpf"><strong>Inspect Cipher</strong> opens the Cipher Inspector modal
              showing the full transformation mapping.</p></div> <div class="feature-visual svelte-6tkfpf"><div class="mock-controls svelte-6tkfpf"><span class="mock-btn svelte-6tkfpf">Randomize Cipher</span> <span class="mock-btn svelte-6tkfpf">Inspect Cipher</span> <span class="mock-btn svelte-6tkfpf">Show Tutorial</span></div> <div class="mock-controls svelte-6tkfpf" style="margin-top: 0.5rem;"><span class="mock-label svelte-6tkfpf">Swaps: <code class="mock-num svelte-6tkfpf">4</code></span> <span class="mock-label svelte-6tkfpf">Rotations: <code class="mock-num svelte-6tkfpf">1</code></span></div> <div class="mock-controls svelte-6tkfpf" style="margin-top: 0.4rem;"><span class="mock-label svelte-6tkfpf"><span class="mock-check svelte-6tkfpf">✓</span> Constant Rotations</span> <span class="mock-label svelte-6tkfpf"><span class="mock-check svelte-6tkfpf">✓</span> Show swap highlights</span> <span class="mock-label svelte-6tkfpf"><span class="mock-uncheck svelte-6tkfpf">☐</span> Show isomorphs</span> <span class="mock-label svelte-6tkfpf"><span class="mock-uncheck svelte-6tkfpf">☐</span> Animate deck</span></div></div></div> <div class="feature-divider svelte-6tkfpf"></div> <div class="feature-row svelte-6tkfpf"><div class="feature-desc svelte-6tkfpf"><h3 class="feature-heading svelte-6tkfpf">How Encipherment Works</h3> <p class="svelte-6tkfpf">Encipherment always starts from the ordered deck A–Z. For each PT
              character:</p> <ol class="feature-list svelte-6tkfpf"><li class="svelte-6tkfpf">Look up that character's transformation (rotation + swaps).</li> <li class="svelte-6tkfpf">Apply the rotation — cyclic left-shift the deck by N positions.</li> <li class="svelte-6tkfpf">Apply the swaps — exchange the specified card-position pairs.</li> <li class="svelte-6tkfpf">Read the top card — that is the CT character.</li></ol> <p class="svelte-6tkfpf">Because the deck carries state between steps, identical PT letters
              produce different CT letters at different positions.</p></div> <div class="feature-visual svelte-6tkfpf"><pre class="diagram svelte-6tkfpf"></pre></div></div> <div class="feature-divider svelte-6tkfpf"></div> <div class="feature-row svelte-6tkfpf"><div class="feature-desc svelte-6tkfpf"><h3 class="feature-heading svelte-6tkfpf">Plaintext &amp; Ciphertext Display</h3> <p class="svelte-6tkfpf">Below the text input are two read-only strips:</p> <ul class="feature-list svelte-6tkfpf"><li class="svelte-6tkfpf"><strong>Plaintext strip</strong> — only the A–Z characters you
                typed, uppercased. Non-letter characters are removed. This is
                the exact sequence fed into the cipher.</li> <li class="svelte-6tkfpf"><strong>Ciphertext strip</strong> — the resulting CT characters,
                aligned position-by-position with the filtered plaintext.</li></ul> <p class="svelte-6tkfpf">When an isomorph is selected, both strips highlight the two
              matching substrings — the first in purple, the second in cyan.</p></div> <div class="feature-visual svelte-6tkfpf"><div class="mock-strip-label svelte-6tkfpf">PT</div> <div class="mock-strip svelte-6tkfpf"></div> <div class="mock-strip-label svelte-6tkfpf" style="margin-top: 0.5rem;">CT</div> <div class="mock-strip svelte-6tkfpf"></div> <p class="visual-caption svelte-6tkfpf">Purple = isomorph substring A &nbsp;·&nbsp; Cyan = isomorph substring B</p></div></div> <div class="feature-divider svelte-6tkfpf"></div> <div class="feature-row svelte-6tkfpf"><div class="feature-desc svelte-6tkfpf"><h3 class="feature-heading svelte-6tkfpf">Current Deck State</h3> <p class="svelte-6tkfpf">The <strong>Deck View</strong> (bottom of the left panel) shows
              the deck's arrangement after the most recent encipherment step.
              Each card is shown in its current position.</p> <p class="svelte-6tkfpf">With <strong>Show swap highlights</strong> enabled, cards that
              were moved by a swap are colored by which swap pair moved them.
              Up to 13 swaps are supported - each with a distinct color.
              The number assigned to a given swap, e.g., swap 1, swap 2, isn't structurally
              important to the encipherment process but helps maintain visual
              consistency.</p> <p class="svelte-6tkfpf">Enable <strong>Animate deck</strong> to see smooth FLIP animations
              as cards move to their new positions with each keystroke.</p></div> <div class="feature-visual svelte-6tkfpf"><div class="mock-deck svelte-6tkfpf"><!> <span class="mock-card-ellipsis svelte-6tkfpf">…</span></div> <p class="visual-caption svelte-6tkfpf">Colors = swap pairs &nbsp;·&nbsp; Plain = unswapped</p> <div class="mock-swap-legend svelte-6tkfpf"></div></div></div> <div class="feature-divider svelte-6tkfpf"></div> <div class="feature-row svelte-6tkfpf"><div class="feature-desc svelte-6tkfpf"><h3 class="feature-heading svelte-6tkfpf">Historical Deck State</h3> <p class="svelte-6tkfpf">The <strong>right panel</strong> shows the full encipherment
              history — one column per PT character, scrollable horizontally.
              Each column displays:</p> <ul class="feature-list svelte-6tkfpf"><li class="svelte-6tkfpf">The PT character (top, muted)</li> <li class="svelte-6tkfpf">The CT character (bold)</li> <li class="svelte-6tkfpf">The rotation applied (<code>↺N</code>, or blank)</li> <li class="svelte-6tkfpf">All 26 deck cards in order after that step</li></ul> <p class="svelte-6tkfpf">The initial <strong>—</strong> column shows the starting A–Z deck
              before any encipherment. When an isomorph is selected, bracket
              outlines highlight the two matching column groups.</p></div> <div class="feature-visual svelte-6tkfpf"><div class="mock-multideck svelte-6tkfpf"></div> <p class="visual-caption svelte-6tkfpf">Each column = one PT→CT step and the resultant deck state</p></div></div> <div class="feature-divider svelte-6tkfpf"></div> <div class="feature-row svelte-6tkfpf"><div class="feature-desc svelte-6tkfpf"><h3 class="feature-heading svelte-6tkfpf">Isomorphs</h3> <p class="svelte-6tkfpf">An <strong>isomorph</strong> is two sequences of text which are
              substitutions of each other. A slightly-incorrect but more useful
              definition in the context of this tool is:
              a pattern describing which positions in a string share the same character.
              For example, <code>FHWOFNFO</code> <code>a..ba.ab</code> — positions 0, 4, and 6 all contain the same
              character (labeled <code>a</code>), positions 3 and 7 contain the same
              character (labeled <code>b</code>) which is different from the first
              repeating character <code>a</code> Positions that don't repeate are labeled with <code>.</code>.</p> <p class="svelte-6tkfpf">Two ciphertext substrings are <em>isomorphic</em> if they share
              the same pattern. This can hint that their underlying plaintexts
              are identical — useful for cryptanalysis.</p> <p class="svelte-6tkfpf">Enable <strong>Show isomorphs</strong> to reveal the isomorph
              list below the deck. Isomorphs are sorted by how interesting they
              are (denser repetition = higher). Click any entry to highlight
              both matching substrings across the PT strip, CT strip, and
              historical deck columns simultaneously.</p> <p class="svelte-6tkfpf"> <a href="https://tomster12.github.io/isomorph-viewer/" target="_blank" rel="noopener noreferrer">Tomster12's Isomorph Viewer</a> <a href="https://github.com/Lymm37/eye-messages/wiki/Isomorphs-%28Gap-Patterns%29" target="_blank" rel="noopener noreferrer">Lymm's Isomorph (Gap Patterns)</a>.</p></div> <div class="feature-visual svelte-6tkfpf"><div class="mock-isomorph-entry svelte-6tkfpf"><span class="mock-iso-pattern svelte-6tkfpf">a..ba.ab</span> <span class="mock-iso-badge svelte-6tkfpf">×1</span></div> <div class="mock-strip svelte-6tkfpf" style="margin-top: 0.75rem;"></div> <div class="mock-strip svelte-6tkfpf" style="margin-top: 0.3rem;"></div> <p class="visual-caption svelte-6tkfpf">Same isomorph pattern — purple (A) and cyan (B)</p></div></div> <div class="feature-divider svelte-6tkfpf"></div> <div class="feature-row svelte-6tkfpf"><div class="feature-desc svelte-6tkfpf"><h3 class="feature-heading svelte-6tkfpf">Cipher Inspector</h3> <p class="svelte-6tkfpf">Click <strong>Inspect Cipher</strong> to open the Cipher Inspector
              — a modal showing the complete cipher mapping.</p> <p class="svelte-6tkfpf"><strong>Table tab:</strong> One row per PT letter (A–Z) showing
              the rotation amount and each swap pair as a color-coded chip (e.g. <code>0↔3</code>). Useful for reading the exact transformation for
              any letter.</p> <p class="svelte-6tkfpf"><strong>Heatmap tab:</strong> A 26×26 grid where each cell is
              colored if that deck position is involved in a swap for that PT
              letter. The right column shows the rotation. Useful for spotting
              structural patterns across the entire mapping at a glance.</p></div> <div class="feature-visual svelte-6tkfpf"><table class="mock-table svelte-6tkfpf"><thead><tr><th class="svelte-6tkfpf">PT</th><th class="svelte-6tkfpf">↺</th><th class="svelte-6tkfpf">Swaps</th></tr></thead><tbody></tbody></table> <p class="visual-caption svelte-6tkfpf">Table tab — color-coded swap chips per PT letter</p></div></div></section></div></div></div>`);function Oi(e,t){Re(t,!0);const r=["#e06c75","#e5c07b","#61afef","#98c379","#c678dd","#56b6c2","#d19a66"],n=["A","B","C","D","E","F","G","H","I","J"],s=["#e06c75","#e5c07b","#61afef","#98c379",null,null,null,null,null,null];var a=zi();Dn("keydown",Xt,U=>{U.key==="Escape"&&t.onclose()});var i=p(a),l=p(i),o=b(p(l),2),c=b(l,2),u=p(c),d=b(p(u),6),v=b(p(d),2),h=p(v);h.nodeValue=`DeckLab ciphers are based on community research
            into the  `;var _=b(h,2);_.nodeValue=` — an unsolved cryptogram in the video game
            Noita. A deck cipher is one theorized mechanism for the encryption.
            DeckLab ciphers fall into the  `;var y=b(u,2),g=b(p(y),6),w=b(p(g),2),k=p(w);k.textContent=`Initial deck (A–Z):
  [A][B][C][D][E]…[Z]

PT = "H"  →  transformation for H:
  rotation ↺1
  [B][C][D][E]…[Z][A]

  swaps: 0↔3, 1↔5, …
  [E][…][…][B]…

  top card (now [E]) = CT character`;var m=b(g,4),x=b(p(m),2),E=b(p(x),2);B(E,20,()=>"HELLOWORLD".split(""),j,(U,Z,O)=>{var W=wi();te(W,"",{},{"background-color":O>=2&&O<=4?"#c678dd33":O>=7&&O<=9?"#56b6c233":void 0,color:O>=2&&O<=4?"#c678dd":O>=7&&O<=9?"#56b6c2":void 0});var ue=p(W);N(()=>I(ue,Z)),C(U,W)});var P=b(E,4);B(P,20,()=>"MQXFXJRKXK".split(""),j,(U,Z,O)=>{var W=yi();te(W,"",{},{"background-color":O>=2&&O<=4?"#c678dd33":O>=7&&O<=9?"#56b6c233":void 0,color:O>=2&&O<=4?"#c678dd":O>=7&&O<=9?"#56b6c2":void 0});var ue=p(W);N(()=>I(ue,Z)),C(U,W)});var T=b(m,4),S=b(p(T),2),R=p(S),z=p(R);B(z,17,()=>n,j,(U,Z,O)=>{var W=xi();let ue;var Ne=p(W);N(()=>{ue=te(W,"",ue,{"background-color":s[O]??"#3a3f4a",color:s[O]?"#1e1e1e":"#abb2bf"}),I(Ne,f(Z))}),C(U,W)});var L=b(R,4);B(L,21,()=>r,j,(U,Z,O)=>{var W=Ci();let ue;W.textContent=`Swap ${O+1}`,N(()=>ue=te(W,"",ue,{"background-color":f(Z)})),C(U,W)});var Y=b(T,4),$=b(p(Y),2),ge=p($);B(ge,20,()=>[{pt:"—",ct:"—",rot:"",cards:["A","B","C"]},{pt:"H",ct:"M",rot:"↺1",cards:["D","B","C"]},{pt:"E",ct:"Q",rot:"↺1",cards:["F","B","C"]},{pt:"L",ct:"X",rot:"↺1",cards:["G","F","C"]}],j,(U,Z)=>{var O=Ai(),W=p(O),ue=p(W),Ne=b(W,2),Pt=p(Ne),_t=b(Ne,2),Mt=p(_t),zt=b(_t,2);B(zt,17,()=>Z.cards,j,(gt,mt)=>{var kt=Ei(),Ot=p(kt);N(()=>I(Ot,f(mt))),C(gt,kt)}),N(()=>{I(ue,Z.pt),I(Pt,Z.ct),I(Mt,Z.rot)}),C(U,O)});var oe=b(Y,4),be=p(oe),X=b(p(be),2),se=b(p(X),4);se.nodeValue=" has the isomorph pattern  ";var fe=b(X,6),ve=p(fe);ve.nodeValue=`For more information on isomorphs in relation to the Noita eye messages
              see   `;var ee=b(ve,2);ee.nodeValue=`.
              And for a more precise definition, see   `;var de=b(be,2),ce=b(p(de),2);B(ce,20,()=>"FHWOFNFO".split(""),j,(U,Z)=>{var O=Ti();te(O,"",{},{"background-color":"#c678dd33",color:"#c678dd"});var W=p(O);N(()=>I(W,Z)),C(U,O)});var De=b(ce,2);B(De,20,()=>"UVONUYUN".split(""),j,(U,Z)=>{var O=Si();te(O,"",{},{"background-color":"#56b6c233",color:"#56b6c2"});var W=p(O);N(()=>I(W,Z)),C(U,O)});var Ie=b(oe,4),pt=b(p(Ie),2),tt=p(pt),rr=b(p(tt));B(rr,20,()=>[{pt:"A",rot:"↺1",swaps:[[0,3],[1,5],[2,7],[4,6]]},{pt:"B",rot:"↺1",swaps:[[0,2],[3,8],[1,6],[4,9]]},{pt:"C",rot:"↺1",swaps:[[0,4],[2,9],[3,5],[1,7]]}],j,(U,Z)=>{var O=Mi(),W=p(O),ue=p(W),Ne=b(W),Pt=p(Ne),_t=b(Ne);B(_t,21,()=>Z.swaps,j,(Mt,zt,gt)=>{var mt=q(()=>Zr(f(zt),2));let kt=()=>f(mt)[0],Ot=()=>f(mt)[1];var M=Pi();let J;var we=p(M);N(()=>{J=te(M,"",J,{"background-color":r[gt]}),I(we,`${kt()??""}↔${Ot()??""}`)}),C(Mt,M)}),N(()=>{I(ue,Z.pt),I(Pt,Z.rot)}),C(U,O)}),Q("click",a,function(...U){t.onclose?.apply(this,U)}),Q("click",i,U=>U.stopPropagation()),Q("keydown",i,U=>U.stopPropagation()),Q("click",o,function(...U){t.onclose?.apply(this,U)}),C(e,a),Le()}St(["click","keydown"]);function Ri(e){let t=e|0;return()=>{t=t+1831565813|0;let r=Math.imul(t^t>>>15,1|t);return r=r+Math.imul(r^r>>>7,61|r)^r,((r^r>>>14)>>>0)/4294967296}}const Qt=26;function Li(e){return(e-1)%25+1}function Di(e,t,r){const n=[],s=new Set;for(;n.length<r;){const a=1+Math.floor(e()*(t-1));s.has(a)||(s.add(a),n.push(a))}return n}function Ii(e,t,r){const n=[],s=new Set;for(;n.length<r;){const a=Math.floor(e()*t);s.has(a)||(s.add(a),n.push(a))}return n}function Ni(){const e={};for(let t=0;t<Qt;t++){const r=String.fromCharCode(65+t),n=[];for(let l=0;l<7;l++)n.push(Li(t+1+l));const s=t%7,a=n[s],i=n.filter((l,o)=>o!==s);e[r]={swaps:[[0,a],[i[0],i[1]],[i[2],i[3]],[i[4],i[5]]],rotation:1}}return e}function qi(e,t,r){let n;r===0?n=[0,...Di(e,Qt,t*2-1)]:n=Ii(e,Qt,t*2);const s=[];for(let a=0;a<n.length;a+=2)s.push([n[a],n[a+1]]);return{swaps:s,rotation:r}}function Fi(e){const t=e.swaps.map(([r,n])=>r<n?[r,n]:[n,r]).sort((r,n)=>r[0]-n[0]||r[1]-n[1]);return`r${e.rotation};${t.map(([r,n])=>`${r},${n}`).join(";")}`}function Bi(e,t){if(t.swapCount===1&&t.rotationMax===0)throw new Error("Invalid cipher config: swapCount=1 with rotationMax=0 can only produce 25 unique transformations, but 26 are required. Increase swapCount to at least 2, or set rotationMax > 0.");const r=Ri(e),n={},s=new Set;for(let a=0;a<Qt;a++){const i=String.fromCharCode(65+a);for(;;){let l=0;t.rotationMax>0&&(l=t.rotationConstant?t.rotationMax:1+Math.floor(r()*t.rotationMax));const o=qi(r,t.swapCount,l),c=Fi(o);if(!s.has(c)){s.add(c),n[i]=o;break}}}return n}var Hi=A('<button class="svelte-1n46o8q">Clear traces</button>'),Wi=A('<div class="app-layout svelte-1n46o8q"><main class="left-panel svelte-1n46o8q"><h1 class="svelte-1n46o8q">DeckLab</h1> <div class="controls svelte-1n46o8q"><button class="svelte-1n46o8q">Randomize Cipher</button> <button class="svelte-1n46o8q">Inspect Cipher</button> <button class="svelte-1n46o8q">Show Tutorial</button> <label class="control-label svelte-1n46o8q">Swaps: <input type="number" class="num-input svelte-1n46o8q" max="13"/></label> <label class="control-label svelte-1n46o8q">Rotations: <input type="number" class="num-input svelte-1n46o8q" min="0" max="25"/></label> <label><input type="checkbox"/> Constant Rotations</label> <label class="highlight-toggle svelte-1n46o8q"><input type="checkbox"/> Show swap highlights</label> <label class="highlight-toggle svelte-1n46o8q"><input type="checkbox"/> Show isomorphs</label> <label class="highlight-toggle svelte-1n46o8q"><input type="checkbox"/> Animate deck</label> <!></div> <!> <!> <!> <!> <!></main> <div class="right-panel svelte-1n46o8q"><!></div></div> <!> <!>',1);function ji(e,t){Re(t,!0);const r=new Set([" ",`
`,"."]),n=10,s=["#ffffff","#ff6b6b","#ffd93d","#6bcb77","#4d96ff","#ff922b","#cc5de8","#20c997"];let a=G(at(Ni())),i=G(at(new Map)),l=G(""),o=G(!0),c=G(!1),u=G(!1),d=G(!1),v=G(!1),h=G(null),_=G(4),y=G(1),g=G(!0),w=q(()=>[...f(l)].filter(M=>{const J=M.toUpperCase();return J>="A"&&J<="Z"}).map(M=>M.toUpperCase()).join("")),k=q(()=>qa(f(l),f(a))),m=q(()=>Qa(f(k).ciphertext)),x=q(()=>f(h)?{startA:f(h).startA,startB:f(h).startB,length:f(h).pattern.length}:null),E=q(()=>{const M=f(k).ciphertext,J=f(x),we=[],Rt=[];let Ve=0;for(const Ze of f(l))if(r.has(Ze))we.push({char:Ze,highlight:null}),Rt.push({char:Ze,highlight:null});else{const nr=Ze.toUpperCase();if(nr>="A"&&nr<="Z"){let Ut=null;J&&(Ve>=J.startA&&Ve<J.startA+J.length?Ut="A":Ve>=J.startB&&Ve<J.startB+J.length&&(Ut="B")),we.push({char:nr,highlight:Ut}),Rt.push({char:M[Ve],highlight:Ut}),Ve++}}return{ptTokens:we,ctTokens:Rt}});zr(()=>{f(k).ciphertext,V(h,null)}),zr(()=>{f(y)===0&&f(_)<2&&V(_,2)});function P(){const M=Math.floor(Math.random()*4294967296);V(a,Bi(M,{swapCount:f(_),rotationMax:f(y),rotationConstant:f(g)}),!0),V(i,new Map,!0)}function T(M,J){const we=new Map(f(i));if(we.has(M))we.delete(M);else{const Rt=new Set([...we.values()].map(Ze=>Ze.color)),Ve=s.find(Ze=>!Rt.has(Ze))??s[we.size%s.length];we.set(M,{startCol:J,color:Ve})}V(i,we,!0)}function S(){V(i,new Map,!0)}var R=Wi(),z=qe(R),L=p(z),Y=b(p(L),2),$=p(Y),ge=b($,2),oe=b(ge,2),be=b(oe,2),X=b(p(be)),se=b(be,2),fe=b(p(se)),ve=b(se,2);let ee;var de=p(ve),ce=b(ve,2),De=p(ce),Ie=b(ce,2),pt=p(Ie),tt=b(Ie,2),rr=p(tt),U=b(tt,2);{var Z=M=>{var J=Hi();Q("click",J,S),C(M,J)};re(U,M=>{f(i).size>0&&M(Z)})}var O=b(Y,2);ma(O,{oninput:M=>V(l,M,!0)});var W=b(O,2);li(W,{get tokens(){return f(E).ptTokens}});var ue=b(W,2);xa(ue,{get tokens(){return f(E).ctTokens}});var Ne=b(ue,2);Da(Ne,{get deck(){return f(k).deck},get lastTransformation(){return f(k).lastTransformation},get showHighlights(){return f(o)},get showAnimations(){return f(v)}});var Pt=b(Ne,2);{var _t=M=>{ri(M,{get isomorphs(){return f(m)},get ciphertext(){return f(k).ciphertext},get selected(){return f(h)},onselect:J=>V(h,J,!0)})};re(Pt,M=>{f(c)&&M(_t)})}var Mt=b(L,2),zt=p(Mt);Ka(zt,{get steps(){return f(k).steps},get showHighlights(){return f(o)},get highlight(){return f(x)},get plaintextChars(){return f(w)},get cardTraces(){return f(i)},traceWindow:n,ontoggle:T});var gt=b(z,2);{var mt=M=>{bi(M,{get mapping(){return f(a)},onclose:()=>V(u,!1)})};re(gt,M=>{f(u)&&M(mt)})}var kt=b(gt,2);{var Ot=M=>{Oi(M,{onclose:()=>V(d,!1)})};re(kt,M=>{f(d)&&M(Ot)})}N(()=>{rt(X,"min",f(y)===0?2:1),ee=ft(ve,1,"control-label svelte-1n46o8q",null,ee,{disabled:f(y)===0}),de.disabled=f(y)===0}),Q("click",$,P),Q("click",ge,()=>V(u,!0)),Q("click",oe,()=>V(d,!0)),Hr(X,()=>f(_),M=>V(_,M)),Hr(fe,()=>f(y),M=>V(y,M)),Gt(de,()=>f(g),M=>V(g,M)),Gt(De,()=>f(o),M=>V(o,M)),Gt(pt,()=>f(c),M=>V(c,M)),Gt(rr,()=>f(v),M=>V(v,M)),C(e,R),Le()}St(["click"]);Qs(ji,{target:document.getElementById("app")});
