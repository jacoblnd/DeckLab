(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();const gt=!1;var tn=Array.isArray,tr=Array.prototype.indexOf,Re=Array.prototype.includes,at=Array.from,nr=Object.defineProperty,Ve=Object.getOwnPropertyDescriptor,rr=Object.getOwnPropertyDescriptors,ir=Object.prototype,sr=Array.prototype,nn=Object.getPrototypeOf,zt=Object.isExtensible;const ar=()=>{};function lr(e){for(var t=0;t<e.length;t++)e[t]()}function rn(){var e,t,n=new Promise((r,i)=>{e=r,t=i});return{promise:n,resolve:e,reject:t}}const F=2,it=4,lt=8,sn=1<<24,ce=16,ae=32,Oe=64,an=128,J=512,N=1024,z=2048,se=4096,Y=8192,he=16384,Ze=32768,De=65536,Bt=1<<17,ln=1<<18,je=1<<19,or=1<<20,ue=1<<25,Te=65536,mt=1<<21,kt=1<<22,de=1<<23,vt=Symbol("$state"),we=new class extends Error{name="StaleReactionError";message="The reaction that called `getAbortSignal()` was re-run or destroyed"};function fr(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function ur(e,t,n){throw new Error("https://svelte.dev/e/each_key_duplicate")}function cr(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function vr(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function hr(e){throw new Error("https://svelte.dev/e/effect_orphan")}function dr(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function pr(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function _r(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function gr(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}function mr(){throw new Error("https://svelte.dev/e/svelte_boundary_reset_onerror")}const wr=1,br=2,on=4,yr=8,xr=16,Er=2,D=Symbol(),fn="http://www.w3.org/1999/xhtml";function Sr(){console.warn("https://svelte.dev/e/svelte_boundary_reset_noop")}function un(e){return e===this.v}function kr(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function cn(e){return!kr(e,this.v)}let Ar=!1,$=null;function Le(e){$=e}function qe(e,t=!1,n){$={p:$,i:!1,c:null,e:null,s:e,x:null,l:null}}function Ne(e){var t=$,n=t.e;if(n!==null){t.e=null;for(var r of n)On(r)}return t.i=!0,$=t.p,{}}function vn(){return!0}let be=[];function hn(){var e=be;be=[],lr(e)}function xe(e){if(be.length===0&&!Ke){var t=be;queueMicrotask(()=>{t===be&&hn()})}be.push(e)}function Cr(){for(;be.length>0;)hn()}function dn(e){var t=S;if(t===null)return b.f|=de,e;if((t.f&Ze)===0&&(t.f&it)===0)throw e;Fe(e,t)}function Fe(e,t){for(;t!==null;){if((t.f&an)!==0){if((t.f&Ze)===0)throw e;try{t.b.error(e);return}catch(n){e=n}}t=t.parent}throw e}const Tr=-7169;function M(e,t){e.f=e.f&Tr|t}function At(e){(e.f&J)!==0||e.deps===null?M(e,N):M(e,se)}function pn(e){if(e!==null)for(const t of e)(t.f&F)===0||(t.f&Te)===0||(t.f^=Te,pn(t.deps))}function _n(e,t,n){(e.f&z)!==0?t.add(e):(e.f&se)!==0&&n.add(e),pn(e.deps),M(e,N)}const tt=new Set;let x=null,wt=null,te=null,j=[],ot=null,bt=!1,Ke=!1;class pe{committed=!1;current=new Map;previous=new Map;#t=new Set;#l=new Set;#e=0;#s=0;#a=null;#r=new Set;#n=new Set;#i=new Map;is_fork=!1;#o=!1;is_deferred(){return this.is_fork||this.#s>0}skip_effect(t){this.#i.has(t)||this.#i.set(t,{d:[],m:[]})}unskip_effect(t){var n=this.#i.get(t);if(n){this.#i.delete(t);for(var r of n.d)M(r,z),ne(r);for(r of n.m)M(r,se),ne(r)}}process(t){j=[],this.apply();var n=[],r=[];for(const i of t)this.#f(i,n,r);if(this.is_deferred()){this.#u(r),this.#u(n);for(const[i,s]of this.#i)bn(i,s)}else{for(const i of this.#t)i();this.#t.clear(),this.#e===0&&this.#c(),wt=this,x=null,jt(r),jt(n),wt=null,this.#a?.resolve()}te=null}#f(t,n,r){t.f^=N;for(var i=t.first,s=null;i!==null;){var a=i.f,l=(a&(ae|Oe))!==0,o=l&&(a&N)!==0,f=o||(a&Y)!==0||this.#i.has(i);if(!f&&i.fn!==null){l?i.f^=N:s!==null&&(a&(it|lt|sn))!==0?s.b.defer_effect(i):(a&it)!==0?n.push(i):Xe(i)&&((a&ce)!==0&&this.#n.add(i),Be(i));var u=i.first;if(u!==null){i=u;continue}}var v=i.parent;for(i=i.next;i===null&&v!==null;)v===s&&(s=null),i=v.next,v=v.parent}}#u(t){for(var n=0;n<t.length;n+=1)_n(t[n],this.#r,this.#n)}capture(t,n){n!==D&&!this.previous.has(t)&&this.previous.set(t,n),(t.f&de)===0&&(this.current.set(t,t.v),te?.set(t,t.v))}activate(){x=this,this.apply()}deactivate(){x===this&&(x=null,te=null)}flush(){if(this.activate(),j.length>0){if(gn(),x!==null&&x!==this)return}else this.#e===0&&this.process([]);this.deactivate()}discard(){for(const t of this.#l)t(this);this.#l.clear()}#c(){if(tt.size>1){this.previous.clear();var t=te,n=!0;for(const i of tt){if(i===this){n=!1;continue}const s=[];for(const[l,o]of this.current){if(i.current.has(l))if(n&&o!==i.current.get(l))i.current.set(l,o);else continue;s.push(l)}if(s.length===0)continue;const a=[...i.current.keys()].filter(l=>!this.current.has(l));if(a.length>0){var r=j;j=[];const l=new Set,o=new Map;for(const f of s)mn(f,a,l,o);if(j.length>0){x=i,i.apply();for(const f of j)i.#f(f,[],[]);i.deactivate()}j=r}}x=null,te=t}this.committed=!0,tt.delete(this)}increment(t){this.#e+=1,t&&(this.#s+=1)}decrement(t){this.#e-=1,t&&(this.#s-=1),!this.#o&&(this.#o=!0,xe(()=>{this.#o=!1,this.is_deferred()?j.length>0&&this.flush():this.revive()}))}revive(){for(const t of this.#r)this.#n.delete(t),M(t,z),ne(t);for(const t of this.#n)M(t,se),ne(t);this.flush()}oncommit(t){this.#t.add(t)}ondiscard(t){this.#l.add(t)}settled(){return(this.#a??=rn()).promise}static ensure(){if(x===null){const t=x=new pe;tt.add(x),Ke||xe(()=>{x===t&&t.flush()})}return x}apply(){}}function Mr(e){var t=Ke;Ke=!0;try{for(var n;;){if(Cr(),j.length===0&&(x?.flush(),j.length===0))return ot=null,n;gn()}}finally{Ke=t}}function gn(){bt=!0;var e=null;try{for(var t=0;j.length>0;){var n=pe.ensure();if(t++>1e3){var r,i;Pr()}n.process(j),_e.clear()}}finally{j=[],bt=!1,ot=null}}function Pr(){try{dr()}catch(e){Fe(e,ot)}}let fe=null;function jt(e){var t=e.length;if(t!==0){for(var n=0;n<t;){var r=e[n++];if((r.f&(he|Y))===0&&Xe(r)&&(fe=new Set,Be(r),r.deps===null&&r.first===null&&r.nodes===null&&r.teardown===null&&r.ac===null&&Nn(r),fe?.size>0)){_e.clear();for(const i of fe){if((i.f&(he|Y))!==0)continue;const s=[i];let a=i.parent;for(;a!==null;)fe.has(a)&&(fe.delete(a),s.push(a)),a=a.parent;for(let l=s.length-1;l>=0;l--){const o=s[l];(o.f&(he|Y))===0&&Be(o)}}fe.clear()}}fe=null}}function mn(e,t,n,r){if(!n.has(e)&&(n.add(e),e.reactions!==null))for(const i of e.reactions){const s=i.f;(s&F)!==0?mn(i,t,n,r):(s&(kt|ce))!==0&&(s&z)===0&&wn(i,t,r)&&(M(i,z),ne(i))}}function wn(e,t,n){const r=n.get(e);if(r!==void 0)return r;if(e.deps!==null)for(const i of e.deps){if(Re.call(t,i))return!0;if((i.f&F)!==0&&wn(i,t,n))return n.set(i,!0),!0}return n.set(e,!1),!1}function ne(e){for(var t=ot=e;t.parent!==null;){t=t.parent;var n=t.f;if(bt&&t===S&&(n&ce)!==0&&(n&ln)===0)return;if((n&(Oe|ae))!==0){if((n&N)===0)return;t.f^=N}}j.push(t)}function bn(e,t){if(!((e.f&ae)!==0&&(e.f&N)!==0)){(e.f&z)!==0?t.d.push(e):(e.f&se)!==0&&t.m.push(e),M(e,N);for(var n=e.first;n!==null;)bn(n,t),n=n.next}}function Or(e){let t=0,n=Me(0),r;return()=>{Ot()&&(d(n),qt(()=>(t===0&&(r=Dt(()=>e(()=>We(n)))),t+=1,()=>{xe(()=>{t-=1,t===0&&(r?.(),r=void 0,We(n))})})))}}var qr=De|je|an;function Nr(e,t,n){new Ir(e,t,n)}class Ir{parent;is_pending=!1;#t;#l=null;#e;#s;#a;#r=null;#n=null;#i=null;#o=null;#f=null;#u=0;#c=0;#d=!1;#h=!1;#p=new Set;#_=new Set;#v=null;#y=Or(()=>(this.#v=Me(this.#u),()=>{this.#v=null}));constructor(t,n,r){this.#t=t,this.#e=n,this.#s=r,this.parent=S.b,this.is_pending=!!this.#e.pending,this.#a=Nt(()=>{S.b=this;{var i=this.#w();try{this.#r=X(()=>r(i))}catch(s){this.error(s)}this.#c>0?this.#m():this.is_pending=!1}return()=>{this.#f?.remove()}},qr)}#x(){try{this.#r=X(()=>this.#s(this.#t))}catch(t){this.error(t)}}#E(){const t=this.#e.pending;t&&(this.#n=X(()=>t(this.#t)),xe(()=>{var n=this.#w();this.#r=this.#g(()=>(pe.ensure(),X(()=>this.#s(n)))),this.#c>0?this.#m():(Ee(this.#n,()=>{this.#n=null}),this.is_pending=!1)}))}#w(){var t=this.#t;return this.is_pending&&(this.#f=ge(),this.#t.before(this.#f),t=this.#f),t}defer_effect(t){_n(t,this.#p,this.#_)}is_rendered(){return!this.is_pending&&(!this.parent||this.parent.is_rendered())}has_pending_snippet(){return!!this.#e.pending}#g(t){var n=S,r=b,i=$;oe(this.#a),ee(this.#a),Le(this.#a.ctx);try{return t()}catch(s){return dn(s),null}finally{oe(n),ee(r),Le(i)}}#m(){const t=this.#e.pending;this.#r!==null&&(this.#o=document.createDocumentFragment(),this.#o.append(this.#f),Dn(this.#r,this.#o)),this.#n===null&&(this.#n=X(()=>t(this.#t)))}#b(t){if(!this.has_pending_snippet()){this.parent&&this.parent.#b(t);return}if(this.#c+=t,this.#c===0){this.is_pending=!1;for(const n of this.#p)M(n,z),ne(n);for(const n of this.#_)M(n,se),ne(n);this.#p.clear(),this.#_.clear(),this.#n&&Ee(this.#n,()=>{this.#n=null}),this.#o&&(this.#t.before(this.#o),this.#o=null)}}update_pending_count(t){this.#b(t),this.#u+=t,!(!this.#v||this.#d)&&(this.#d=!0,xe(()=>{this.#d=!1,this.#v&&ze(this.#v,this.#u)}))}get_effect_pending(){return this.#y(),d(this.#v)}error(t){var n=this.#e.onerror;let r=this.#e.failed;if(this.#h||!n&&!r)throw t;this.#r&&(V(this.#r),this.#r=null),this.#n&&(V(this.#n),this.#n=null),this.#i&&(V(this.#i),this.#i=null);var i=!1,s=!1;const a=()=>{if(i){Sr();return}i=!0,s&&mr(),pe.ensure(),this.#u=0,this.#i!==null&&Ee(this.#i,()=>{this.#i=null}),this.is_pending=this.has_pending_snippet(),this.#r=this.#g(()=>(this.#h=!1,X(()=>this.#s(this.#t)))),this.#c>0?this.#m():this.is_pending=!1};xe(()=>{try{s=!0,n?.(t,a),s=!1}catch(l){Fe(l,this.#a&&this.#a.parent)}r&&(this.#i=this.#g(()=>{pe.ensure(),this.#h=!0;try{return X(()=>{r(this.#t,()=>t,()=>a)})}catch(l){return Fe(l,this.#a.parent),null}finally{this.#h=!1}}))})}}function Rr(e,t,n,r){const i=Ct;var s=e.filter(c=>!c.settled);if(n.length===0&&s.length===0){r(t.map(i));return}var a=x,l=S,o=Dr(),f=s.length===1?s[0].promise:s.length>1?Promise.all(s.map(c=>c.promise)):null;function u(c){o();try{r(c)}catch(h){(l.f&he)===0&&Fe(h,l)}a?.deactivate(),yt()}if(n.length===0){f.then(()=>u(t.map(i)));return}function v(){o(),Promise.all(n.map(c=>Lr(c))).then(c=>u([...t.map(i),...c])).catch(c=>Fe(c,l))}f?f.then(v):v()}function Dr(){var e=S,t=b,n=$,r=x;return function(s=!0){oe(e),ee(t),Le(n),s&&r?.activate()}}function yt(){oe(null),ee(null),Le(null)}function Ct(e){var t=F|z,n=b!==null&&(b.f&F)!==0?b:null;return S!==null&&(S.f|=je),{ctx:$,deps:null,effects:null,equals:un,f:t,fn:e,reactions:null,rv:0,v:D,wv:0,parent:n??S,ac:null}}function Lr(e,t,n){let r=S;r===null&&fr();var i=r.b,s=void 0,a=Me(D),l=!b,o=new Map;return Qr(()=>{var f=rn();s=f.promise;try{Promise.resolve(e()).then(f.resolve,f.reject).then(()=>{u===x&&u.committed&&u.deactivate(),yt()})}catch(h){f.reject(h),yt()}var u=x;if(l){var v=i.is_rendered();i.update_pending_count(1),u.increment(v),o.get(u)?.reject(we),o.delete(u),o.set(u,f)}const c=(h,_=void 0)=>{if(u.activate(),_)_!==we&&(a.f|=de,ze(a,_));else{(a.f&de)!==0&&(a.f^=de),ze(a,h);for(const[m,p]of o){if(o.delete(m),m===u)break;p.reject(we)}}l&&(i.update_pending_count(-1),u.decrement(v))};f.promise.then(c,h=>c(null,h||"unknown"))}),Xr(()=>{for(const f of o.values())f.reject(we)}),new Promise(f=>{function u(v){function c(){v===s?f(a):u(s)}v.then(c,c)}u(s)})}function U(e){const t=Ct(e);return Ln(t),t}function Fr(e){const t=Ct(e);return t.equals=cn,t}function zr(e){var t=e.effects;if(t!==null){e.effects=null;for(var n=0;n<t.length;n+=1)V(t[n])}}function Br(e){for(var t=e.parent;t!==null;){if((t.f&F)===0)return(t.f&he)===0?t:null;t=t.parent}return null}function Tt(e){var t,n=S;oe(Br(e));try{e.f&=~Te,zr(e),t=jn(e)}finally{oe(n)}return t}function yn(e){var t=Tt(e);if(!e.equals(t)&&(e.wv=zn(),(!x?.is_fork||e.deps===null)&&(e.v=t,e.deps===null))){M(e,N);return}Pe||(te!==null?(Ot()||x?.is_fork)&&te.set(e,t):At(e))}function jr(e){if(e.effects!==null)for(const t of e.effects)(t.teardown||t.ac)&&(t.teardown?.(),t.ac?.abort(we),t.teardown=ar,t.ac=null,Ye(t,0),It(t))}function xn(e){if(e.effects!==null)for(const t of e.effects)t.teardown&&Be(t)}let xt=new Set;const _e=new Map;let En=!1;function Me(e,t){var n={f:0,v:e,reactions:null,equals:un,rv:0,wv:0};return n}function B(e,t){const n=Me(e);return Ln(n),n}function Hr(e,t=!1,n=!0){const r=Me(e);return t||(r.equals=cn),r}function L(e,t,n=!1){b!==null&&(!ie||(b.f&Bt)!==0)&&vn()&&(b.f&(F|ce|kt|Bt))!==0&&(Q===null||!Re.call(Q,e))&&gr();let r=n?Ie(t):t;return ze(e,r)}function ze(e,t){if(!e.equals(t)){var n=e.v;Pe?_e.set(e,t):_e.set(e,n),e.v=t;var r=pe.ensure();if(r.capture(e,n),(e.f&F)!==0){const i=e;(e.f&z)!==0&&Tt(i),At(i)}e.wv=zn(),Sn(e,z),S!==null&&(S.f&N)!==0&&(S.f&(ae|Oe))===0&&(G===null?ti([e]):G.push(e)),!r.is_fork&&xt.size>0&&!En&&Ur()}return t}function Ur(){En=!1;for(const e of xt)(e.f&N)!==0&&M(e,se),Xe(e)&&Be(e);xt.clear()}function We(e){L(e,e.v+1)}function Sn(e,t){var n=e.reactions;if(n!==null)for(var r=n.length,i=0;i<r;i++){var s=n[i],a=s.f,l=(a&z)===0;if(l&&M(s,t),(a&F)!==0){var o=s;te?.delete(o),(a&Te)===0&&(a&J&&(s.f|=Te),Sn(o,se))}else l&&((a&ce)!==0&&fe!==null&&fe.add(s),ne(s))}}function Ie(e){if(typeof e!="object"||e===null||vt in e)return e;const t=nn(e);if(t!==ir&&t!==sr)return e;var n=new Map,r=tn(e),i=B(0),s=Se,a=l=>{if(Se===s)return l();var o=b,f=Se;ee(null),Wt(s);var u=l();return ee(o),Wt(f),u};return r&&n.set("length",B(e.length)),new Proxy(e,{defineProperty(l,o,f){(!("value"in f)||f.configurable===!1||f.enumerable===!1||f.writable===!1)&&pr();var u=n.get(o);return u===void 0?a(()=>{var v=B(f.value);return n.set(o,v),v}):L(u,f.value,!0),!0},deleteProperty(l,o){var f=n.get(o);if(f===void 0){if(o in l){const u=a(()=>B(D));n.set(o,u),We(i)}}else L(f,D),We(i);return!0},get(l,o,f){if(o===vt)return e;var u=n.get(o),v=o in l;if(u===void 0&&(!v||Ve(l,o)?.writable)&&(u=a(()=>{var h=Ie(v?l[o]:D),_=B(h);return _}),n.set(o,u)),u!==void 0){var c=d(u);return c===D?void 0:c}return Reflect.get(l,o,f)},getOwnPropertyDescriptor(l,o){var f=Reflect.getOwnPropertyDescriptor(l,o);if(f&&"value"in f){var u=n.get(o);u&&(f.value=d(u))}else if(f===void 0){var v=n.get(o),c=v?.v;if(v!==void 0&&c!==D)return{enumerable:!0,configurable:!0,value:c,writable:!0}}return f},has(l,o){if(o===vt)return!0;var f=n.get(o),u=f!==void 0&&f.v!==D||Reflect.has(l,o);if(f!==void 0||S!==null&&(!u||Ve(l,o)?.writable)){f===void 0&&(f=a(()=>{var c=u?Ie(l[o]):D,h=B(c);return h}),n.set(o,f));var v=d(f);if(v===D)return!1}return u},set(l,o,f,u){var v=n.get(o),c=o in l;if(r&&o==="length")for(var h=f;h<v.v;h+=1){var _=n.get(h+"");_!==void 0?L(_,D):h in l&&(_=a(()=>B(D)),n.set(h+"",_))}if(v===void 0)(!c||Ve(l,o)?.writable)&&(v=a(()=>B(void 0)),L(v,Ie(f)),n.set(o,v));else{c=v.v!==D;var m=a(()=>Ie(f));L(v,m)}var p=Reflect.getOwnPropertyDescriptor(l,o);if(p?.set&&p.set.call(u,f),!c){if(r&&typeof o=="string"){var g=n.get("length"),y=Number(o);Number.isInteger(y)&&y>=g.v&&L(g,y+1)}We(i)}return!0},ownKeys(l){d(i);var o=Reflect.ownKeys(l).filter(v=>{var c=n.get(v);return c===void 0||c.v!==D});for(var[f,u]of n)u.v!==D&&!(f in l)&&o.push(f);return o},setPrototypeOf(){_r()}})}var Ht,kn,An,Cn;function Vr(){if(Ht===void 0){Ht=window,kn=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype,n=Text.prototype;An=Ve(t,"firstChild").get,Cn=Ve(t,"nextSibling").get,zt(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),zt(n)&&(n.__t=void 0)}}function ge(e=""){return document.createTextNode(e)}function Mt(e){return An.call(e)}function Ge(e){return Cn.call(e)}function w(e,t){return Mt(e)}function Tn(e,t=!1){{var n=Mt(e);return n instanceof Comment&&n.data===""?Ge(n):n}}function E(e,t=1,n=!1){let r=e;for(;t--;)r=Ge(r);return r}function Kr(e){e.textContent=""}function Mn(){return!1}function Wr(e,t,n){return document.createElementNS(fn,e,void 0)}let Ut=!1;function Yr(){Ut||(Ut=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{if(!e.defaultPrevented)for(const t of e.target.elements)t.__on_r?.()})},{capture:!0}))}function Pt(e){var t=b,n=S;ee(null),oe(null);try{return e()}finally{ee(t),oe(n)}}function Pn(e,t,n,r=n){e.addEventListener(t,()=>Pt(n));const i=e.__on_r;i?e.__on_r=()=>{i(),r(!0)}:e.__on_r=()=>r(!0),Yr()}function Zr(e){S===null&&(b===null&&hr(),vr()),Pe&&cr()}function Gr(e,t){var n=t.last;n===null?t.last=t.first=e:(n.next=e,e.prev=n,t.last=e)}function me(e,t,n){var r=S;r!==null&&(r.f&Y)!==0&&(e|=Y);var i={ctx:$,deps:null,nodes:null,f:e|z|J,first:null,fn:t,last:null,next:null,parent:r,b:r&&r.b,prev:null,teardown:null,wv:0,ac:null};if(n)try{Be(i)}catch(l){throw V(i),l}else t!==null&&ne(i);var s=i;if(n&&s.deps===null&&s.teardown===null&&s.nodes===null&&s.first===s.last&&(s.f&je)===0&&(s=s.first,(e&ce)!==0&&(e&De)!==0&&s!==null&&(s.f|=De)),s!==null&&(s.parent=r,r!==null&&Gr(s,r),b!==null&&(b.f&F)!==0&&(e&Oe)===0)){var a=b;(a.effects??=[]).push(s)}return i}function Ot(){return b!==null&&!ie}function Xr(e){const t=me(lt,null,!1);return M(t,N),t.teardown=e,t}function Vt(e){Zr();var t=S.f,n=!b&&(t&ae)!==0&&(t&Ze)===0;if(n){var r=$;(r.e??=[]).push(e)}else return On(e)}function On(e){return me(it|or,e,!1)}function Jr(e){pe.ensure();const t=me(Oe|je,e,!0);return(n={})=>new Promise(r=>{n.outro?Ee(t,()=>{V(t),r(void 0)}):(V(t),r(void 0))})}function Qr(e){return me(kt|je,e,!0)}function qt(e,t=0){return me(lt|t,e,!0)}function re(e,t=[],n=[],r=[]){Rr(r,t,n,i=>{me(lt,()=>e(...i.map(d)),!0)})}function Nt(e,t=0){var n=me(ce|t,e,!0);return n}function X(e){return me(ae|je,e,!0)}function qn(e){var t=e.teardown;if(t!==null){const n=Pe,r=b;Kt(!0),ee(null);try{t.call(null)}finally{Kt(n),ee(r)}}}function It(e,t=!1){var n=e.first;for(e.first=e.last=null;n!==null;){const i=n.ac;i!==null&&Pt(()=>{i.abort(we)});var r=n.next;(n.f&Oe)!==0?n.parent=null:V(n,t),n=r}}function $r(e){for(var t=e.first;t!==null;){var n=t.next;(t.f&ae)===0&&V(t),t=n}}function V(e,t=!0){var n=!1;(t||(e.f&ln)!==0)&&e.nodes!==null&&e.nodes.end!==null&&(ei(e.nodes.start,e.nodes.end),n=!0),It(e,t&&!n),Ye(e,0),M(e,he);var r=e.nodes&&e.nodes.t;if(r!==null)for(const s of r)s.stop();qn(e);var i=e.parent;i!==null&&i.first!==null&&Nn(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes=e.ac=null}function ei(e,t){for(;e!==null;){var n=e===t?null:Ge(e);e.remove(),e=n}}function Nn(e){var t=e.parent,n=e.prev,r=e.next;n!==null&&(n.next=r),r!==null&&(r.prev=n),t!==null&&(t.first===e&&(t.first=r),t.last===e&&(t.last=n))}function Ee(e,t,n=!0){var r=[];In(e,r,!0);var i=()=>{n&&V(e),t&&t()},s=r.length;if(s>0){var a=()=>--s||i();for(var l of r)l.out(a)}else i()}function In(e,t,n){if((e.f&Y)===0){e.f^=Y;var r=e.nodes&&e.nodes.t;if(r!==null)for(const l of r)(l.is_global||n)&&t.push(l);for(var i=e.first;i!==null;){var s=i.next,a=(i.f&De)!==0||(i.f&ae)!==0&&(e.f&ce)!==0;In(i,t,a?n:!1),i=s}}}function Rt(e){Rn(e,!0)}function Rn(e,t){if((e.f&Y)!==0){e.f^=Y,(e.f&N)===0&&(M(e,z),ne(e));for(var n=e.first;n!==null;){var r=n.next,i=(n.f&De)!==0||(n.f&ae)!==0;Rn(n,i?t:!1),n=r}var s=e.nodes&&e.nodes.t;if(s!==null)for(const a of s)(a.is_global||t)&&a.in()}}function Dn(e,t){if(e.nodes)for(var n=e.nodes.start,r=e.nodes.end;n!==null;){var i=n===r?null:Ge(n);t.append(n),n=i}}let rt=!1,Pe=!1;function Kt(e){Pe=e}let b=null,ie=!1;function ee(e){b=e}let S=null;function oe(e){S=e}let Q=null;function Ln(e){b!==null&&(Q===null?Q=[e]:Q.push(e))}let H=null,K=0,G=null;function ti(e){G=e}let Fn=1,ye=0,Se=ye;function Wt(e){Se=e}function zn(){return++Fn}function Xe(e){var t=e.f;if((t&z)!==0)return!0;if(t&F&&(e.f&=~Te),(t&se)!==0){for(var n=e.deps,r=n.length,i=0;i<r;i++){var s=n[i];if(Xe(s)&&yn(s),s.wv>e.wv)return!0}(t&J)!==0&&te===null&&M(e,N)}return!1}function Bn(e,t,n=!0){var r=e.reactions;if(r!==null&&!(Q!==null&&Re.call(Q,e)))for(var i=0;i<r.length;i++){var s=r[i];(s.f&F)!==0?Bn(s,t,!1):t===s&&(n?M(s,z):(s.f&N)!==0&&M(s,se),ne(s))}}function jn(e){var t=H,n=K,r=G,i=b,s=Q,a=$,l=ie,o=Se,f=e.f;H=null,K=0,G=null,b=(f&(ae|Oe))===0?e:null,Q=null,Le(e.ctx),ie=!1,Se=++ye,e.ac!==null&&(Pt(()=>{e.ac.abort(we)}),e.ac=null);try{e.f|=mt;var u=e.fn,v=u();e.f|=Ze;var c=e.deps,h=x?.is_fork;if(H!==null){var _;if(h||Ye(e,K),c!==null&&K>0)for(c.length=K+H.length,_=0;_<H.length;_++)c[K+_]=H[_];else e.deps=c=H;if(Ot()&&(e.f&J)!==0)for(_=K;_<c.length;_++)(c[_].reactions??=[]).push(e)}else!h&&c!==null&&K<c.length&&(Ye(e,K),c.length=K);if(vn()&&G!==null&&!ie&&c!==null&&(e.f&(F|se|z))===0)for(_=0;_<G.length;_++)Bn(G[_],e);if(i!==null&&i!==e){if(ye++,i.deps!==null)for(let m=0;m<n;m+=1)i.deps[m].rv=ye;if(t!==null)for(const m of t)m.rv=ye;G!==null&&(r===null?r=G:r.push(...G))}return(e.f&de)!==0&&(e.f^=de),v}catch(m){return dn(m)}finally{e.f^=mt,H=t,K=n,G=r,b=i,Q=s,Le(a),ie=l,Se=o}}function ni(e,t){let n=t.reactions;if(n!==null){var r=tr.call(n,e);if(r!==-1){var i=n.length-1;i===0?n=t.reactions=null:(n[r]=n[i],n.pop())}}if(n===null&&(t.f&F)!==0&&(H===null||!Re.call(H,t))){var s=t;(s.f&J)!==0&&(s.f^=J,s.f&=~Te),At(s),jr(s),Ye(s,0)}}function Ye(e,t){var n=e.deps;if(n!==null)for(var r=t;r<n.length;r++)ni(e,n[r])}function Be(e){var t=e.f;if((t&he)===0){M(e,N);var n=S,r=rt;S=e,rt=!0;try{(t&(ce|sn))!==0?$r(e):It(e),qn(e);var i=jn(e);e.teardown=typeof i=="function"?i:null,e.wv=Fn;var s;gt&&Ar&&(e.f&z)!==0&&e.deps}finally{rt=r,S=n}}}async function ri(){await Promise.resolve(),Mr()}function d(e){var t=e.f,n=(t&F)!==0;if(b!==null&&!ie){var r=S!==null&&(S.f&he)!==0;if(!r&&(Q===null||!Re.call(Q,e))){var i=b.deps;if((b.f&mt)!==0)e.rv<ye&&(e.rv=ye,H===null&&i!==null&&i[K]===e?K++:H===null?H=[e]:H.push(e));else{(b.deps??=[]).push(e);var s=e.reactions;s===null?e.reactions=[b]:Re.call(s,b)||s.push(b)}}}if(Pe&&_e.has(e))return _e.get(e);if(n){var a=e;if(Pe){var l=a.v;return((a.f&N)===0&&a.reactions!==null||Un(a))&&(l=Tt(a)),_e.set(a,l),l}var o=(a.f&J)===0&&!ie&&b!==null&&(rt||(b.f&J)!==0),f=(a.f&Ze)===0;Xe(a)&&(o&&(a.f|=J),yn(a)),o&&!f&&(xn(a),Hn(a))}if(te?.has(e))return te.get(e);if((e.f&de)!==0)throw e.v;return e.v}function Hn(e){if(e.f|=J,e.deps!==null)for(const t of e.deps)(t.reactions??=[]).push(e),(t.f&F)!==0&&(t.f&J)===0&&(xn(t),Hn(t))}function Un(e){if(e.v===D)return!0;if(e.deps===null)return!1;for(const t of e.deps)if(_e.has(t)||(t.f&F)!==0&&Un(t))return!0;return!1}function Dt(e){var t=ie;try{return ie=!0,e()}finally{ie=t}}const ii=["touchstart","touchmove"];function si(e){return ii.includes(e)}const Vn=Symbol("events"),Kn=new Set,Et=new Set;function Lt(e,t,n){(t[Vn]??={})[e]=n}function Ft(e){for(var t=0;t<e.length;t++)Kn.add(e[t]);for(var n of Et)n(e)}let Yt=null;function Zt(e){var t=this,n=t.ownerDocument,r=e.type,i=e.composedPath?.()||[],s=i[0]||e.target;Yt=e;var a=0,l=Yt===e&&e.__root;if(l){var o=i.indexOf(l);if(o!==-1&&(t===document||t===window)){e.__root=t;return}var f=i.indexOf(t);if(f===-1)return;o<=f&&(a=o)}if(s=i[a]||e.target,s!==t){nr(e,"currentTarget",{configurable:!0,get(){return s||n}});var u=b,v=S;ee(null),oe(null);try{for(var c,h=[];s!==null;){var _=s.assignedSlot||s.parentNode||s.host||null;try{var m=s[Vn]?.[r];m!=null&&(!s.disabled||e.target===s)&&m.call(s,e)}catch(p){c?h.push(p):c=p}if(e.cancelBubble||_===t||_===null)break;s=_}if(c){for(let p of h)queueMicrotask(()=>{throw p});throw c}}finally{e.__root=t,delete e.currentTarget,ee(u),oe(v)}}}const ai=globalThis?.window?.trustedTypes?.createPolicy("svelte-trusted-html",{createHTML:e=>e});function li(e){return ai?.createHTML(e)??e}function oi(e,t=!1){var n=Wr("template");return e=e.replaceAll("<!>","<!---->"),n.innerHTML=t?li(e):e,n.content}function Wn(e,t){var n=S;n.nodes===null&&(n.nodes={start:e,end:t,a:null,t:null})}function O(e,t){var n=(t&Er)!==0,r,i=!e.startsWith("<!>");return()=>{r===void 0&&(r=oi(i?e:"<!>"+e,!0),r=Mt(r));var s=n||kn?document.importNode(r,!0):r.cloneNode(!0);return Wn(s,s),s}}function Yn(){var e=document.createDocumentFragment(),t=document.createComment(""),n=ge();return e.append(t,n),Wn(t,n),e}function T(e,t){e!==null&&e.before(t)}function W(e,t){var n=t==null?"":typeof t=="object"?t+"":t;n!==(e.__t??=e.nodeValue)&&(e.__t=n,e.nodeValue=n+"")}function fi(e,t){return ui(e,t)}const nt=new Map;function ui(e,{target:t,anchor:n,props:r={},events:i,context:s,intro:a=!0}){Vr();var l=new Set,o=v=>{for(var c=0;c<v.length;c++){var h=v[c];if(!l.has(h)){l.add(h);var _=si(h);for(const g of[t,document]){var m=nt.get(g);m===void 0&&(m=new Map,nt.set(g,m));var p=m.get(h);p===void 0?(g.addEventListener(h,Zt,{passive:_}),m.set(h,1)):m.set(h,p+1)}}}};o(at(Kn)),Et.add(o);var f=void 0,u=Jr(()=>{var v=n??t.appendChild(ge());return Nr(v,{pending:()=>{}},c=>{qe({});var h=$;s&&(h.c=s),i&&(r.$$events=i),f=e(c,r)||{},Ne()}),()=>{for(var c of l)for(const m of[t,document]){var h=nt.get(m),_=h.get(c);--_==0?(m.removeEventListener(c,Zt),h.delete(c),h.size===0&&nt.delete(m)):h.set(c,_)}Et.delete(o),v!==n&&v.parentNode?.removeChild(v)}});return ci.set(f,u),f}let ci=new WeakMap;class vi{anchor;#t=new Map;#l=new Map;#e=new Map;#s=new Set;#a=!0;constructor(t,n=!0){this.anchor=t,this.#a=n}#r=()=>{var t=x;if(this.#t.has(t)){var n=this.#t.get(t),r=this.#l.get(n);if(r)Rt(r),this.#s.delete(n);else{var i=this.#e.get(n);i&&(this.#l.set(n,i.effect),this.#e.delete(n),i.fragment.lastChild.remove(),this.anchor.before(i.fragment),r=i.effect)}for(const[s,a]of this.#t){if(this.#t.delete(s),s===t)break;const l=this.#e.get(a);l&&(V(l.effect),this.#e.delete(a))}for(const[s,a]of this.#l){if(s===n||this.#s.has(s))continue;const l=()=>{if(Array.from(this.#t.values()).includes(s)){var f=document.createDocumentFragment();Dn(a,f),f.append(ge()),this.#e.set(s,{effect:a,fragment:f})}else V(a);this.#s.delete(s),this.#l.delete(s)};this.#a||!r?(this.#s.add(s),Ee(a,l,!1)):l()}}};#n=t=>{this.#t.delete(t);const n=Array.from(this.#t.values());for(const[r,i]of this.#e)n.includes(r)||(V(i.effect),this.#e.delete(r))};ensure(t,n){var r=x,i=Mn();if(n&&!this.#l.has(t)&&!this.#e.has(t))if(i){var s=document.createDocumentFragment(),a=ge();s.append(a),this.#e.set(t,{effect:X(()=>n(a)),fragment:s})}else this.#l.set(t,X(()=>n(this.anchor)));if(this.#t.set(r,t),i){for(const[l,o]of this.#l)l===t?r.unskip_effect(o):r.skip_effect(o);for(const[l,o]of this.#e)l===t?r.unskip_effect(o.effect):r.skip_effect(o.effect);r.oncommit(this.#r),r.ondiscard(this.#n)}else this.#r()}}function ke(e,t,n=!1){var r=new vi(e),i=n?De:0;function s(a,l){r.ensure(a,l)}Nt(()=>{var a=!1;t((l,o=0)=>{a=!0,s(o,l)}),a||s(!1,null)},i)}function Ae(e,t){return t}function hi(e,t,n){for(var r=[],i=t.length,s,a=t.length,l=0;l<i;l++){let v=t[l];Ee(v,()=>{if(s){if(s.pending.delete(v),s.done.add(v),s.pending.size===0){var c=e.outrogroups;St(at(s.done)),c.delete(s),c.size===0&&(e.outrogroups=null)}}else a-=1},!1)}if(a===0){var o=r.length===0&&n!==null;if(o){var f=n,u=f.parentNode;Kr(u),u.append(f),e.items.clear()}St(t,!o)}else s={pending:new Set(t),done:new Set},(e.outrogroups??=new Set).add(s)}function St(e,t=!0){for(var n=0;n<e.length;n++)V(e[n],t)}var Gt;function Ce(e,t,n,r,i,s=null){var a=e,l=new Map,o=(t&on)!==0;if(o){var f=e;a=f.appendChild(ge())}var u=null,v=Fr(()=>{var g=n();return tn(g)?g:g==null?[]:at(g)}),c,h=!0;function _(){p.fallback=u,di(p,c,a,t,r),u!==null&&(c.length===0?(u.f&ue)===0?Rt(u):(u.f^=ue,Ue(u,null,a)):Ee(u,()=>{u=null}))}var m=Nt(()=>{c=d(v);for(var g=c.length,y=new Set,k=x,A=Mn(),I=0;I<g;I+=1){var q=c[I],P=r(q,I),C=h?null:l.get(P);C?(C.v&&ze(C.v,q),C.i&&ze(C.i,I),A&&k.unskip_effect(C.e)):(C=pi(l,h?a:Gt??=ge(),q,P,I,i,t,n),h||(C.e.f|=ue),l.set(P,C)),y.add(P)}if(g===0&&s&&!u&&(h?u=X(()=>s(a)):(u=X(()=>s(Gt??=ge())),u.f|=ue)),g>y.size&&ur(),!h)if(A){for(const[le,Z]of l)y.has(le)||k.skip_effect(Z.e);k.oncommit(_),k.ondiscard(()=>{})}else _();d(v)}),p={effect:m,items:l,outrogroups:null,fallback:u};h=!1}function He(e){for(;e!==null&&(e.f&ae)===0;)e=e.next;return e}function di(e,t,n,r,i){var s=(r&yr)!==0,a=t.length,l=e.items,o=He(e.effect.first),f,u=null,v,c=[],h=[],_,m,p,g;if(s)for(g=0;g<a;g+=1)_=t[g],m=i(_,g),p=l.get(m).e,(p.f&ue)===0&&(p.nodes?.a?.measure(),(v??=new Set).add(p));for(g=0;g<a;g+=1){if(_=t[g],m=i(_,g),p=l.get(m).e,e.outrogroups!==null)for(const Z of e.outrogroups)Z.pending.delete(p),Z.done.delete(p);if((p.f&ue)!==0)if(p.f^=ue,p===o)Ue(p,null,n);else{var y=u?u.next:o;p===e.effect.last&&(e.effect.last=p.prev),p.prev&&(p.prev.next=p.next),p.next&&(p.next.prev=p.prev),ve(e,u,p),ve(e,p,y),Ue(p,y,n),u=p,c=[],h=[],o=He(u.next);continue}if((p.f&Y)!==0&&(Rt(p),s&&(p.nodes?.a?.unfix(),(v??=new Set).delete(p))),p!==o){if(f!==void 0&&f.has(p)){if(c.length<h.length){var k=h[0],A;u=k.prev;var I=c[0],q=c[c.length-1];for(A=0;A<c.length;A+=1)Ue(c[A],k,n);for(A=0;A<h.length;A+=1)f.delete(h[A]);ve(e,I.prev,q.next),ve(e,u,I),ve(e,q,k),o=k,u=q,g-=1,c=[],h=[]}else f.delete(p),Ue(p,o,n),ve(e,p.prev,p.next),ve(e,p,u===null?e.effect.first:u.next),ve(e,u,p),u=p;continue}for(c=[],h=[];o!==null&&o!==p;)(f??=new Set).add(o),h.push(o),o=He(o.next);if(o===null)continue}(p.f&ue)===0&&c.push(p),u=p,o=He(p.next)}if(e.outrogroups!==null){for(const Z of e.outrogroups)Z.pending.size===0&&(St(at(Z.done)),e.outrogroups?.delete(Z));e.outrogroups.size===0&&(e.outrogroups=null)}if(o!==null||f!==void 0){var P=[];if(f!==void 0)for(p of f)(p.f&Y)===0&&P.push(p);for(;o!==null;)(o.f&Y)===0&&o!==e.fallback&&P.push(o),o=He(o.next);var C=P.length;if(C>0){var le=(r&on)!==0&&a===0?n:null;if(s){for(g=0;g<C;g+=1)P[g].nodes?.a?.measure();for(g=0;g<C;g+=1)P[g].nodes?.a?.fix()}hi(e,P,le)}}s&&xe(()=>{if(v!==void 0)for(p of v)p.nodes?.a?.apply()})}function pi(e,t,n,r,i,s,a,l){var o=(a&wr)!==0?(a&xr)===0?Hr(n,!1,!1):Me(n):null,f=(a&br)!==0?Me(i):null;return{v:o,i:f,e:X(()=>(s(t,o??n,f??i,l),()=>{e.delete(r)}))}}function Ue(e,t,n){if(e.nodes)for(var r=e.nodes.start,i=e.nodes.end,s=t&&(t.f&ue)===0?t.nodes.start:n;r!==null;){var a=Ge(r);if(s.before(r),r===i)return;r=a}}function ve(e,t,n){t===null?e.effect.first=n:t.next=n,n===null?e.effect.last=t:n.prev=t}const Xt=[...` 	
\r\f \v\uFEFF`];function _i(e,t,n){var r=e==null?"":""+e;if(n){for(var i in n)if(n[i])r=r?r+" "+i:i;else if(r.length)for(var s=i.length,a=0;(a=r.indexOf(i,a))>=0;){var l=a+s;(a===0||Xt.includes(r[a-1]))&&(l===r.length||Xt.includes(r[l]))?r=(a===0?"":r.substring(0,a))+r.substring(l+1):a=l}}return r===""?null:r}function Jt(e,t=!1){var n=t?" !important;":";",r="";for(var i in e){var s=e[i];s!=null&&s!==""&&(r+=" "+i+": "+s+n)}return r}function gi(e,t){if(t){var n="",r,i;return Array.isArray(t)?(r=t[0],i=t[1]):r=t,r&&(n+=Jt(r)),i&&(n+=Jt(i,!0)),n=n.trim(),n===""?null:n}return String(e)}function ft(e,t,n,r,i,s){var a=e.__className;if(a!==n||a===void 0){var l=_i(n,r,s);l==null?e.removeAttribute("class"):e.className=l,e.__className=n}else if(s&&i!==s)for(var o in s){var f=!!s[o];(i==null||f!==!!i[o])&&e.classList.toggle(o,f)}return s}function ht(e,t={},n,r){for(var i in n){var s=n[i];t[i]!==s&&(n[i]==null?e.style.removeProperty(i):e.style.setProperty(i,s,r))}}function ut(e,t,n,r){var i=e.__style;if(i!==t){var s=gi(t,r);s==null?e.removeAttribute("style"):e.style.cssText=s,e.__style=t}else r&&(Array.isArray(r)?(ht(e,n?.[0],r[0]),ht(e,n?.[1],r[1],"important")):ht(e,n,r));return r}const mi=Symbol("is custom element"),wi=Symbol("is html");function bi(e,t,n,r){var i=yi(e);i[t]!==(i[t]=n)&&(n==null?e.removeAttribute(t):typeof n!="string"&&xi(e).includes(t)?e[t]=n:e.setAttribute(t,n))}function yi(e){return e.__attributes??={[mi]:e.nodeName.includes("-"),[wi]:e.namespaceURI===fn}}var Qt=new Map;function xi(e){var t=e.getAttribute("is")||e.nodeName,n=Qt.get(t);if(n)return n;Qt.set(t,n=[]);for(var r,i=e,s=Element.prototype;s!==i;){r=rr(i);for(var a in r)r[a].set&&n.push(a);i=nn(i)}return n}function $t(e,t,n=t){var r=new WeakSet;Pn(e,"input",async i=>{var s=i?e.defaultValue:e.value;if(s=pt(e)?_t(s):s,n(s),x!==null&&r.add(x),await ri(),s!==(s=t())){var a=e.selectionStart,l=e.selectionEnd,o=e.value.length;if(e.value=s??"",l!==null){var f=e.value.length;a===l&&l===o&&f>o?(e.selectionStart=f,e.selectionEnd=f):(e.selectionStart=a,e.selectionEnd=Math.min(l,f))}}}),Dt(t)==null&&e.value&&(n(pt(e)?_t(e.value):e.value),x!==null&&r.add(x)),qt(()=>{var i=t();if(e===document.activeElement){var s=wt??x;if(r.has(s))return}pt(e)&&i===_t(e.value)||e.type==="date"&&!i&&!e.value||i!==e.value&&(e.value=i??"")})}function dt(e,t,n=t){Pn(e,"change",r=>{var i=r?e.defaultChecked:e.checked;n(i)}),Dt(t)==null&&n(e.checked),qt(()=>{var r=t();e.checked=!!r})}function pt(e){var t=e.type;return t==="number"||t==="range"}function _t(e){return e===""?null:+e}function Zn(e,t,n,r){var i=r,s=!0,a=()=>(s&&(s=!1,i=r),i),l;l=e[t],l===void 0&&r!==void 0&&(l=a());var o;return o=()=>{var f=e[t];return f===void 0?a():(s=!0,f)},o}const Ei="5";typeof window<"u"&&((window.__svelte??={}).v??=new Set).add(Ei);var Si=O('<div class="plaintext-section svelte-q4552b"><label for="plaintext" class="svelte-q4552b">Plaintext</label> <textarea id="plaintext" data-testid="plaintext-input" placeholder="Type letters A–Z..." class="svelte-q4552b"></textarea></div>');function ki(e,t){qe(t,!0);var n=Si(),r=E(w(n),2);Lt("input",r,i=>t.oninput(i.currentTarget.value)),T(e,n),Ne()}Ft(["input"]);var Ai=O('<span class="placeholder svelte-uveiyz">Ciphertext appears here...</span>'),Ci=O('<span class="ct-char svelte-uveiyz"> </span>'),Ti=O('<div class="ciphertext-section svelte-uveiyz"><label for="ciphertext" class="svelte-uveiyz">Ciphertext</label> <div id="ciphertext" class="ciphertext-chars svelte-uveiyz" data-testid="ciphertext-output" aria-label="Ciphertext" aria-readonly="true"><!></div></div>');function Mi(e,t){qe(t,!0);const n="#c678dd",r="#56b6c2";let i=Zn(t,"highlight",3,null);var s=Ti(),a=E(w(s),2),l=w(a);{var o=u=>{var v=Ai();T(u,v)},f=u=>{var v=Yn(),c=Tn(v);Ce(c,17,()=>t.ciphertext.split(""),Ae,(h,_,m)=>{const p=U(()=>i()!=null&&m>=i().startA&&m<i().startA+i().length),g=U(()=>i()!=null&&m>=i().startB&&m<i().startB+i().length);var y=Ci();let k;var A=w(y);re(()=>{k=ut(y,"",k,{"background-color":d(p)?n:d(g)?r:void 0,color:d(p)||d(g)?"#1e1e1e":void 0}),W(A,d(_))}),T(h,y)}),T(u,v)};ke(l,u=>{t.ciphertext.length===0?u(o):u(f,!1)})}T(e,s),Ne()}var Pi=O("<div> </div>");function Oi(e,t){const n=["#e06c75","#e5c07b","#61afef","#98c379"];let r=Zn(t,"swapPair",3,null);var i=Pi();let s,a;var l=w(i);re(()=>{s=ft(i,1,"card svelte-1s7zazm",null,s,{highlighted:r()!=null}),a=ut(i,"",a,{"background-color":r()!=null?n[r()]:void 0}),W(l,t.letter)}),T(e,i)}var qi=O('<span class="rotation-label svelte-1c30440"> </span>'),Ni=O('<span class="legend-swatch svelte-1c30440"></span>'),Ii=O('<span class="legend-rotation svelte-1c30440"> </span>'),Ri=O('<div class="legend svelte-1c30440"><span class="legend-label svelte-1c30440">Swaps:</span> <!> <!></div>'),Di=O('<div class="deck-section svelte-1c30440"><h2 class="deck-label svelte-1c30440">Current Deck State <!></h2> <!> <div class="deck svelte-1c30440" data-testid="deck"></div></div>');function Li(e,t){qe(t,!0);const n=["#e06c75","#e5c07b","#61afef","#98c379","#c678dd","#56b6c2","#d19a66","#e96eb0","#be5046","#528bff","#7ec8a4","#f0a0a0","#a0c8f0"];let r=U(()=>{const v=new Array(t.deck.length).fill(null);if(t.lastTransformation)for(let c=0;c<t.lastTransformation.swaps.length;c++){const[h,_]=t.lastTransformation.swaps[c];v[h]=c,v[_]=c}return v});var i=Di(),s=w(i),a=E(w(s));{var l=v=>{var c=qi(),h=w(c);re(()=>W(h,`↺${t.lastTransformation.rotation??""}`)),T(v,c)};ke(a,v=>{t.lastTransformation&&t.lastTransformation.rotation>0&&v(l)})}var o=E(s,2);{var f=v=>{var c=Ri(),h=E(w(c),2);Ce(h,17,()=>t.lastTransformation.swaps,Ae,(p,g,y)=>{var k=Ni();let A;k.textContent=y+1,re(()=>A=ut(k,"",A,{"background-color":n[y]})),T(p,k)});var _=E(h,2);{var m=p=>{var g=Ii(),y=w(g);re(()=>W(y,`↺${t.lastTransformation.rotation??""}`)),T(p,g)};ke(_,p=>{t.lastTransformation.rotation>0&&p(m)})}T(v,c)};ke(o,v=>{t.showHighlights&&t.lastTransformation&&v(f)})}var u=E(o,2);Ce(u,21,()=>t.deck,Ae,(v,c,h)=>{{let _=U(()=>t.showHighlights?d(r)[h]:null);Oi(v,{get letter(){return d(c)},get swapPair(){return d(_)}})}}),T(e,i),Ne()}function Gn(){return Array.from({length:26},(e,t)=>String.fromCharCode(65+t))}function Fi(e,t){let n=[...e];if(t.rotation>0){const r=t.rotation;n=[...n.slice(r),...n.slice(0,r)]}for(const[r,i]of t.swaps)[n[r],n[i]]=[n[i],n[r]];return n}function zi(e,t,n){const r=t.toUpperCase(),i=n[r],s=Fi(e,i);return{newDeck:s,ciphertextChar:s[0]}}function Bi(e,t){let n=Gn(),r="",i=null;const s=[];for(const a of e){const l=a.toUpperCase();if(l>="A"&&l<="Z"){const o=zi(n,l,t),f=t[l];s.push({deck:o.newDeck,ciphertextChar:o.ciphertextChar,transformation:f}),i=f,n=o.newDeck,r+=o.ciphertextChar}}return{deck:n,ciphertext:r,lastTransformation:i,steps:s}}var ji=O('<div class="mini-card svelte-pj07a9"> </div>'),Hi=O('<div class="col-rotation svelte-pj07a9"> </div>'),Ui=O("<div> </div>"),Vi=O('<div class="column svelte-pj07a9"><div class="col-label svelte-pj07a9"> </div> <!> <!></div>'),Ki=O('<div class="multi-deck svelte-pj07a9" data-testid="multi-deck"><div class="column svelte-pj07a9"><div class="col-label svelte-pj07a9">—</div> <!></div> <!></div>');function Wi(e,t){qe(t,!0);const n=["#e06c75","#e5c07b","#61afef","#98c379","#c678dd","#56b6c2","#d19a66","#e96eb0","#be5046","#528bff","#7ec8a4","#f0a0a0","#a0c8f0"],r=Gn();function i(f){const u=new Array(26).fill(null);for(let v=0;v<f.swaps.length;v++){const[c,h]=f.swaps[v];u[c]=v,u[h]=v}return u}var s=Ki(),a=w(s),l=E(w(a),2);Ce(l,17,()=>r,Ae,(f,u)=>{var v=ji(),c=w(v);re(()=>W(c,d(u))),T(f,v)});var o=E(a,2);Ce(o,17,()=>t.steps,Ae,(f,u)=>{const v=U(()=>i(d(u).transformation));var c=Vi(),h=w(c),_=w(h),m=E(h,2);{var p=y=>{var k=Hi(),A=w(k);re(()=>W(A,`↺${d(u).transformation.rotation??""}`)),T(y,k)};ke(m,y=>{d(u).transformation.rotation>0&&y(p)})}var g=E(m,2);Ce(g,17,()=>d(u).deck,Ae,(y,k,A)=>{const I=U(()=>t.showHighlights?d(v)[A]:null);var q=Ui();let P,C;var le=w(q);re(()=>{P=ft(q,1,"mini-card svelte-pj07a9",null,P,{highlighted:d(I)!=null}),C=ut(q,"",C,{"background-color":d(I)!=null?n[d(I)]:void 0}),W(le,d(k))}),T(y,q)}),re(()=>W(_,d(u).ciphertextChar)),T(f,c)}),T(e,s),Ne()}function Yi(e){const t={};for(const s of e)t[s]=(t[s]??0)+1;const n={};let r=0,i="";for(const s of e)t[s]===1?i+=".":(s in n||(n[s]=String.fromCharCode(97+r),r++),i+=n[s]);return i}function en(e){let t=0;for(const n of e)n!=="."&&t++;return t/e.length}function Zi(e){const t=new Map;for(const n of e)t.set(n.pattern,(t.get(n.pattern)??0)+1);return t}function Gi(e,t=new Map){return[...e].sort((n,r)=>{const i=(t.get(r.pattern)??0)-(t.get(n.pattern)??0);if(i!==0)return i;const s=en(r.pattern)-en(n.pattern);if(s!==0)return s;const a=r.pattern.length-n.pattern.length;return a!==0?a:n.startA-r.startA})}function Xi(e){const t=[],n=e.length,r=Math.floor(n/2);for(let i=3;i<=r;i++){const s=new Map;for(let a=0;a<=n-i;a++){const l=Yi(e.slice(a,a+i));if(!/[a-z]/.test(l)||l[0]==="."||l[l.length-1]===".")continue;const o=s.get(l);o?o.push(a):s.set(l,[a])}for(const[a,l]of s)for(let o=0;o<l.length;o++){const f=l[o];for(let u=o+1;u<l.length;u++){const v=l[u];v>=f+i&&t.push({pattern:a,startA:f,startB:v})}}}return t}var Ji=O('<p class="empty svelte-zq6m2r">No isomorphs found.</p>'),Qi=O('<button><span class="iso-header svelte-zq6m2r"><span class="iso-pattern svelte-zq6m2r"> </span> <span class="iso-count svelte-zq6m2r"> </span></span> <span class="iso-positions svelte-zq6m2r"> </span> <span class="iso-subs svelte-zq6m2r"><span class="sub-a svelte-zq6m2r"> </span> <span class="iso-sep svelte-zq6m2r">/</span> <span class="sub-b svelte-zq6m2r"> </span></span></button>'),$i=O('<div class="isomorph-list svelte-zq6m2r"><!></div>');function es(e,t){qe(t,!0);let n=U(()=>Zi(t.isomorphs)),r=U(()=>Gi(t.isomorphs,d(n)));function i(f){return t.selected!=null&&t.selected.startA===f.startA&&t.selected.startB===f.startB&&t.selected.pattern===f.pattern}var s=$i(),a=w(s);{var l=f=>{var u=Ji();T(f,u)},o=f=>{var u=Yn(),v=Tn(u);Ce(v,17,()=>d(r),Ae,(c,h)=>{const _=U(()=>i(d(h))),m=U(()=>t.ciphertext.slice(d(h).startA,d(h).startA+d(h).pattern.length)),p=U(()=>t.ciphertext.slice(d(h).startB,d(h).startB+d(h).pattern.length));var g=Qi();let y;var k=w(g),A=w(k),I=w(A),q=E(A,2),P=w(q),C=E(k,2),le=w(C),Z=E(C,2),Je=w(Z),ct=w(Je),Qe=E(Je,4),$e=w(Qe);re(et=>{y=ft(g,1,"iso-entry svelte-zq6m2r",null,y,{selected:d(_)}),W(I,d(h).pattern),W(P,`×${et??""}`),W(le,`@${d(h).startA??""} · @${d(h).startB??""}`),W(ct,d(m)),W($e,d(p))},[()=>d(n).get(d(h).pattern)??0]),Lt("click",g,()=>t.onselect(d(_)?null:d(h))),T(c,g)}),T(f,u)};ke(a,f=>{d(r).length===0?f(l):f(o,!1)})}T(e,s),Ne()}Ft(["click"]);function ts(e){let t=e|0;return()=>{t=t+1831565813|0;let n=Math.imul(t^t>>>15,1|t);return n=n+Math.imul(n^n>>>7,61|n)^n,((n^n>>>14)>>>0)/4294967296}}const st=26;function ns(e){return(e-1)%25+1}function rs(e,t,n){const r=[],i=new Set;for(;r.length<n;){const s=1+Math.floor(e()*(t-1));i.has(s)||(i.add(s),r.push(s))}return r}function is(e,t,n){const r=[],i=new Set;for(;r.length<n;){const s=Math.floor(e()*t);i.has(s)||(i.add(s),r.push(s))}return r}function ss(){const e={};for(let t=0;t<st;t++){const n=String.fromCharCode(65+t),r=[];for(let l=0;l<7;l++)r.push(ns(t+1+l));const i=t%7,s=r[i],a=r.filter((l,o)=>o!==i);e[n]={swaps:[[0,s],[a[0],a[1]],[a[2],a[3]],[a[4],a[5]]],rotation:1}}return e}function as(e,t,n){let r;n===0?r=[0,...rs(e,st,t*2-1)]:r=is(e,st,t*2);const i=[];for(let s=0;s<r.length;s+=2)i.push([r[s],r[s+1]]);return{swaps:i,rotation:n}}function ls(e){const t=e.swaps.map(([n,r])=>n<r?[n,r]:[r,n]).sort((n,r)=>n[0]-r[0]||n[1]-r[1]);return`r${e.rotation};${t.map(([n,r])=>`${n},${r}`).join(";")}`}function os(e,t){if(t.swapCount===1&&t.rotationMax===0)throw new Error("Invalid cipher config: swapCount=1 with rotationMax=0 can only produce 25 unique transformations, but 26 are required. Increase swapCount to at least 2, or set rotationMax > 0.");const n=ts(e),r={},i=new Set;for(let s=0;s<st;s++){const a=String.fromCharCode(65+s);for(;;){let l=0;t.rotationMax>0&&(l=t.rotationConstant?t.rotationMax:1+Math.floor(n()*t.rotationMax));const o=as(n,t.swapCount,l),f=ls(o);if(!i.has(f)){i.add(f),r[a]=o;break}}}return r}var fs=O('<div class="app-layout svelte-1n46o8q"><main class="left-panel svelte-1n46o8q"><h1 class="svelte-1n46o8q">DeckLab</h1> <div class="controls svelte-1n46o8q"><button class="svelte-1n46o8q">Randomize Cipher</button> <label class="control-label svelte-1n46o8q">Swaps: <input type="number" class="num-input svelte-1n46o8q" max="13"/></label> <label class="control-label svelte-1n46o8q">Rotations: <input type="number" class="num-input svelte-1n46o8q" min="0" max="25"/></label> <label><input type="checkbox"/> Constant Rotations</label> <label class="highlight-toggle svelte-1n46o8q"><input type="checkbox"/> Show swap highlights</label> <label class="highlight-toggle svelte-1n46o8q"><input type="checkbox"/> Show isomorphs</label></div> <!> <!> <!> <!></main> <div class="right-panel svelte-1n46o8q"><!></div></div>');function us(e,t){qe(t,!0);let n=B(Ie(ss())),r=B(""),i=B(!0),s=B(!1),a=B(null),l=B(4),o=B(1),f=B(!0),u=U(()=>Bi(d(r),d(n))),v=U(()=>Xi(d(u).ciphertext)),c=U(()=>d(a)?{startA:d(a).startA,startB:d(a).startB,length:d(a).pattern.length}:null);Vt(()=>{d(u).ciphertext,L(a,null)}),Vt(()=>{d(o)===0&&d(l)<2&&L(l,2)});function h(){const R=Math.floor(Math.random()*4294967296);L(n,os(R,{swapCount:d(l),rotationMax:d(o),rotationConstant:d(f)}),!0)}var _=fs(),m=w(_),p=E(w(m),2),g=w(p),y=E(g,2),k=E(w(y)),A=E(y,2),I=E(w(A)),q=E(A,2);let P;var C=w(q),le=E(q,2),Z=w(le),Je=E(le,2),ct=w(Je),Qe=E(p,2);ki(Qe,{oninput:R=>L(r,R,!0)});var $e=E(Qe,2);Mi($e,{get ciphertext(){return d(u).ciphertext},get highlight(){return d(c)}});var et=E($e,2);Li(et,{get deck(){return d(u).deck},get lastTransformation(){return d(u).lastTransformation},get showHighlights(){return d(i)}});var Xn=E(et,2);{var Jn=R=>{es(R,{get isomorphs(){return d(v)},get ciphertext(){return d(u).ciphertext},get selected(){return d(a)},onselect:er=>L(a,er,!0)})};ke(Xn,R=>{d(s)&&R(Jn)})}var Qn=E(m,2),$n=w(Qn);Wi($n,{get steps(){return d(u).steps},get showHighlights(){return d(i)}}),re(()=>{bi(k,"min",d(o)===0?2:1),P=ft(q,1,"control-label svelte-1n46o8q",null,P,{disabled:d(o)===0}),C.disabled=d(o)===0}),Lt("click",g,h),$t(k,()=>d(l),R=>L(l,R)),$t(I,()=>d(o),R=>L(o,R)),dt(C,()=>d(f),R=>L(f,R)),dt(Z,()=>d(i),R=>L(i,R)),dt(ct,()=>d(s),R=>L(s,R)),T(e,_),Ne()}Ft(["click"]);fi(us,{target:document.getElementById("app")});
