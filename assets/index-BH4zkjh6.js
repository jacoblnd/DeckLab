(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();const st=!1;var Ht=Array.isArray,Fn=Array.prototype.indexOf,Re=Array.prototype.includes,$e=Array.from,zn=Object.defineProperty,je=Object.getOwnPropertyDescriptor,Ln=Object.prototype,Bn=Array.prototype,Hn=Object.getPrototypeOf,Ct=Object.isExtensible;const jn=()=>{};function Vn(e){for(var t=0;t<e.length;t++)e[t]()}function jt(){var e,t,n=new Promise((r,i)=>{e=r,t=i});return{promise:n,resolve:e,reject:t}}const q=2,Qe=4,et=8,Vt=1<<24,fe=16,re=32,Te=64,Ut=128,G=512,O=1024,D=2048,ne=4096,K=8192,ue=16384,Ke=32768,Ie=65536,Tt=1<<17,Kt=1<<18,Le=1<<19,Un=1<<20,ae=1<<25,Se=65536,lt=1<<21,vt=1<<22,ce=1<<23,rt=Symbol("$state"),ge=new class extends Error{name="StaleReactionError";message="The reaction that called `getAbortSignal()` was re-run or destroyed"};function Kn(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function Wn(e,t,n){throw new Error("https://svelte.dev/e/each_key_duplicate")}function Yn(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function Zn(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function Gn(e){throw new Error("https://svelte.dev/e/effect_orphan")}function Xn(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function Jn(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function Qn(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function $n(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}function er(){throw new Error("https://svelte.dev/e/svelte_boundary_reset_onerror")}const tr=1,nr=2,Wt=4,rr=8,ir=16,sr=2,I=Symbol(),lr="http://www.w3.org/1999/xhtml";function ar(){console.warn("https://svelte.dev/e/svelte_boundary_reset_noop")}function Yt(e){return e===this.v}function fr(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function Zt(e){return!fr(e,this.v)}let or=!1,J=null;function qe(e){J=e}function Me(e,t=!1,n){J={p:J,i:!1,c:null,e:null,s:e,x:null,l:null}}function Pe(e){var t=J,n=t.e;if(n!==null){t.e=null;for(var r of n)vn(r)}return t.i=!0,J=t.p,{}}function Gt(){return!0}let Oe=[];function ur(){var e=Oe;Oe=[],Vn(e)}function we(e){if(Oe.length===0){var t=Oe;queueMicrotask(()=>{t===Oe&&ur()})}Oe.push(e)}function Xt(e){var t=y;if(t===null)return w.f|=ce,e;if((t.f&Ke)===0&&(t.f&Qe)===0)throw e;De(e,t)}function De(e,t){for(;t!==null;){if((t.f&Ut)!==0){if((t.f&Ke)===0)throw e;try{t.b.error(e);return}catch(n){e=n}}t=t.parent}throw e}const cr=-7169;function C(e,t){e.f=e.f&cr|t}function ht(e){(e.f&G)!==0||e.deps===null?C(e,O):C(e,ne)}function Jt(e){if(e!==null)for(const t of e)(t.f&q)===0||(t.f&Se)===0||(t.f^=Se,Jt(t.deps))}function Qt(e,t,n){(e.f&D)!==0?t.add(e):(e.f&ne)!==0&&n.add(e),Jt(e.deps),C(e,O)}const Ge=new Set;let x=null,$=null,Y=[],dt=null,at=!1;class ve{committed=!1;current=new Map;previous=new Map;#t=new Set;#a=new Set;#e=0;#s=0;#l=null;#r=new Set;#n=new Set;#i=new Map;is_fork=!1;#f=!1;is_deferred(){return this.is_fork||this.#s>0}skip_effect(t){this.#i.has(t)||this.#i.set(t,{d:[],m:[]})}unskip_effect(t){var n=this.#i.get(t);if(n){this.#i.delete(t);for(var r of n.d)C(r,D),ee(r);for(r of n.m)C(r,ne),ee(r)}}process(t){Y=[],this.apply();var n=[],r=[];for(const i of t)this.#o(i,n,r);if(this.is_deferred()){this.#u(r),this.#u(n);for(const[i,s]of this.#i)tn(i,s)}else{for(const i of this.#t)i();this.#t.clear(),this.#e===0&&this.#c(),x=null,Mt(r),Mt(n),this.#l?.resolve()}$=null}#o(t,n,r){t.f^=O;for(var i=t.first,s=null;i!==null;){var l=i.f,a=(l&(re|Te))!==0,f=a&&(l&O)!==0,o=f||(l&K)!==0||this.#i.has(i);if(!o&&i.fn!==null){a?i.f^=O:s!==null&&(l&(Qe|et|Vt))!==0?s.b.defer_effect(i):(l&Qe)!==0?n.push(i):Ye(i)&&((l&fe)!==0&&this.#n.add(i),ze(i));var u=i.first;if(u!==null){i=u;continue}}var v=i.parent;for(i=i.next;i===null&&v!==null;)v===s&&(s=null),i=v.next,v=v.parent}}#u(t){for(var n=0;n<t.length;n+=1)Qt(t[n],this.#r,this.#n)}capture(t,n){n!==I&&!this.previous.has(t)&&this.previous.set(t,n),(t.f&ce)===0&&(this.current.set(t,t.v),$?.set(t,t.v))}activate(){x=this,this.apply()}deactivate(){x===this&&(x=null,$=null)}flush(){if(this.activate(),Y.length>0){if(vr(),x!==null&&x!==this)return}else this.#e===0&&this.process([]);this.deactivate()}discard(){for(const t of this.#a)t(this);this.#a.clear()}#c(){if(Ge.size>1){this.previous.clear();var t=$,n=!0;for(const i of Ge){if(i===this){n=!1;continue}const s=[];for(const[a,f]of this.current){if(i.current.has(a))if(n&&f!==i.current.get(a))i.current.set(a,f);else continue;s.push(a)}if(s.length===0)continue;const l=[...i.current.keys()].filter(a=>!this.current.has(a));if(l.length>0){var r=Y;Y=[];const a=new Set,f=new Map;for(const o of s)$t(o,l,a,f);if(Y.length>0){x=i,i.apply();for(const o of Y)i.#o(o,[],[]);i.deactivate()}Y=r}}x=null,$=t}this.committed=!0,Ge.delete(this)}increment(t){this.#e+=1,t&&(this.#s+=1)}decrement(t){this.#e-=1,t&&(this.#s-=1),!this.#f&&(this.#f=!0,we(()=>{this.#f=!1,this.is_deferred()?Y.length>0&&this.flush():this.revive()}))}revive(){for(const t of this.#r)this.#n.delete(t),C(t,D),ee(t);for(const t of this.#n)C(t,ne),ee(t);this.flush()}oncommit(t){this.#t.add(t)}ondiscard(t){this.#a.add(t)}settled(){return(this.#l??=jt()).promise}static ensure(){if(x===null){const t=x=new ve;Ge.add(x),we(()=>{x===t&&t.flush()})}return x}apply(){}}function vr(){at=!0;var e=null;try{for(var t=0;Y.length>0;){var n=ve.ensure();if(t++>1e3){var r,i;hr()}n.process(Y),he.clear()}}finally{Y=[],at=!1,dt=null}}function hr(){try{Xn()}catch(e){De(e,dt)}}let le=null;function Mt(e){var t=e.length;if(t!==0){for(var n=0;n<t;){var r=e[n++];if((r.f&(ue|K))===0&&Ye(r)&&(le=new Set,ze(r),r.deps===null&&r.first===null&&r.nodes===null&&r.teardown===null&&r.ac===null&&pn(r),le?.size>0)){he.clear();for(const i of le){if((i.f&(ue|K))!==0)continue;const s=[i];let l=i.parent;for(;l!==null;)le.has(l)&&(le.delete(l),s.push(l)),l=l.parent;for(let a=s.length-1;a>=0;a--){const f=s[a];(f.f&(ue|K))===0&&ze(f)}}le.clear()}}le=null}}function $t(e,t,n,r){if(!n.has(e)&&(n.add(e),e.reactions!==null))for(const i of e.reactions){const s=i.f;(s&q)!==0?$t(i,t,n,r):(s&(vt|fe))!==0&&(s&D)===0&&en(i,t,r)&&(C(i,D),ee(i))}}function en(e,t,n){const r=n.get(e);if(r!==void 0)return r;if(e.deps!==null)for(const i of e.deps){if(Re.call(t,i))return!0;if((i.f&q)!==0&&en(i,t,n))return n.set(i,!0),!0}return n.set(e,!1),!1}function ee(e){for(var t=dt=e;t.parent!==null;){t=t.parent;var n=t.f;if(at&&t===y&&(n&fe)!==0&&(n&Kt)===0)return;if((n&(Te|re))!==0){if((n&O)===0)return;t.f^=O}}Y.push(t)}function tn(e,t){if(!((e.f&re)!==0&&(e.f&O)!==0)){(e.f&D)!==0?t.d.push(e):(e.f&ne)!==0&&t.m.push(e),C(e,O);for(var n=e.first;n!==null;)tn(n,t),n=n.next}}function dr(e){let t=0,n=ke(0),r;return()=>{wt()&&(p(n),hn(()=>(t===0&&(r=kn(()=>e(()=>Ve(n)))),t+=1,()=>{we(()=>{t-=1,t===0&&(r?.(),r=void 0,Ve(n))})})))}}var pr=Ie|Le|Ut;function _r(e,t,n){new gr(e,t,n)}class gr{parent;is_pending=!1;#t;#a=null;#e;#s;#l;#r=null;#n=null;#i=null;#f=null;#o=null;#u=0;#c=0;#d=!1;#h=!1;#p=new Set;#_=new Set;#v=null;#y=dr(()=>(this.#v=ke(this.#u),()=>{this.#v=null}));constructor(t,n,r){this.#t=t,this.#e=n,this.#s=r,this.parent=y.b,this.is_pending=!!this.#e.pending,this.#l=bt(()=>{y.b=this;{var i=this.#w();try{this.#r=Z(()=>r(i))}catch(s){this.error(s)}this.#c>0?this.#m():this.is_pending=!1}return()=>{this.#o?.remove()}},pr)}#E(){try{this.#r=Z(()=>this.#s(this.#t))}catch(t){this.error(t)}}#x(){const t=this.#e.pending;t&&(this.#n=Z(()=>t(this.#t)),we(()=>{var n=this.#w();this.#r=this.#g(()=>(ve.ensure(),Z(()=>this.#s(n)))),this.#c>0?this.#m():(ye(this.#n,()=>{this.#n=null}),this.is_pending=!1)}))}#w(){var t=this.#t;return this.is_pending&&(this.#o=de(),this.#t.before(this.#o),t=this.#o),t}defer_effect(t){Qt(t,this.#p,this.#_)}is_rendered(){return!this.is_pending&&(!this.parent||this.parent.is_rendered())}has_pending_snippet(){return!!this.#e.pending}#g(t){var n=y,r=w,i=J;se(this.#l),Q(this.#l),qe(this.#l.ctx);try{return t()}catch(s){return Xt(s),null}finally{se(n),Q(r),qe(i)}}#m(){const t=this.#e.pending;this.#r!==null&&(this.#f=document.createDocumentFragment(),this.#f.append(this.#o),mn(this.#r,this.#f)),this.#n===null&&(this.#n=Z(()=>t(this.#t)))}#b(t){if(!this.has_pending_snippet()){this.parent&&this.parent.#b(t);return}if(this.#c+=t,this.#c===0){this.is_pending=!1;for(const n of this.#p)C(n,D),ee(n);for(const n of this.#_)C(n,ne),ee(n);this.#p.clear(),this.#_.clear(),this.#n&&ye(this.#n,()=>{this.#n=null}),this.#f&&(this.#t.before(this.#f),this.#f=null)}}update_pending_count(t){this.#b(t),this.#u+=t,!(!this.#v||this.#d)&&(this.#d=!0,we(()=>{this.#d=!1,this.#v&&Fe(this.#v,this.#u)}))}get_effect_pending(){return this.#y(),p(this.#v)}error(t){var n=this.#e.onerror;let r=this.#e.failed;if(this.#h||!n&&!r)throw t;this.#r&&(H(this.#r),this.#r=null),this.#n&&(H(this.#n),this.#n=null),this.#i&&(H(this.#i),this.#i=null);var i=!1,s=!1;const l=()=>{if(i){ar();return}i=!0,s&&er(),ve.ensure(),this.#u=0,this.#i!==null&&ye(this.#i,()=>{this.#i=null}),this.is_pending=this.has_pending_snippet(),this.#r=this.#g(()=>(this.#h=!1,Z(()=>this.#s(this.#t)))),this.#c>0?this.#m():this.is_pending=!1};we(()=>{try{s=!0,n?.(t,l),s=!1}catch(a){De(a,this.#l&&this.#l.parent)}r&&(this.#i=this.#g(()=>{ve.ensure(),this.#h=!0;try{return Z(()=>{r(this.#t,()=>t,()=>l)})}catch(a){return De(a,this.#l.parent),null}finally{this.#h=!1}}))})}}function mr(e,t,n,r){const i=pt;var s=e.filter(c=>!c.settled);if(n.length===0&&s.length===0){r(t.map(i));return}var l=x,a=y,f=wr(),o=s.length===1?s[0].promise:s.length>1?Promise.all(s.map(c=>c.promise)):null;function u(c){f();try{r(c)}catch(h){(a.f&ue)===0&&De(h,a)}l?.deactivate(),ft()}if(n.length===0){o.then(()=>u(t.map(i)));return}function v(){f(),Promise.all(n.map(c=>br(c))).then(c=>u([...t.map(i),...c])).catch(c=>De(c,a))}o?o.then(v):v()}function wr(){var e=y,t=w,n=J,r=x;return function(s=!0){se(e),Q(t),qe(n),s&&r?.activate()}}function ft(){se(null),Q(null),qe(null)}function pt(e){var t=q|D,n=w!==null&&(w.f&q)!==0?w:null;return y!==null&&(y.f|=Le),{ctx:J,deps:null,effects:null,equals:Yt,f:t,fn:e,reactions:null,rv:0,v:I,wv:0,parent:n??y,ac:null}}function br(e,t,n){let r=y;r===null&&Kn();var i=r.b,s=void 0,l=ke(I),a=!w,f=new Map;return Fr(()=>{var o=jt();s=o.promise;try{Promise.resolve(e()).then(o.resolve,o.reject).then(()=>{u===x&&u.committed&&u.deactivate(),ft()})}catch(h){o.reject(h),ft()}var u=x;if(a){var v=i.is_rendered();i.update_pending_count(1),u.increment(v),f.get(u)?.reject(ge),f.delete(u),f.set(u,o)}const c=(h,_=void 0)=>{if(u.activate(),_)_!==ge&&(l.f|=ce,Fe(l,_));else{(l.f&ce)!==0&&(l.f^=ce),Fe(l,h);for(const[g,d]of f){if(f.delete(g),g===u)break;d.reject(ge)}}a&&(i.update_pending_count(-1),u.decrement(v))};o.promise.then(c,h=>c(null,h||"unknown"))}),Ir(()=>{for(const o of f.values())o.reject(ge)}),new Promise(o=>{function u(v){function c(){v===s?o(l):u(s)}v.then(c,c)}u(s)})}function B(e){const t=pt(e);return wn(t),t}function yr(e){const t=pt(e);return t.equals=Zt,t}function Er(e){var t=e.effects;if(t!==null){e.effects=null;for(var n=0;n<t.length;n+=1)H(t[n])}}function xr(e){for(var t=e.parent;t!==null;){if((t.f&q)===0)return(t.f&ue)===0?t:null;t=t.parent}return null}function _t(e){var t,n=y;se(xr(e));try{e.f&=~Se,Er(e),t=xn(e)}finally{se(n)}return t}function nn(e){var t=_t(e);if(!e.equals(t)&&(e.wv=yn(),(!x?.is_fork||e.deps===null)&&(e.v=t,e.deps===null))){C(e,O);return}Ce||($!==null?(wt()||x?.is_fork)&&$.set(e,t):ht(e))}function Ar(e){if(e.effects!==null)for(const t of e.effects)(t.teardown||t.ac)&&(t.teardown?.(),t.ac?.abort(ge),t.teardown=jn,t.ac=null,Ue(t,0),yt(t))}function rn(e){if(e.effects!==null)for(const t of e.effects)t.teardown&&ze(t)}let ot=new Set;const he=new Map;let sn=!1;function ke(e,t){var n={f:0,v:e,reactions:null,equals:Yt,rv:0,wv:0};return n}function V(e,t){const n=ke(e);return wn(n),n}function Sr(e,t=!1,n=!0){const r=ke(e);return t||(r.equals=Zt),r}function U(e,t,n=!1){w!==null&&(!te||(w.f&Tt)!==0)&&Gt()&&(w.f&(q|fe|vt|Tt))!==0&&(X===null||!Re.call(X,e))&&$n();let r=n?Ne(t):t;return Fe(e,r)}function Fe(e,t){if(!e.equals(t)){var n=e.v;Ce?he.set(e,t):he.set(e,n),e.v=t;var r=ve.ensure();if(r.capture(e,n),(e.f&q)!==0){const i=e;(e.f&D)!==0&&_t(i),ht(i)}e.wv=yn(),ln(e,D),y!==null&&(y.f&O)!==0&&(y.f&(re|Te))===0&&(W===null?Br([e]):W.push(e)),!r.is_fork&&ot.size>0&&!sn&&kr()}return t}function kr(){sn=!1;for(const e of ot)(e.f&O)!==0&&C(e,ne),Ye(e)&&ze(e);ot.clear()}function Ve(e){U(e,e.v+1)}function ln(e,t){var n=e.reactions;if(n!==null)for(var r=n.length,i=0;i<r;i++){var s=n[i],l=s.f,a=(l&D)===0;if(a&&C(s,t),(l&q)!==0){var f=s;$?.delete(f),(l&Se)===0&&(l&G&&(s.f|=Se),ln(f,ne))}else a&&((l&fe)!==0&&le!==null&&le.add(s),ee(s))}}function Ne(e){if(typeof e!="object"||e===null||rt in e)return e;const t=Hn(e);if(t!==Ln&&t!==Bn)return e;var n=new Map,r=Ht(e),i=V(0),s=Ee,l=a=>{if(Ee===s)return a();var f=w,o=Ee;Q(null),Rt(s);var u=a();return Q(f),Rt(o),u};return r&&n.set("length",V(e.length)),new Proxy(e,{defineProperty(a,f,o){(!("value"in o)||o.configurable===!1||o.enumerable===!1||o.writable===!1)&&Jn();var u=n.get(f);return u===void 0?l(()=>{var v=V(o.value);return n.set(f,v),v}):U(u,o.value,!0),!0},deleteProperty(a,f){var o=n.get(f);if(o===void 0){if(f in a){const u=l(()=>V(I));n.set(f,u),Ve(i)}}else U(o,I),Ve(i);return!0},get(a,f,o){if(f===rt)return e;var u=n.get(f),v=f in a;if(u===void 0&&(!v||je(a,f)?.writable)&&(u=l(()=>{var h=Ne(v?a[f]:I),_=V(h);return _}),n.set(f,u)),u!==void 0){var c=p(u);return c===I?void 0:c}return Reflect.get(a,f,o)},getOwnPropertyDescriptor(a,f){var o=Reflect.getOwnPropertyDescriptor(a,f);if(o&&"value"in o){var u=n.get(f);u&&(o.value=p(u))}else if(o===void 0){var v=n.get(f),c=v?.v;if(v!==void 0&&c!==I)return{enumerable:!0,configurable:!0,value:c,writable:!0}}return o},has(a,f){if(f===rt)return!0;var o=n.get(f),u=o!==void 0&&o.v!==I||Reflect.has(a,f);if(o!==void 0||y!==null&&(!u||je(a,f)?.writable)){o===void 0&&(o=l(()=>{var c=u?Ne(a[f]):I,h=V(c);return h}),n.set(f,o));var v=p(o);if(v===I)return!1}return u},set(a,f,o,u){var v=n.get(f),c=f in a;if(r&&f==="length")for(var h=o;h<v.v;h+=1){var _=n.get(h+"");_!==void 0?U(_,I):h in a&&(_=l(()=>V(I)),n.set(h+"",_))}if(v===void 0)(!c||je(a,f)?.writable)&&(v=l(()=>V(void 0)),U(v,Ne(o)),n.set(f,v));else{c=v.v!==I;var g=l(()=>Ne(o));U(v,g)}var d=Reflect.getOwnPropertyDescriptor(a,f);if(d?.set&&d.set.call(u,o),!c){if(r&&typeof f=="string"){var m=n.get("length"),k=Number(f);Number.isInteger(k)&&k>=m.v&&U(m,k+1)}Ve(i)}return!0},ownKeys(a){p(i);var f=Reflect.ownKeys(a).filter(v=>{var c=n.get(v);return c===void 0||c.v!==I});for(var[o,u]of n)u.v!==I&&!(o in a)&&f.push(o);return f},setPrototypeOf(){Qn()}})}var Pt,an,fn,on;function Cr(){if(Pt===void 0){Pt=window,an=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype,n=Text.prototype;fn=je(t,"firstChild").get,on=je(t,"nextSibling").get,Ct(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),Ct(n)&&(n.__t=void 0)}}function de(e=""){return document.createTextNode(e)}function gt(e){return fn.call(e)}function We(e){return on.call(e)}function b(e,t){return gt(e)}function un(e,t=!1){{var n=gt(e);return n instanceof Comment&&n.data===""?We(n):n}}function T(e,t=1,n=!1){let r=e;for(;t--;)r=We(r);return r}function Tr(e){e.textContent=""}function cn(){return!1}function Mr(e,t,n){return document.createElementNS(lr,e,void 0)}let Ot=!1;function Pr(){Ot||(Ot=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{if(!e.defaultPrevented)for(const t of e.target.elements)t.__on_r?.()})},{capture:!0}))}function mt(e){var t=w,n=y;Q(null),se(null);try{return e()}finally{Q(t),se(n)}}function Or(e,t,n,r=n){e.addEventListener(t,()=>mt(n));const i=e.__on_r;i?e.__on_r=()=>{i(),r(!0)}:e.__on_r=()=>r(!0),Pr()}function Nr(e){y===null&&(w===null&&Gn(),Zn()),Ce&&Yn()}function Rr(e,t){var n=t.last;n===null?t.last=t.first=e:(n.next=e,e.prev=n,t.last=e)}function pe(e,t,n){var r=y;r!==null&&(r.f&K)!==0&&(e|=K);var i={ctx:J,deps:null,nodes:null,f:e|D|G,first:null,fn:t,last:null,next:null,parent:r,b:r&&r.b,prev:null,teardown:null,wv:0,ac:null};if(n)try{ze(i)}catch(a){throw H(i),a}else t!==null&&ee(i);var s=i;if(n&&s.deps===null&&s.teardown===null&&s.nodes===null&&s.first===s.last&&(s.f&Le)===0&&(s=s.first,(e&fe)!==0&&(e&Ie)!==0&&s!==null&&(s.f|=Ie)),s!==null&&(s.parent=r,r!==null&&Rr(s,r),w!==null&&(w.f&q)!==0&&(e&Te)===0)){var l=w;(l.effects??=[]).push(s)}return i}function wt(){return w!==null&&!te}function Ir(e){const t=pe(et,null,!1);return C(t,O),t.teardown=e,t}function qr(e){Nr();var t=y.f,n=!w&&(t&re)!==0&&(t&Ke)===0;if(n){var r=J;(r.e??=[]).push(e)}else return vn(e)}function vn(e){return pe(Qe|Un,e,!1)}function Dr(e){ve.ensure();const t=pe(Te|Le,e,!0);return(n={})=>new Promise(r=>{n.outro?ye(t,()=>{H(t),r(void 0)}):(H(t),r(void 0))})}function Fr(e){return pe(vt|Le,e,!0)}function hn(e,t=0){return pe(et|t,e,!0)}function be(e,t=[],n=[],r=[]){mr(r,t,n,i=>{pe(et,()=>e(...i.map(p)),!0)})}function bt(e,t=0){var n=pe(fe|t,e,!0);return n}function Z(e){return pe(re|Le,e,!0)}function dn(e){var t=e.teardown;if(t!==null){const n=Ce,r=w;Nt(!0),Q(null);try{t.call(null)}finally{Nt(n),Q(r)}}}function yt(e,t=!1){var n=e.first;for(e.first=e.last=null;n!==null;){const i=n.ac;i!==null&&mt(()=>{i.abort(ge)});var r=n.next;(n.f&Te)!==0?n.parent=null:H(n,t),n=r}}function zr(e){for(var t=e.first;t!==null;){var n=t.next;(t.f&re)===0&&H(t),t=n}}function H(e,t=!0){var n=!1;(t||(e.f&Kt)!==0)&&e.nodes!==null&&e.nodes.end!==null&&(Lr(e.nodes.start,e.nodes.end),n=!0),yt(e,t&&!n),Ue(e,0),C(e,ue);var r=e.nodes&&e.nodes.t;if(r!==null)for(const s of r)s.stop();dn(e);var i=e.parent;i!==null&&i.first!==null&&pn(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes=e.ac=null}function Lr(e,t){for(;e!==null;){var n=e===t?null:We(e);e.remove(),e=n}}function pn(e){var t=e.parent,n=e.prev,r=e.next;n!==null&&(n.next=r),r!==null&&(r.prev=n),t!==null&&(t.first===e&&(t.first=r),t.last===e&&(t.last=n))}function ye(e,t,n=!0){var r=[];_n(e,r,!0);var i=()=>{n&&H(e),t&&t()},s=r.length;if(s>0){var l=()=>--s||i();for(var a of r)a.out(l)}else i()}function _n(e,t,n){if((e.f&K)===0){e.f^=K;var r=e.nodes&&e.nodes.t;if(r!==null)for(const a of r)(a.is_global||n)&&t.push(a);for(var i=e.first;i!==null;){var s=i.next,l=(i.f&Ie)!==0||(i.f&re)!==0&&(e.f&fe)!==0;_n(i,t,l?n:!1),i=s}}}function Et(e){gn(e,!0)}function gn(e,t){if((e.f&K)!==0){e.f^=K,(e.f&O)===0&&(C(e,D),ee(e));for(var n=e.first;n!==null;){var r=n.next,i=(n.f&Ie)!==0||(n.f&re)!==0;gn(n,i?t:!1),n=r}var s=e.nodes&&e.nodes.t;if(s!==null)for(const l of s)(l.is_global||t)&&l.in()}}function mn(e,t){if(e.nodes)for(var n=e.nodes.start,r=e.nodes.end;n!==null;){var i=n===r?null:We(n);t.append(n),n=i}}let Je=!1,Ce=!1;function Nt(e){Ce=e}let w=null,te=!1;function Q(e){w=e}let y=null;function se(e){y=e}let X=null;function wn(e){w!==null&&(X===null?X=[e]:X.push(e))}let L=null,j=0,W=null;function Br(e){W=e}let bn=1,me=0,Ee=me;function Rt(e){Ee=e}function yn(){return++bn}function Ye(e){var t=e.f;if((t&D)!==0)return!0;if(t&q&&(e.f&=~Se),(t&ne)!==0){for(var n=e.deps,r=n.length,i=0;i<r;i++){var s=n[i];if(Ye(s)&&nn(s),s.wv>e.wv)return!0}(t&G)!==0&&$===null&&C(e,O)}return!1}function En(e,t,n=!0){var r=e.reactions;if(r!==null&&!(X!==null&&Re.call(X,e)))for(var i=0;i<r.length;i++){var s=r[i];(s.f&q)!==0?En(s,t,!1):t===s&&(n?C(s,D):(s.f&O)!==0&&C(s,ne),ee(s))}}function xn(e){var t=L,n=j,r=W,i=w,s=X,l=J,a=te,f=Ee,o=e.f;L=null,j=0,W=null,w=(o&(re|Te))===0?e:null,X=null,qe(e.ctx),te=!1,Ee=++me,e.ac!==null&&(mt(()=>{e.ac.abort(ge)}),e.ac=null);try{e.f|=lt;var u=e.fn,v=u();e.f|=Ke;var c=e.deps,h=x?.is_fork;if(L!==null){var _;if(h||Ue(e,j),c!==null&&j>0)for(c.length=j+L.length,_=0;_<L.length;_++)c[j+_]=L[_];else e.deps=c=L;if(wt()&&(e.f&G)!==0)for(_=j;_<c.length;_++)(c[_].reactions??=[]).push(e)}else!h&&c!==null&&j<c.length&&(Ue(e,j),c.length=j);if(Gt()&&W!==null&&!te&&c!==null&&(e.f&(q|ne|D))===0)for(_=0;_<W.length;_++)En(W[_],e);if(i!==null&&i!==e){if(me++,i.deps!==null)for(let g=0;g<n;g+=1)i.deps[g].rv=me;if(t!==null)for(const g of t)g.rv=me;W!==null&&(r===null?r=W:r.push(...W))}return(e.f&ce)!==0&&(e.f^=ce),v}catch(g){return Xt(g)}finally{e.f^=lt,L=t,j=n,W=r,w=i,X=s,qe(l),te=a,Ee=f}}function Hr(e,t){let n=t.reactions;if(n!==null){var r=Fn.call(n,e);if(r!==-1){var i=n.length-1;i===0?n=t.reactions=null:(n[r]=n[i],n.pop())}}if(n===null&&(t.f&q)!==0&&(L===null||!Re.call(L,t))){var s=t;(s.f&G)!==0&&(s.f^=G,s.f&=~Se),ht(s),Ar(s),Ue(s,0)}}function Ue(e,t){var n=e.deps;if(n!==null)for(var r=t;r<n.length;r++)Hr(e,n[r])}function ze(e){var t=e.f;if((t&ue)===0){C(e,O);var n=y,r=Je;y=e,Je=!0;try{(t&(fe|Vt))!==0?zr(e):yt(e),dn(e);var i=xn(e);e.teardown=typeof i=="function"?i:null,e.wv=bn;var s;st&&or&&(e.f&D)!==0&&e.deps}finally{Je=r,y=n}}}function p(e){var t=e.f,n=(t&q)!==0;if(w!==null&&!te){var r=y!==null&&(y.f&ue)!==0;if(!r&&(X===null||!Re.call(X,e))){var i=w.deps;if((w.f&lt)!==0)e.rv<me&&(e.rv=me,L===null&&i!==null&&i[j]===e?j++:L===null?L=[e]:L.push(e));else{(w.deps??=[]).push(e);var s=e.reactions;s===null?e.reactions=[w]:Re.call(s,w)||s.push(w)}}}if(Ce&&he.has(e))return he.get(e);if(n){var l=e;if(Ce){var a=l.v;return((l.f&O)===0&&l.reactions!==null||Sn(l))&&(a=_t(l)),he.set(l,a),a}var f=(l.f&G)===0&&!te&&w!==null&&(Je||(w.f&G)!==0),o=(l.f&Ke)===0;Ye(l)&&(f&&(l.f|=G),nn(l)),f&&!o&&(rn(l),An(l))}if($?.has(e))return $.get(e);if((e.f&ce)!==0)throw e.v;return e.v}function An(e){if(e.f|=G,e.deps!==null)for(const t of e.deps)(t.reactions??=[]).push(e),(t.f&q)!==0&&(t.f&G)===0&&(rn(t),An(t))}function Sn(e){if(e.v===I)return!0;if(e.deps===null)return!1;for(const t of e.deps)if(he.has(t)||(t.f&q)!==0&&Sn(t))return!0;return!1}function kn(e){var t=te;try{return te=!0,e()}finally{te=t}}const jr=["touchstart","touchmove"];function Vr(e){return jr.includes(e)}const Cn=Symbol("events"),Tn=new Set,ut=new Set;function xt(e,t,n){(t[Cn]??={})[e]=n}function At(e){for(var t=0;t<e.length;t++)Tn.add(e[t]);for(var n of ut)n(e)}let It=null;function qt(e){var t=this,n=t.ownerDocument,r=e.type,i=e.composedPath?.()||[],s=i[0]||e.target;It=e;var l=0,a=It===e&&e.__root;if(a){var f=i.indexOf(a);if(f!==-1&&(t===document||t===window)){e.__root=t;return}var o=i.indexOf(t);if(o===-1)return;f<=o&&(l=f)}if(s=i[l]||e.target,s!==t){zn(e,"currentTarget",{configurable:!0,get(){return s||n}});var u=w,v=y;Q(null),se(null);try{for(var c,h=[];s!==null;){var _=s.assignedSlot||s.parentNode||s.host||null;try{var g=s[Cn]?.[r];g!=null&&(!s.disabled||e.target===s)&&g.call(s,e)}catch(d){c?h.push(d):c=d}if(e.cancelBubble||_===t||_===null)break;s=_}if(c){for(let d of h)queueMicrotask(()=>{throw d});throw c}}finally{e.__root=t,delete e.currentTarget,Q(u),se(v)}}}const Ur=globalThis?.window?.trustedTypes?.createPolicy("svelte-trusted-html",{createHTML:e=>e});function Kr(e){return Ur?.createHTML(e)??e}function Wr(e,t=!1){var n=Mr("template");return e=e.replaceAll("<!>","<!---->"),n.innerHTML=t?Kr(e):e,n.content}function Mn(e,t){var n=y;n.nodes===null&&(n.nodes={start:e,end:t,a:null,t:null})}function F(e,t){var n=(t&sr)!==0,r,i=!e.startsWith("<!>");return()=>{r===void 0&&(r=Wr(i?e:"<!>"+e,!0),r=gt(r));var s=n||an?document.importNode(r,!0):r.cloneNode(!0);return Mn(s,s),s}}function Pn(){var e=document.createDocumentFragment(),t=document.createComment(""),n=de();return e.append(t,n),Mn(t,n),e}function P(e,t){e!==null&&e.before(t)}function ie(e,t){var n=t==null?"":typeof t=="object"?t+"":t;n!==(e.__t??=e.nodeValue)&&(e.__t=n,e.nodeValue=n+"")}function Yr(e,t){return Zr(e,t)}const Xe=new Map;function Zr(e,{target:t,anchor:n,props:r={},events:i,context:s,intro:l=!0}){Cr();var a=new Set,f=v=>{for(var c=0;c<v.length;c++){var h=v[c];if(!a.has(h)){a.add(h);var _=Vr(h);for(const m of[t,document]){var g=Xe.get(m);g===void 0&&(g=new Map,Xe.set(m,g));var d=g.get(h);d===void 0?(m.addEventListener(h,qt,{passive:_}),g.set(h,1)):g.set(h,d+1)}}}};f($e(Tn)),ut.add(f);var o=void 0,u=Dr(()=>{var v=n??t.appendChild(de());return _r(v,{pending:()=>{}},c=>{Me({});var h=J;s&&(h.c=s),i&&(r.$$events=i),o=e(c,r)||{},Pe()}),()=>{for(var c of a)for(const g of[t,document]){var h=Xe.get(g),_=h.get(c);--_==0?(g.removeEventListener(c,qt),h.delete(c),h.size===0&&Xe.delete(g)):h.set(c,_)}ut.delete(f),v!==n&&v.parentNode?.removeChild(v)}});return Gr.set(o,u),o}let Gr=new WeakMap;class Xr{anchor;#t=new Map;#a=new Map;#e=new Map;#s=new Set;#l=!0;constructor(t,n=!0){this.anchor=t,this.#l=n}#r=()=>{var t=x;if(this.#t.has(t)){var n=this.#t.get(t),r=this.#a.get(n);if(r)Et(r),this.#s.delete(n);else{var i=this.#e.get(n);i&&(this.#a.set(n,i.effect),this.#e.delete(n),i.fragment.lastChild.remove(),this.anchor.before(i.fragment),r=i.effect)}for(const[s,l]of this.#t){if(this.#t.delete(s),s===t)break;const a=this.#e.get(l);a&&(H(a.effect),this.#e.delete(l))}for(const[s,l]of this.#a){if(s===n||this.#s.has(s))continue;const a=()=>{if(Array.from(this.#t.values()).includes(s)){var o=document.createDocumentFragment();mn(l,o),o.append(de()),this.#e.set(s,{effect:l,fragment:o})}else H(l);this.#s.delete(s),this.#a.delete(s)};this.#l||!r?(this.#s.add(s),ye(l,a,!1)):a()}}};#n=t=>{this.#t.delete(t);const n=Array.from(this.#t.values());for(const[r,i]of this.#e)n.includes(r)||(H(i.effect),this.#e.delete(r))};ensure(t,n){var r=x,i=cn();if(n&&!this.#a.has(t)&&!this.#e.has(t))if(i){var s=document.createDocumentFragment(),l=de();s.append(l),this.#e.set(t,{effect:Z(()=>n(l)),fragment:s})}else this.#a.set(t,Z(()=>n(this.anchor)));if(this.#t.set(r,t),i){for(const[a,f]of this.#a)a===t?r.unskip_effect(f):r.skip_effect(f);for(const[a,f]of this.#e)a===t?r.unskip_effect(f.effect):r.skip_effect(f.effect);r.oncommit(this.#r),r.ondiscard(this.#n)}else this.#r()}}function tt(e,t,n=!1){var r=new Xr(e),i=n?Ie:0;function s(l,a){r.ensure(l,a)}bt(()=>{var l=!1;t((a,f=0)=>{l=!0,s(f,a)}),l||s(!1,null)},i)}function xe(e,t){return t}function Jr(e,t,n){for(var r=[],i=t.length,s,l=t.length,a=0;a<i;a++){let v=t[a];ye(v,()=>{if(s){if(s.pending.delete(v),s.done.add(v),s.pending.size===0){var c=e.outrogroups;ct($e(s.done)),c.delete(s),c.size===0&&(e.outrogroups=null)}}else l-=1},!1)}if(l===0){var f=r.length===0&&n!==null;if(f){var o=n,u=o.parentNode;Tr(u),u.append(o),e.items.clear()}ct(t,!f)}else s={pending:new Set(t),done:new Set},(e.outrogroups??=new Set).add(s)}function ct(e,t=!0){for(var n=0;n<e.length;n++)H(e[n],t)}var Dt;function Ae(e,t,n,r,i,s=null){var l=e,a=new Map,f=(t&Wt)!==0;if(f){var o=e;l=o.appendChild(de())}var u=null,v=yr(()=>{var m=n();return Ht(m)?m:m==null?[]:$e(m)}),c,h=!0;function _(){d.fallback=u,Qr(d,c,l,t,r),u!==null&&(c.length===0?(u.f&ae)===0?Et(u):(u.f^=ae,He(u,null,l)):ye(u,()=>{u=null}))}var g=bt(()=>{c=p(v);for(var m=c.length,k=new Set,A=x,E=cn(),N=0;N<m;N+=1){var z=c[N],R=r(z,N),M=h?null:a.get(R);M?(M.v&&Fe(M.v,z),M.i&&Fe(M.i,N),E&&A.unskip_effect(M.e)):(M=$r(a,h?l:Dt??=de(),z,R,N,i,t,n),h||(M.e.f|=ae),a.set(R,M)),k.add(R)}if(m===0&&s&&!u&&(h?u=Z(()=>s(l)):(u=Z(()=>s(Dt??=de())),u.f|=ae)),m>k.size&&Wn(),!h)if(E){for(const[_e,S]of a)k.has(_e)||A.skip_effect(S.e);A.oncommit(_),A.ondiscard(()=>{})}else _();p(v)}),d={effect:g,items:a,outrogroups:null,fallback:u};h=!1}function Be(e){for(;e!==null&&(e.f&re)===0;)e=e.next;return e}function Qr(e,t,n,r,i){var s=(r&rr)!==0,l=t.length,a=e.items,f=Be(e.effect.first),o,u=null,v,c=[],h=[],_,g,d,m;if(s)for(m=0;m<l;m+=1)_=t[m],g=i(_,m),d=a.get(g).e,(d.f&ae)===0&&(d.nodes?.a?.measure(),(v??=new Set).add(d));for(m=0;m<l;m+=1){if(_=t[m],g=i(_,m),d=a.get(g).e,e.outrogroups!==null)for(const S of e.outrogroups)S.pending.delete(d),S.done.delete(d);if((d.f&ae)!==0)if(d.f^=ae,d===f)He(d,null,n);else{var k=u?u.next:f;d===e.effect.last&&(e.effect.last=d.prev),d.prev&&(d.prev.next=d.next),d.next&&(d.next.prev=d.prev),oe(e,u,d),oe(e,d,k),He(d,k,n),u=d,c=[],h=[],f=Be(u.next);continue}if((d.f&K)!==0&&(Et(d),s&&(d.nodes?.a?.unfix(),(v??=new Set).delete(d))),d!==f){if(o!==void 0&&o.has(d)){if(c.length<h.length){var A=h[0],E;u=A.prev;var N=c[0],z=c[c.length-1];for(E=0;E<c.length;E+=1)He(c[E],A,n);for(E=0;E<h.length;E+=1)o.delete(h[E]);oe(e,N.prev,z.next),oe(e,u,N),oe(e,z,A),f=A,u=z,m-=1,c=[],h=[]}else o.delete(d),He(d,f,n),oe(e,d.prev,d.next),oe(e,d,u===null?e.effect.first:u.next),oe(e,u,d),u=d;continue}for(c=[],h=[];f!==null&&f!==d;)(o??=new Set).add(f),h.push(f),f=Be(f.next);if(f===null)continue}(d.f&ae)===0&&c.push(d),u=d,f=Be(d.next)}if(e.outrogroups!==null){for(const S of e.outrogroups)S.pending.size===0&&(ct($e(S.done)),e.outrogroups?.delete(S));e.outrogroups.size===0&&(e.outrogroups=null)}if(f!==null||o!==void 0){var R=[];if(o!==void 0)for(d of o)(d.f&K)===0&&R.push(d);for(;f!==null;)(f.f&K)===0&&f!==e.fallback&&R.push(f),f=Be(f.next);var M=R.length;if(M>0){var _e=(r&Wt)!==0&&l===0?n:null;if(s){for(m=0;m<M;m+=1)R[m].nodes?.a?.measure();for(m=0;m<M;m+=1)R[m].nodes?.a?.fix()}Jr(e,R,_e)}}s&&we(()=>{if(v!==void 0)for(d of v)d.nodes?.a?.apply()})}function $r(e,t,n,r,i,s,l,a){var f=(l&tr)!==0?(l&ir)===0?Sr(n,!1,!1):ke(n):null,o=(l&nr)!==0?ke(i):null;return{v:f,i:o,e:Z(()=>(s(t,f??n,o??i,a),()=>{e.delete(r)}))}}function He(e,t,n){if(e.nodes)for(var r=e.nodes.start,i=e.nodes.end,s=t&&(t.f&ae)===0?t.nodes.start:n;r!==null;){var l=We(r);if(s.before(r),r===i)return;r=l}}function oe(e,t,n){t===null?e.effect.first=n:t.next=n,n===null?e.effect.last=t:n.prev=t}const Ft=[...` 	
\r\f \v\uFEFF`];function ei(e,t,n){var r=e==null?"":""+e;if(n){for(var i in n)if(n[i])r=r?r+" "+i:i;else if(r.length)for(var s=i.length,l=0;(l=r.indexOf(i,l))>=0;){var a=l+s;(l===0||Ft.includes(r[l-1]))&&(a===r.length||Ft.includes(r[a]))?r=(l===0?"":r.substring(0,l))+r.substring(a+1):l=a}}return r===""?null:r}function zt(e,t=!1){var n=t?" !important;":";",r="";for(var i in e){var s=e[i];s!=null&&s!==""&&(r+=" "+i+": "+s+n)}return r}function ti(e,t){if(t){var n="",r,i;return Array.isArray(t)?(r=t[0],i=t[1]):r=t,r&&(n+=zt(r)),i&&(n+=zt(i,!0)),n=n.trim(),n===""?null:n}return String(e)}function St(e,t,n,r,i,s){var l=e.__className;if(l!==n||l===void 0){var a=ei(n,r,s);a==null?e.removeAttribute("class"):e.className=a,e.__className=n}else if(s&&i!==s)for(var f in s){var o=!!s[f];(i==null||o!==!!i[f])&&e.classList.toggle(f,o)}return s}function it(e,t={},n,r){for(var i in n){var s=n[i];t[i]!==s&&(n[i]==null?e.style.removeProperty(i):e.style.setProperty(i,s,r))}}function nt(e,t,n,r){var i=e.__style;if(i!==t){var s=ti(t,r);s==null?e.removeAttribute("style"):e.style.cssText=s,e.__style=t}else r&&(Array.isArray(r)?(it(e,n?.[0],r[0]),it(e,n?.[1],r[1],"important")):it(e,n,r));return r}function Lt(e,t,n=t){Or(e,"change",r=>{var i=r?e.defaultChecked:e.checked;n(i)}),kn(t)==null&&n(e.checked),hn(()=>{var r=t();e.checked=!!r})}function On(e,t,n,r){var i=r,s=!0,l=()=>(s&&(s=!1,i=r),i),a;a=e[t],a===void 0&&r!==void 0&&(a=l());var f;return f=()=>{var o=e[t];return o===void 0?l():(s=!0,o)},f}const ni="5";typeof window<"u"&&((window.__svelte??={}).v??=new Set).add(ni);var ri=F('<div class="plaintext-section svelte-q4552b"><label for="plaintext" class="svelte-q4552b">Plaintext</label> <textarea id="plaintext" data-testid="plaintext-input" placeholder="Type letters A–Z..." class="svelte-q4552b"></textarea></div>');function ii(e,t){Me(t,!0);var n=ri(),r=T(b(n),2);xt("input",r,i=>t.oninput(i.currentTarget.value)),P(e,n),Pe()}At(["input"]);var si=F('<span class="placeholder svelte-uveiyz">Ciphertext appears here...</span>'),li=F('<span class="ct-char svelte-uveiyz"> </span>'),ai=F('<div class="ciphertext-section svelte-uveiyz"><label for="ciphertext" class="svelte-uveiyz">Ciphertext</label> <div id="ciphertext" class="ciphertext-chars svelte-uveiyz" data-testid="ciphertext-output" aria-label="Ciphertext" aria-readonly="true"><!></div></div>');function fi(e,t){Me(t,!0);const n="#c678dd",r="#56b6c2";let i=On(t,"highlight",3,null);var s=ai(),l=T(b(s),2),a=b(l);{var f=u=>{var v=si();P(u,v)},o=u=>{var v=Pn(),c=un(v);Ae(c,17,()=>t.ciphertext.split(""),xe,(h,_,g)=>{const d=B(()=>i()!=null&&g>=i().startA&&g<i().startA+i().length),m=B(()=>i()!=null&&g>=i().startB&&g<i().startB+i().length);var k=li();let A;var E=b(k);be(()=>{A=nt(k,"",A,{"background-color":p(d)?n:p(m)?r:void 0,color:p(d)||p(m)?"#1e1e1e":void 0}),ie(E,p(_))}),P(h,k)}),P(u,v)};tt(a,u=>{t.ciphertext.length===0?u(f):u(o,!1)})}P(e,s),Pe()}var oi=F("<div> </div>");function ui(e,t){const n=["#e06c75","#e5c07b","#61afef","#98c379"];let r=On(t,"swapPair",3,null);var i=oi();let s,l;var a=b(i);be(()=>{s=St(i,1,"card svelte-1s7zazm",null,s,{highlighted:r()!=null}),l=nt(i,"",l,{"background-color":r()!=null?n[r()]:void 0}),ie(a,t.letter)}),P(e,i)}var ci=F('<span class="legend-item svelte-1c30440"><span class="swatch svelte-1c30440"></span> </span>'),vi=F('<div class="legend svelte-1c30440"></div>'),hi=F('<div class="deck-section svelte-1c30440"><h2 class="deck-label svelte-1c30440">Current Deck State</h2> <!> <div class="deck svelte-1c30440" data-testid="deck"></div></div>');function di(e,t){Me(t,!0);const n=["#e06c75","#e5c07b","#61afef","#98c379"];let r=B(()=>{const f=new Array(t.deck.length).fill(null);if(t.lastTransformation)for(let o=0;o<t.lastTransformation.length;o++){const[u,v]=t.lastTransformation[o];f[u]=o,f[v]=o}return f});var i=hi(),s=T(b(i),2);{var l=f=>{var o=vi();Ae(o,21,()=>n,xe,(u,v,c)=>{var h=ci(),_=b(h);let g;var d=T(_);d.nodeValue=` Swap ${c+1}`,be(()=>g=nt(_,"",g,{"background-color":p(v)})),P(u,h)}),P(f,o)};tt(s,f=>{t.showHighlights&&f(l)})}var a=T(s,2);Ae(a,21,()=>t.deck,xe,(f,o,u)=>{{let v=B(()=>t.showHighlights?p(r)[u]:null);ui(f,{get letter(){return p(o)},get swapPair(){return p(v)}})}}),P(e,i),Pe()}function Nn(){return Array.from({length:26},(e,t)=>String.fromCharCode(65+t))}function pi(e,t){const n=[...e];for(const[r,i]of t)[n[r],n[i]]=[n[i],n[r]];return n}function _i(e,t,n){const r=t.toUpperCase(),i=n[r],s=pi(e,i);return{newDeck:s,ciphertextChar:s[0]}}function gi(e,t){let n=Nn(),r="",i=null;const s=[];for(const l of e){const a=l.toUpperCase();if(a>="A"&&a<="Z"){const f=_i(n,a,t),o=t[a];s.push({deck:f.newDeck,ciphertextChar:f.ciphertextChar,transformation:o}),i=o,n=f.newDeck,r+=f.ciphertextChar}}return{deck:n,ciphertext:r,lastTransformation:i,steps:s}}var mi=F('<div class="mini-card svelte-pj07a9"> </div>'),wi=F("<div> </div>"),bi=F('<div class="column svelte-pj07a9"><div class="col-label svelte-pj07a9"> </div> <!></div>'),yi=F('<div class="multi-deck svelte-pj07a9" data-testid="multi-deck"><div class="column svelte-pj07a9"><div class="col-label svelte-pj07a9">—</div> <!></div> <!></div>');function Ei(e,t){Me(t,!0);const n=["#e06c75","#e5c07b","#61afef","#98c379"],r=Nn();function i(o){const u=new Array(26).fill(null);for(let v=0;v<o.length;v++){const[c,h]=o[v];u[c]=v,u[h]=v}return u}var s=yi(),l=b(s),a=T(b(l),2);Ae(a,17,()=>r,xe,(o,u)=>{var v=mi(),c=b(v);be(()=>ie(c,p(u))),P(o,v)});var f=T(l,2);Ae(f,17,()=>t.steps,xe,(o,u)=>{const v=B(()=>i(p(u).transformation));var c=bi(),h=b(c),_=b(h),g=T(h,2);Ae(g,17,()=>p(u).deck,xe,(d,m,k)=>{const A=B(()=>t.showHighlights?p(v)[k]:null);var E=wi();let N,z;var R=b(E);be(()=>{N=St(E,1,"mini-card svelte-pj07a9",null,N,{highlighted:p(A)!=null}),z=nt(E,"",z,{"background-color":p(A)!=null?n[p(A)]:void 0}),ie(R,p(m))}),P(d,E)}),be(()=>ie(_,p(u).ciphertextChar)),P(o,c)}),P(e,s),Pe()}function xi(e){const t={};for(const s of e)t[s]=(t[s]??0)+1;const n={};let r=0,i="";for(const s of e)t[s]===1?i+=".":(s in n||(n[s]=String.fromCharCode(97+r),r++),i+=n[s]);return i}function Bt(e){let t=0;for(const n of e)n!=="."&&t++;return t/e.length}function Ai(e){const t=new Map;for(const n of e)t.set(n.pattern,(t.get(n.pattern)??0)+1);return t}function Si(e,t=new Map){return[...e].sort((n,r)=>{const i=(t.get(r.pattern)??0)-(t.get(n.pattern)??0);if(i!==0)return i;const s=Bt(r.pattern)-Bt(n.pattern);if(s!==0)return s;const l=r.pattern.length-n.pattern.length;return l!==0?l:n.startA-r.startA})}function ki(e){const t=[],n=e.length,r=Math.floor(n/2);for(let i=3;i<=r;i++){const s=new Map;for(let l=0;l<=n-i;l++){const a=xi(e.slice(l,l+i));if(!/[a-z]/.test(a)||a[0]==="."||a[a.length-1]===".")continue;const f=s.get(a);f?f.push(l):s.set(a,[l])}for(const[l,a]of s)for(let f=0;f<a.length;f++){const o=a[f];for(let u=f+1;u<a.length;u++){const v=a[u];v>=o+i&&t.push({pattern:l,startA:o,startB:v})}}}return t}var Ci=F('<p class="empty svelte-zq6m2r">No isomorphs found.</p>'),Ti=F('<button><span class="iso-header svelte-zq6m2r"><span class="iso-pattern svelte-zq6m2r"> </span> <span class="iso-count svelte-zq6m2r"> </span></span> <span class="iso-positions svelte-zq6m2r"> </span> <span class="iso-subs svelte-zq6m2r"><span class="sub-a svelte-zq6m2r"> </span> <span class="iso-sep svelte-zq6m2r">/</span> <span class="sub-b svelte-zq6m2r"> </span></span></button>'),Mi=F('<div class="isomorph-list svelte-zq6m2r"><!></div>');function Pi(e,t){Me(t,!0);let n=B(()=>Ai(t.isomorphs)),r=B(()=>Si(t.isomorphs,p(n)));function i(o){return t.selected!=null&&t.selected.startA===o.startA&&t.selected.startB===o.startB&&t.selected.pattern===o.pattern}var s=Mi(),l=b(s);{var a=o=>{var u=Ci();P(o,u)},f=o=>{var u=Pn(),v=un(u);Ae(v,17,()=>p(r),xe,(c,h)=>{const _=B(()=>i(p(h))),g=B(()=>t.ciphertext.slice(p(h).startA,p(h).startA+p(h).pattern.length)),d=B(()=>t.ciphertext.slice(p(h).startB,p(h).startB+p(h).pattern.length));var m=Ti();let k;var A=b(m),E=b(A),N=b(E),z=T(E,2),R=b(z),M=T(A,2),_e=b(M),S=T(M,2),Ze=b(S),Rn=b(Ze),In=T(Ze,4),qn=b(In);be(Dn=>{k=St(m,1,"iso-entry svelte-zq6m2r",null,k,{selected:p(_)}),ie(N,p(h).pattern),ie(R,`×${Dn??""}`),ie(_e,`@${p(h).startA??""} · @${p(h).startB??""}`),ie(Rn,p(g)),ie(qn,p(d))},[()=>p(n).get(p(h).pattern)??0]),xt("click",m,()=>t.onselect(p(_)?null:p(h))),P(c,m)}),P(o,u)};tt(l,o=>{p(r).length===0?o(a):o(f,!1)})}P(e,s),Pe()}At(["click"]);function Oi(e){let t=e|0;return()=>{t=t+1831565813|0;let n=Math.imul(t^t>>>15,1|t);return n=n+Math.imul(n^n>>>7,61|n)^n,((n^n>>>14)>>>0)/4294967296}}const kt=26,Ni=4;function Ri(e){return(e-1)%25+1}function Ii(){const e={};for(let t=0;t<kt;t++){const n=String.fromCharCode(65+t),r=[];for(let a=0;a<7;a++)r.push(Ri(t+1+a));const i=t%7,s=r[i],l=r.filter((a,f)=>f!==i);e[n]=[[0,s],[l[0],l[1]],[l[2],l[3]],[l[4],l[5]]]}return e}function qi(e,t,n){const r=[],i=new Set;for(;r.length<n;){const s=1+Math.floor(e()*(t-1));i.has(s)||(i.add(s),r.push(s))}return r}function Di(e){const n=[0,...qi(e,kt,Ni*2-1)];return[[n[0],n[1]],[n[2],n[3]],[n[4],n[5]],[n[6],n[7]]]}function Fi(e){return e.map(([n,r])=>n<r?[n,r]:[r,n]).sort((n,r)=>n[0]-r[0]||n[1]-r[1]).map(([n,r])=>`${n},${r}`).join(";")}function zi(e){const t=Oi(e),n={},r=new Set;for(let i=0;i<kt;i++){const s=String.fromCharCode(65+i);for(;;){const l=Di(t),a=Fi(l);if(!r.has(a)){r.add(a),n[s]=l;break}}}return n}var Li=F('<div class="app-layout svelte-1n46o8q"><main class="left-panel svelte-1n46o8q"><h1 class="svelte-1n46o8q">DeckLab</h1> <div class="controls svelte-1n46o8q"><button class="svelte-1n46o8q">Randomize Cipher</button> <label class="highlight-toggle svelte-1n46o8q"><input type="checkbox"/> Show swap highlights</label> <label class="highlight-toggle svelte-1n46o8q"><input type="checkbox"/> Show isomorphs</label></div> <!> <!> <!> <!></main> <div class="right-panel svelte-1n46o8q"><!></div></div>');function Bi(e,t){Me(t,!0);let n=V(Ne(Ii())),r=V(""),i=V(!0),s=V(!1),l=V(null),a=B(()=>gi(p(r),p(n))),f=B(()=>ki(p(a).ciphertext)),o=B(()=>p(l)?{startA:p(l).startA,startB:p(l).startB,length:p(l).pattern.length}:null);qr(()=>{p(a).ciphertext,U(l,null)});function u(){const S=Math.floor(Math.random()*4294967296);U(n,zi(S),!0)}var v=Li(),c=b(v),h=T(b(c),2),_=b(h),g=T(_,2),d=b(g),m=T(g,2),k=b(m),A=T(h,2);ii(A,{oninput:S=>U(r,S,!0)});var E=T(A,2);fi(E,{get ciphertext(){return p(a).ciphertext},get highlight(){return p(o)}});var N=T(E,2);di(N,{get deck(){return p(a).deck},get lastTransformation(){return p(a).lastTransformation},get showHighlights(){return p(i)}});var z=T(N,2);{var R=S=>{Pi(S,{get isomorphs(){return p(f)},get ciphertext(){return p(a).ciphertext},get selected(){return p(l)},onselect:Ze=>U(l,Ze,!0)})};tt(z,S=>{p(s)&&S(R)})}var M=T(c,2),_e=b(M);Ei(_e,{get steps(){return p(a).steps},get showHighlights(){return p(i)}}),xt("click",_,u),Lt(d,()=>p(i),S=>U(i,S)),Lt(k,()=>p(s),S=>U(s,S)),P(e,v),Pe()}At(["click"]);Yr(Bi,{target:document.getElementById("app")});
